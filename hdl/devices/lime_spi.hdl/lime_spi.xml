<!-- Lime SPI module is a no-control, no-data module, supporting
     two raw property ports, one for rx (always 0), and one for tx (always 1),
     with a shared reset
     -->
<HdlDevice language="vhdl">
  <ComponentSpec nocontrol='true'/>
  <!-- We have two raw property masters, the rx and tx workers for the xcvr chip -->
  <rawprop name='rprops' count='2' optional='true'/>
  <!-- The lime-specific signal bundle used by both tx and rx-->
  <devsignals count='2' optional='true' signals='lime-spi-signals'/>
  <supports worker='lime_dac'>
    <connect port="rawprops" to="rprops" index='1'/>
    <connect port="dev" to='dev' index='1'/>
  </supports>
  <supports worker='lime_adc'>
    <connect port="rawprops" to="rprops" index='0'/>
    <connect port="dev" to='dev' index='0'/>
  </supports>
  <!-- Signal names from the data sheet, in data sheet order
       We use the SPI in 4 pin mode, so SDIO is INPUT to the Lime
       Signals dedicated to rx or tx are directly used by the rx/tx device workers -->
  <Signal  Input="rx_clk_out"/> <!-- Pin 49 Output Directly from chip - not always connected -->
  <Signal Output="sen"/>        <!-- Pin 67 Input Serial enable Active LOW -->
  <Signal  Input="sdo"/>        <!-- Pin 68 Output Serial data output for reading -->
  <Signal Output="sdio"/>       <!-- Pin 69 Input Serial data input for addr + writing -->
  <Signal Output="sclk"/>       <!-- Pin 70 Input Serial clock -->
  <Signal Output="reset"/>      <!-- Pin 75 Shared reset signal. Active LOW -->

  <!-- Receive clocks from the lime chip hardware, maybe from the chip -->
  <Signal Input="rx_clk_in"/> <!-- could be rx_clk_out from the lime chip -->
  <Signal Input="tx_clk_in"/>
</HdlDevice>
