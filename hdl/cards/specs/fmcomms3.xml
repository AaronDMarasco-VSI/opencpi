<!-- ADI ad9361 FMC card, officially named AD_FMCOMMS3-EBZ
     This card definition maps the devices' signals to the slot's signals

     The ad9361 chip is supported by other device workers, in hdl/devices/ad9361*

     In addition to the ad9361 rx and lime tx devices, this "card" also has;
     - AD7291BCPZ 8 channel ADC for monitoring power supplies and temperation, on the I2C
     - M24C02-WDW6TP 256x8 EEPROM also on I2C
     - Several voltage regulators that are not programmable or observable except via the above ADC

     So we have 3 devices: ad9361 (SPI), ad7291(I2C), and stm_mc24C02(I2C)

     Since the ad9361 is such a multifunction device it uses multiple device workers

     ad9361_rx.hdl for the RF receiver
     ad9361_tx.hdl for the RF emitter
     ad9361_adc.hdl for the ADC
     ad9361_dac.hdl for the DAC
     ad9361_subdevice.hdl for sharing a few wires (including SPI) between these functions.

     While the ad9361 has lots of clocking and data options, none of them are restricted nor controlled by the fmcomms3
     since all the signals are wired directly to the FPGA except the crystal.
-->
<card type="fmc_lpc">
                                                  <!--ad9361 ad9361     
                                                        pin  name -->
  <device worker='ad9361_adc'>
    <Signal name='RX_FRAME_P'  slot='LA01_P_CC'/> <!--  G8   -->
    <Signal name='RX_FRAME_N'  slot='LA01_P_CC'/> <!--  G7   -->
    <Signal name='RX_D_P(0)'   slot='LA02_P'/>    <!--  H7   RX_D0_N -->
    <Signal name='RX_D_N(0)'   slot='LA02_N'/>    <!--  H8   RX_D0_P -->
    <Signal name='RX_D_P(1)'   slot='LA03_P'/>    <!--  G9   RX_D1_N -->
    <Signal name='RX_D_N(1)'   slot='LA03_N'/>    <!--  G10  RX_D1_P -->
    <Signal name='RX_D_P(2)'   slot='LA04_P'/>    <!--  H10  RX_D2_N -->
    <Signal name='RX_D_N(2)'   slot='LA04_N'/>    <!--  H11  RX_D2_P -->
    <Signal name='RX_D_P(3)'   slot='LA05_P'/>    <!--  D11  RX_D3_N -->
    <Signal name='RX_D_N(3)'   slot='LA05_N'/>    <!--  D12  RX_D3_P -->
    <Signal name='RX_D_P(4)'   slot='LA06_P'/>    <!--  C10  RX_D4_N -->
    <Signal name='RX_D_N(4)'   slot='LA06_N'/>    <!--  C11  RX_D4_P -->
    <Signal name='RX_D_P(5)'   slot='LA07_P'/>    <!--  H13  RX_D5_N -->
    <Signal name='RX_D_N(5)'   slot='LA07_N'/>    <!--  H14  RX_D5_P -->
  </device>

  <device worker='ad9361_dac'>
    <Signal name='FB_CLK_P'    slot='LA08_P'/>    <!--  G12  -->
    <Signal name='FB_CLK_N'    slot='LA08_N'/>    <!--  G13  -->
    <Signal name='TX_FRAME_P'  slot='LA09_P'/>    <!--  D14  -->
    <Signal name='TX_FRAME_N'  slot='LA09_N'/>    <!--  D15  -->
    <Signal name='TX_D_P(0)'   slot='LA11_P'/>    <!--  H16  TX_D0_N -->
    <Signal name='TX_D_N(0)'   slot='LA11_N'/>    <!--  H17  TX_D0_P -->
    <Signal name='TX_D_P(1)'   slot='LA12_P'/>    <!--  G15  TX_D1_N -->
    <Signal name='TX_D_N(1)'   slot='LA12_N'/>    <!--  G16  TX_D1_P -->
    <Signal name='TX_D_P(2)'   slot='LA13_P'/>    <!--  D17  TX_D2_N -->
    <Signal name='TX_D_N(2)'   slot='LA13_N'/>    <!--  D18  TX_D2_P -->
    <Signal name='TX_D_P(3)'   slot='LA10_P'/>    <!--  C14  TX_D3_N -->
    <Signal name='TX_D_N(3)'   slot='LA10_N'/>    <!--  C15  TX_D3_P -->
    <Signal name='TX_D_P(4)'   slot='LA14_P'/>    <!--  C18  TX_D4_N -->
    <Signal name='TX_D_N(4)'   slot='LA14_N'/>    <!--  C19  TX_D4_P -->
    <Signal name='TX_D_P(5)'   slot='LA15_P'/>    <!--  H19  TX_D5_N -->
    <Signal name='TX_D_N(5)'   slot='LA15_N'/>    <!--  H20  TX_D5_P -->
  </device>
  <device worker='ad9361_sub'>
    <Signal name='ENABLE'      slot='LA16_P'/>    <!--  G18  -->
    <Signal name='TXNRX'       slot='LA16_N'/>    <!--  G19  -->
    <Signal name='SYNC_IN'     slot='LA19_N'/>    <!--  H23  -->
    <Signal name='SPI_DI'      slot='LA27_P'/>    <!--  C26  -->
    <Signal name='SPI_CLK'     slot='LA26_N'/>    <!--  D27  -->
    <Signal name='RESETB'      slot='LA28_P'/>    <!--  H31  -->
    <Signal name='SPI_ENB'     slot='LA26_P'/>    <!--  D26  -->
    <Signal name='SPI_DO'      slot='LA27_N'/>    <!--  C27  -->
    <Signal name='DATA_CLK_P'  slot='LA00_P_CC'/> <!--  G11  -->
    <Signal name='DATA_CLK_N'  slot='LA00_N_CC'/> <!--  H11  -->
    <Signal name='REF_CLK'     slot=''/>
  </device>
  <device worker='ad9361_rx'>
    <Signal name='CTRL_IN(0)'  slot='LA24_P'/>    <!--  H28  CTRL_IN0 -->
    <Signal name='CTRL_IN(1)'  slot='LA24_N'/>    <!--  H29  CTRL_IN1 -->
    <Signal name='CTRL_IN(2)'  slot='LA25_P'/>    <!--  G27  CTRL_IN2 -->
    <Signal name='CTRL_IN(3)'  slot='LA25_N'/>    <!--  G28  CTRL_IN3 -->
    <Signal name='EN_AGC'      slot='LA19_P'/>    <!--  H22  -->
    <!-- the CTRL_OUT signals are sent to both rx and tx -->
    <Signal name='CTRL_OUT(0)' slot='LA20_P'/>    <!--  G21  CTRL_OUT0 -->
    <Signal name='CTRL_OUT(1)' slot='LA20_N'/>    <!--  G22  CTRL_OUT1 -->
    <Signal name='CTRL_OUT(2)' slot='LA21_P'/>    <!--  H25  CTRL_OUT2 -->
    <Signal name='CTRL_OUT(3)' slot='LA21_N'/>    <!--  H26  CTRL_OUT3 -->
    <Signal name='CTRL_OUT(4)' slot='LA22_P'/>    <!--  G24  CTRL_OUT4 -->
    <Signal name='CTRL_OUT(5)' slot='LA22_N'/>    <!--  G25  CTRL_OUT5 -->
    <Signal name='CTRL_OUT(6)' slot='LA23_P'/>    <!--  D23  CTRL_OUT6 -->
    <Signal name='CTRL_OUT(7)' slot='LA23_N'/>    <!--  D24  CTRL_OUT7 -->
  </device>
  <device worker='ad9361_tx'>
    <!-- the CTRL_OUT signals are sent to both rx and tx -->
    <Signal name='CTRL_OUT(0)' slot='LA20_P'/>    <!--  G21  CTRL_OUT0 -->
    <Signal name='CTRL_OUT(1)' slot='LA20_N'/>    <!--  G22  CTRL_OUT1 -->
    <Signal name='CTRL_OUT(2)' slot='LA21_P'/>    <!--  H25  CTRL_OUT2 -->
    <Signal name='CTRL_OUT(3)' slot='LA21_N'/>    <!--  H26  CTRL_OUT3 -->
    <Signal name='CTRL_OUT(4)' slot='LA22_P'/>    <!--  G24  CTRL_OUT4 -->
    <Signal name='CTRL_OUT(5)' slot='LA22_N'/>    <!--  G25  CTRL_OUT5 -->
    <Signal name='CTRL_OUT(6)' slot='LA23_P'/>    <!--  D23  CTRL_OUT6 -->
    <Signal name='CTRL_OUT(7)' slot='LA23_N'/>    <!--  D24  CTRL_OUT7 -->
  </device>
  <!-- the ad7291 and mc24c02 are just an I2C slave devices so there are no specific pins -->
  <device worker='ad7291'>
    <Signal name='ALERT' slot=''/>
    <Signal name='PD_RST_N' slot=''/>
  </device>
  <device worker='stm_mc24C02'/>
  <device worker='fmcomms3_i2c'>
    <Signal name='SCL'        slot='SCL'/>        <!--  C30 -->
    <Signal name='SDA'        slot='SDA'/>        <!--  C31 -->
  </device>
</card>
