<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
  <!-- This file was converted to xhtml by Writer2xhtml ver. 1.5.2. See http://writer2latex.sourceforge.net for more info. -->
  <head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <title>OCPI_ODT</title>
    <meta charset="UTF-8" />
    <meta content="" name="description" />
    <meta content="" name="keywords" />
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC" />
    <meta content="OCPI_ODT" name="DC.title" />
    <meta content="" name="DC.subject" />
    <meta content="" name="DC.description" />
    <meta content="James Kulp" name="DC.creator" />
    <meta content="2016-01-13T17:28:18.672610000" name="DC.date" />
    <meta content="en" name="DC.language" />
    <style media="all" type="text/css">
      body {font-family:Calibri,serif;font-size:13.333334px}
      span.Code {font-family:'Courier New',monospace;font-weight:bold;font-size:16.0px;background-color:transparent}
      span.DefaultParagraphFont {font-family:Arial,sans-serif;font-size:16.0px}
      a:link {font-family:Arial,sans-serif;font-size:16.0px;color:#0000ff;text-decoration:underline}
      a:visited {color:#800000;text-decoration:underline}
      a.Internet20link:link {font-family:Arial,sans-serif;font-size:16.0px;color:#0000ff;text-decoration:underline}
      a.Internet20link:visited {color:#800000;text-decoration:underline}
      p.ListNumber {margin-left:38.4px;margin-right:38.4px;margin-top:4.8px;margin-bottom:4.8px;border:none;padding:0;text-indent:-19.2px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Diagram {margin-left:0;margin-right:0;margin-top:5.7408px;margin-bottom:0;border:none;padding:0;text-align:center;font-family:Arial,serif;font-size:16.0px}
      p.Standard {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.TableHeading {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-weight:bold;font-size:16.0px}
      p.Revision {margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:9.333334px}
      p.Code {margin-left:24.0px;margin-right:0;margin-top:4.0032px;margin-bottom:0;border:none;padding:0;text-indent:0;text-align:left;font-family:'Courier New',monospace;font-weight:bold;font-size:14.666667px}
      p.TableContents {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:14.666667px}
      p.ListNumber2 {margin-left:48.0px;margin-right:48.0px;margin-top:3.8592px;margin-bottom:3.8592px;border:none;padding:0;text-indent:-24.0px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.ContentsHeading {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:8.016px;border:none;padding:0;text-align:center;font-family:'Liberation Sans',sans-serif;font-weight:bold;font-size:16.0px}
      p.Textbody {margin-left:0;margin-right:0;margin-top:0;margin-bottom:9.331201px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Caption {margin-left:0;margin-right:0;margin-top:9.6px;margin-bottom:14.400001px;border:none;padding:0;text-align:center;font-family:Arial,serif;font-style:italic;font-size:16.0px}
      p.Contents2 {margin-left:15.984px;margin-right:0;margin-top:0;margin-bottom:0;border:none;padding:0;text-indent:0;text-align:left;font-family:Calibri,serif;font-weight:bold;font-size:14.666667px}
      p.Contents1 {margin-left:0;margin-right:0;margin-top:8.016px;margin-bottom:0;border:none;padding:0;text-align:left;font-family:Calibri,serif;font-weight:bold;font-size:16.0px}
      p.IndentHang {margin-left:60.019196px;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-indent:-36.0192px;text-align:left;font-family:Arial,serif;font-style:normal;font-size:16.0px}
      p.ListBullet {margin-left:38.4px;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-indent:-19.2px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Body {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      h1 {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-weight:bold;font-size:18.666668px;clear:left}
      h2 {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-weight:bold;font-size:16.0px;clear:left}
      h3 {margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-size:16.0px;clear:left}
      h4 {margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-size:16.0px;clear:left}
      .listlevel1Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel2Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel3Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel4Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel5Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel6Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel7Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel8Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel9Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel1WWNum19 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel2WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel3WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel4WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel5WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel6WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel7WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel8WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel9WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel1WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel2WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel3WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
      .listlevel4WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel5WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel6WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
      .listlevel7WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel8WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel9WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
    </style>
  </head>
  <body dir="ltr">
    <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:37.333336px">OpenCPI<br />Component Development Guide</p>
    <p class="Standard" dir="ltr" style="text-align:center;font-size:18.666668px"> </p>
    <p class="Standard" dir="ltr" style="font-size:18.666668px"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr" style="font-weight:bold;font-size:29.333334px;color:#ff0000">DRAFT</p>
    <p class="Standard" dir="ltr" style="font-weight:bold;color:#ff0000"> </p>
    <p class="Standard" dir="ltr" style="font-weight:bold;color:#ff0000"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr" style="page-break-before:always;margin-top:0;margin-bottom:0;text-align:center;font-style:italic">Revision History</p>
    <table cellspacing="0" dir="ltr" id="Table1table" style="margin-top:0;margin-bottom:0;margin-left:auto;margin-right:auto;width:535.6704px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Revision</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Description of Change</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Date</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.01</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Creation</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2010-06-21</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.02</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add ocpisca information and HDL application information</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2010-08-05</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.03</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add more detail to HDL building, and general editorial improvements</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2011-03-28</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.1</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Editing, platform and device aspects of ocpigen, HDL details</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2011-08-01</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.2</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Update for latest HDL details</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-03-12</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.3</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Rename document, add VHDL coding details and ocpihdl utility</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-06-15</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.4</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add new and complete assembly and container info, and add two new ocpihdl functions</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-11-06</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.5</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">HDL coding practices, more HDL platform information</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-12-10</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.6</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Convert to ODT format, add more clarity for parameter properties and readonly properties</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2014-03-31</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.7</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Use standard template., minor updates, add generic OWD content.</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2015-02-27</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.8</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Incorporate the authoring model reference content into this document</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2015-10-31</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.9</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">New section on projects removed the HDL content to a different doc, removed authors cleaned up and refreshed all content.</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2016-01-11</p>
          </td>
        </tr>
      </tbody>
    </table>
    <div id="TableofContents1">
      <p class="ContentsHeading" dir="ltr">Table of Contents</p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">1 </span><a href="#toc0">References</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">2 </span><a href="#toc1">Overview</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">3 </span><a href="#toc2">Worker Development Introduction</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.1 </span><a href="#toc3">A simple example worker</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">4 </span><a href="#toc4">Authoring Models</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.1 </span><a href="#toc5">Requirements for all authoring models</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.2 </span><a href="#toc6">Control Plane Introduction</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.3 </span><a href="#toc11">Software Execution Model</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">5 </span><a href="#toc15">Quick XML Introduction</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">6 </span><a href="#toc16">Component Specifications (in OCS XML files)</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.1 </span><a href="#toc17">ComponentSpec top-level element</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.2 </span><a href="#toc20">Properties element of ComponentSpec elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.3 </span><a href="#toc21">Property element of ComponentSpec or Properties elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.4 </span><a href="#toc38">Port element of ComponentSpec elements</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">7 </span><a href="#toc44">Property Value Syntax and Ranges</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.1 </span><a href="#toc45">Values of unsigned integer types:  uchar, ushort, ulong, ulonglong</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.2 </span><a href="#toc46">Values of signed integer types:  short, long, longlong</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.3 </span><a href="#toc47">Values of the type:  char</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.4 </span><a href="#toc48">Values of the types:  float and double</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.5 </span><a href="#toc49">Values of the type:  bool</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.6 </span><a href="#toc50">Values of the type:  string</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.7 </span><a href="#toc51">Values in a sequence type</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.8 </span><a href="#toc52">Values in an array type</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.9 </span><a href="#toc53">Values in multidimensional types</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.10 </span><a href="#toc54">Values in struct types</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">8 </span><a href="#toc55">Protocol Specifications (in OPS XML files)</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.1 </span><a href="#toc56">Protocol element as top level element.</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.2 </span><a href="#toc62">Protocol Specification (OPS) examples</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">9 </span><a href="#toc63">Worker Descriptions (in OWD XML files)</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">9.1 </span><a href="#toc64">XML Attributes of the top-level XYZWorker element.</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">9.2 </span><a href="#toc70">Property and SpecProperty child elements in the OWD</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">9.3 </span><a href="#toc76">Built-in parameters of all workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">9.4 </span><a href="#toc80">Port Elements of XYZWorker elements</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">10 </span><a href="#toc82">The Worker Makefile</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">10.1 </span><a href="#toc83">Parameter Properties in Worker Makefiles</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">10.2 </span><a href="#toc85">Specifying Parameters using Build Configuration XML files</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">11 </span><a href="#toc88">The Worker Source files</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">11.1 </span><a href="#toc89">How Parameter Value Settings Appear in Source Code.</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">12 </span><a href="#toc90">Component Libraries</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">12.1 </span><a href="#toc91">The Component Library Makefile</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">12.2 </span><a href="#toc92">Library Exports</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">13 </span><a href="#toc93">Developing Workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">13.1 </span><a href="#toc94">Creating Workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">13.2 </span><a href="#toc95">Editing Workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">13.3 </span><a href="#toc96">Building Workers</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">14 </span><a href="#toc97">Developing OpenCPI Assets in Projects</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">14.1 </span><a href="#toc98">Using projects</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">14.2 </span><a href="#toc99">The ocpidev tool for managing project assets.</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">14.3 </span><a href="#toc100">The project Makefiles</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">14.4 </span><a href="#toc101">The Project.mk File for project-wide variable settings</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">14.5 </span><a href="#toc102">Project Exports</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">15 </span><a href="#toc105">Environment Variables used in Component Development</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">16 </span><a href="#toc106">Tools used in Component Development</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">16.2 </span><a href="#toc108">ocpigen: the OpenCPI tool for code and metadata generation</a></p>
    </div>
    <h1 dir="ltr" id="toc0"><span class="SectionNumber">1 </span><a id="Toc141318608"></a><a id="Toc141837257"></a><a id="Toc224890089"></a><a id="Toc245388431"></a><a id="RefHeading53281790153948"></a>References</h1>
    <p class="Standard" dir="ltr">This document depends on several others.  Primarily, it depends on the “OpenCPI Generic Authoring Model Reference Manual”, which describes concepts and definitions common to all OpenCPI authoring models.  This document also refers to concepts and definitions in the HDL and RCC authoring model reference documents.</p>
    <table cellspacing="0" dir="ltr" id="Table2table" style="margin-top:0;margin-bottom:0;margin-left:-6.336px;margin-right:auto;width:575.20325px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Title</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Published By</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Link</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI Technical Summary</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/ts.pdf">http://www.opencpi.org/doc/ts.pdf</a></p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI RCC Development Guide</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/rccamr.pdf">http://www.opencpi.org/doc/rccamr.pdf</a></p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI HDL Development Guide</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/hdlamr.pdf">http://www.opencpi.org/doc/hdlamr.pdf</a></p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table <a id="seqrefTable0">1</a>:  References to Related Documents</p>
    <h1 dir="ltr" id="toc1"><span class="SectionNumber">2 </span><a id="Toc224890090"></a><a id="Toc245388432"></a><a id="RefHeading53301790153948"></a>Overview</h1>
    <p class="Standard" dir="ltr">This document describes how to create OpenCPI component implementations (a.k.a. <span style="font-style:italic">workers</span>) in a component library, so that they are available for OpenCPI application developers and users.  It introduces a kit of tools to specify and develop OpenCPI workers in any supported <span style="font-style:italic">authoring model </span><span style="font-style:normal">(language and API)</span>.  It also describes how to create, build, and manage libraries of heterogeneous components (components that each may have multiple implementations/workers).</p>
    <p class="Standard" dir="ltr">While this document describes tools and processes to development component libraries in general, other documents describe the process of developing workers for specific authoring models, which currently include <span style="font-style:italic;font-weight:bold">RCC</span> (C and C++ workers for software targets), <span style="font-style:italic;font-weight:bold">HDL</span> (VHDL workers for FPGAs), and <span style="font-style:italic;font-weight:bold">OCL</span> (OpenCL workers for GPUs).</p>
    <p class="Standard" dir="ltr">We refer to the set of tools, scripts, documents and libraries used for developing components and workers in libraries as the: <span style="font-style:italic;font-weight:bold">OpenCPI Component Development Kit</span> (CDK).  The CDK is not an IDE (although integration with the Eclipse IDE is available elsewhere) but rather is a set of commands, “make” and “shell” level tools, and scripts that support the development process.  The CDK relies on several conventional tools, including GNU “make”, and other basic POSIX command-line tools.</p>
    <p class="Standard" dir="ltr">The CDK also includes tools specific to OpenCPI that support heterogeneous code generation.and component testing.  These tools are usually used indirectly, using the provided “make” scripts to build component libraries of workers (heterogeneous implementations), and building workers in each of the available authoring models.</p>
    <p class="Standard" dir="ltr">The OpenCPI CDK also relies on technology-specific compilers (e.g. gcc) and (FPGA) synthesis and simulation tools (e.g. Xilinx XST and Isim, Altera Quartus, Modelsim etc.).  These tools are a mix of open-source/free and commercially available.</p>
    <p class="Standard" dir="ltr">Several key concepts are described in the following sections, followed by the development process for creating component libraries.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Component Specification:</span>  an XML file that describes a component in such a way that it may be implemented using different languages and APIs for different processing technologies and environments.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Protocol Specification:  </span><span style="font-style:normal;font-weight:normal">an XML file that describes the allowable data messages and payloads that are used for communication between components.</span></p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Authoring Model:</span>  one of several ways of creating component implementations in a specific language using a specific API between the component and its execution environment.  Existing models described below are RCC, HDL and OCL.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Worker:</span>  a specific implementation of a <span style="font-style:italic">component specification</span>, with the source code written according to an <span style="font-style:italic">authoring model</span>.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Component Library:</span>  a collection of <span style="font-style:italic">component specifications</span> and <span style="font-style:italic">workers</span> that can be built, exported and installed to support applications.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Project:</span>  a work area in which to develop OpenCPI components, libraries, applications, and other platform and device oriented assets.</p>
    <h1 dir="ltr" id="toc2" style="font-family:ARial,sans-serif"><span class="SectionNumber">3 </span><a id="RefHeadingToc299911282573294"></a>Worker Development Introduction</h1>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">This section introduces <span style="color:#000000">the aspects of the worker development process that are common across all types of workers and authoring models.  There are separate documents for each authoring model which describe aspects in more detail that are specific to each authoring model, including languages and APIs.  After this section introduces the general development process, following sections provide details for the contents of the various directories and files that are involved.</span></p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">A worker is developed in its own directory, based on a component specification that usually exists in a file elsewhere.  The component specification is the basis for multiple potential alternative implementations (workers).  A component specification is an XML file called an OCS (OpenCPI Component Specification), which is described in detail in section [xxx] below.  The OCS also typically references one or more OPS (OpenCPI Protocol Specification) files to indicate the types of messages allowed to flow into and out of implementations of the spec in the OCS.</p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">Workers are usually developed in a component library (a collection of workers), with worker directories being subdirectories of the library's directory, and the OCS (and OPS) for the worker is normally found in the <span class="Code">specs</span> subdirectory of the library.</p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">Some authoring models (e.g. RCC) support creating a single binary file (“artifact”) that implements multiple workers, but usually a single worker implementation is in its own subdirectory and when compiled, results in a single binary (artifact) file. The names of the worker directories have a suffix indicating the authoring model used for that implementation. Thus if we have a component whose spec file (OCS) is named “<span class="Code">xyz-spec.xml</span>”, the RCC authoring model implementation of that component will typically be in a worker directory called “<span class="Code">xyz.rcc</span>”.  The worker's directory must combine the name of the worker (before the “<span class="Code">.</span>”) and the authoring model used (after the “<span class="Code">.</span>”).  Thus a worker named “<span class="Code">xyz</span>” written using the authoring model named “<span class="Code">rcc</span>”, would exist in a directory named “<span class="Code">xyz.rcc</span>”.</p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">The names of the spec file and the worker's directory do not have to match, but it is common and allows the use of more defaults to simplify the process. If there were an HDL implementation of the same component, it would be in the subdirectory “<span class="Code">xyz.hdl</span>”. Note that these names (“xyz”) are not required to be the names that occur in the programming language source files (e.g. C, C++, Verilog, etc.), although that is usually the simplest.  An “<span class="Code">xyz.test</span>” directory, at the same level as the worker directories, should be created for unit tests common to all implementations of the “xyz” component “spec” file.</p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">It is possible to have multiple workers implementing the same component specification, written in the same authoring model.  In this case the worker names must be different and at least one of them must be different from the name implied by the component specification.  E.g. one might have “<span class="Code">big_fast_xyz.rcc</span>” and “<span class="Code">small_slow_xyz.rcc</span>”, both implementing the OCS in “<span class="Code">xyz-spec.xml</span>” </p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">After the OCS exists, a worker is created (usually in a library) by creating a directory and populating it with an initial version of several files that can be edited later.  The <span class="Code">ocpidev</span> tool described in the [ocpidev] section below is used to do this.  The initial files created that are then edited as necessary include:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr" style="font-family:ARial,sans-serif">OpenCPI Worker Description File (the OWD XML file, <span class="Code">xyz.xml</span>)</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr" style="font-family:ARial,sans-serif">Worker Makefile (named <span class="Code">Makefile</span>)</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr" style="font-family:ARial,sans-serif">Worker source code file(s)</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">The first file (OWD) is an XML file that describes the worker itself, and internally refers to the OCS that the worker is implementing.  The second file is a “make” file that describes how the worker is built, and the third is the source code file for the worker's actual logic.</p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif">The OWD XML file has the name of the worker and the <span class="Code">.xml</span> suffix.  The primary source code file has the name of the worker, with the typical suffix for the programming language used.  Thus the primary source file for the <span class="Code">xyz.rcc</span> worker written in the C language would be <span class="Code">xyz.rcc/xyz.c.</span><span class="DefaultParagraphFont">  Other source files may also be used <span style="font-style:italic">in addition</span> to the primary one.</span></p>
    <p class="Standard" dir="ltr" style="font-family:ARial,sans-serif"><span class="DefaultParagraphFont">All three of these file types have initial, automatically generated, skeletal contents that may be subsequently edited by the developer as required.  Frequently only the source code files require editing.  These files are described in detail below.</span></p>
    <p class="Standard" dir="ltr"><span style="font-family:ARial,sans-serif">During the process of building workers, using the built-in scripts and make files, two types of subdirectories are automatically created and populated in the worker directory.</span></p>
    <p class="Standard" dir="ltr"><span style="font-family:ARial,sans-serif">The first, called “</span><span class="Code">gen</span><span style="font-family:ARial,sans-serif">”, holds automatically </span><span style="font-family:ARial,sans-serif;font-style:italic">generated</span><span style="font-family:ARial,sans-serif"> source code and XML files that are target-independent (architecture independent).  The second type, with the name “</span><span class="Code">target-<span style="font-style:italic">&lt;target&gt;</span></span><span style="font-family:ARial,sans-serif">” holds architecture-specific object/binary files usually generated for or by a compiler for a specific target.  In this case “</span><span class="Code"><span style="font-style:italic">&lt;target&gt;</span></span><span style="font-family:ARial,sans-serif">” is the name of the compilation target being built, such as </span><span class="Code"><span style="font-style:italic">linux-c6-x86_64</span><span style="font-family:ARial,sans-serif;font-style:italic"> </span></span><span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">for Centos6 linux running on a 64-bit x86 processor.  Both types of directories are moved by “make clean”, since they can always be regenerated and are never manually edited.  More details about these targets is in the Developing Workers section below.</span></span></p>
    <p class="Standard" dir="ltr"><span class="DefaultParagraphFont"><span style="font-family:ARial,sans-serif;font-style:normal;font-weight:normal">In the sections below, a simple example will be given, followed by a detailed description of the component specification files (OCS), followed by the three types of worker files just introduced.</span></span></p>
    <h2 dir="ltr" id="toc3"><span class="SectionNumber">3.1 </span><a id="RefHeadingToc299931282573294"></a>A simple example worker</h2>
    <p class="Standard" dir="ltr">Here is a one-page example of a software worker written in C++.  The worker's function is to add a constant (called the biasValue), to each unsigned 32 bit integer at its input, and put the value at its output, one message at a time.  The OCS (component spec XML file) is named “<span class="Code">specs/bias-spec.xml</span>”, and contains</p>
    <p class="Code" dir="ltr">&lt;ComponentSpec&gt;<br />  &lt;property name='biasValue' writable='true' type='ulong'/&gt;<br />  &lt;port name='in' protocol='u32-proto'/&gt;<br />  &lt;port name='out' producer='true' protocol='u32-proto'/&gt;<br />&lt;/ComponentSpec&gt;</p>
    <p class="Standard" dir="ltr">The OPS (protocol spec XML file) indicated by the “<span class="Code">protocol</span>” attributes in the OCS, would be found in the file <span class="Code">specs/u32-proto.xml</span>, and contains:</p>
    <p class="Code" dir="ltr">&lt;Protocol&gt;   &lt;Operation name='info'&gt;     &lt;Argument name='values' type='ulong' sequenceLength='0'/&gt;   &lt;/Operation&gt; &lt;/Protocol&gt;</p>
    <p class="Standard" dir="ltr">For the “<span class="Code">bias.rcc</span>” worker, which implements the above spec using the C++ language, the OWD XML file is named “<span class="Code">bias.rcc/bias.xml</span>”, and contains:</p>
    <p class="Code" dir="ltr">&lt;RCCWorker spec='bias-spec' language='c++'/&gt;</p>
    <p class="Standard" dir="ltr">This OWD indicates that the authoring model is RCC, the spec is “<span class="Code">bias-spec</span>”, and the language is C++.  The source file that implements this <span class="Code">bias.rcc</span> worker (simplified without header files or error checking), is in the file named “<span class="Code">bias.cc</span>”, and contains:</p>
    <p class="Standard" dir="ltr"><span class="Code">class BiasWorker : public BiasWorkerBase {<br />  RCCResult run(bool /*timedout*/) {<br />    size_t length           = in.info().values().size();<br />    const uint32_t *inData  = in.info().values().data();<br />    uint32_t *outData       = out.info().values().data();<br /><br />    for (unsigned n = length; n; n--)<br />      *outData++ = *inData++ + properties().biasValue;<br />    out.info().values().resize(length);<br />    out.setOpCode(in.opCode());<br />    return length ? RCC_ADVANCE : RCC_ADVANCE_DONE;<br />  }<br />};</span></p>
    <p class="Standard" dir="ltr">The Makefile in the worker's directory, automatically generated, would be:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/worker.mk</p>
    <p class="Standard" dir="ltr">If the worker was written to the HDL model, in the VHDL language, its OWD would be:</p>
    <p class="Code" dir="ltr">&lt;HDLWorker spec='bias-spec' language='vhdl'/&gt;</p>
    <p class="Standard" dir="ltr">See the HDL Development Guide document for VHDL examples.</p>
    <h1 dir="ltr" id="toc4"><span class="SectionNumber">4 </span><a id="RefHeadingToc15647178005046"></a>Authoring Models</h1>
    <p class="Body" dir="ltr">This section introduces the concept of an OpenCPI authoring model, and defines aspects common to all authoring models.  It specifies the concepts, lifecycle states and related operations, and XML metadata used and manipulated by OpenCPI tools and OpenCPI component developers.</p>
    <p class="Body" dir="ltr">We use the term “component” to encompass the functionality and abstract interface aspects.  We use the term “worker” to mean a particular implementation of a component written (or “authored”) using some programming language source code.</p>
    <p class="Body" dir="ltr">We define an authoring model casually as “a way to write a worker”.  A key goal is to support different processing technologies such as General Purpose Processors (GPPs), Field-Programmable Gate Arrays (FPGAs), Digital Signal Processors (DSPs), or Graphics Processors (GPUs).</p>
    <p class="Body" dir="ltr">Since there is no one language or API that allows all these processing technologies to be utilized with efficiency and utilization comparable to their “native” languages and tool environments, we define a set of “authoring models” that achieve native efficiency with sufficient commonality with other models to be able to:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Implement an OpenCPI worker for a class of processors in a language that is efficient and natural to users of such a processor</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Be able to switch (replace) the authoring model and processing technology used for a particular component in a component-based OpenCPI application without affecting the other components of the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Combine workers (component implementations) into an application using a multiplicity of authoring models and processing technologies.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">An OpenCPI Authoring model consists of these specifications:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">An XML document structure/schema/definition to describe the aspects of the implementation that are specific to the authoring model being used and needed by tools and runtime infrastructure software.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Three sets of programming language interfaces used for interactions between the worker itself and its environment:</p>
      </li>
    </ul>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Control and configuration interfaces for run-time lifecycle control and configuration, sometimes referred to as “the control plane”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Data passing interfaces used for workers to consumer/produce data from/to other workers in the application (of whatever model on whatever processor), sometimes referred to as “the data plane”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Local service interfaces used by the worker to obtain various services locally available on the processor on which the worker is running.</p>
      </li>
    </ol>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Each authoring model also specifies how a worker is built (compiled, synthesized, linked) and packaged, to be ready for execution in an application.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc5"><span class="SectionNumber">4.1 </span><a id="RefHeading87951790153948"></a><a id="Toc141231891"></a>Requirements for all authoring models</h2>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Enable/support well-defined data plane interoperability with other authoring models</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Define its OpenCPI Worker Description (OWD) XML format.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Define programming language interfaces for control, data, and local services.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Must define the packaging for delivering ready-to-execute workers.</p>
      </li>
    </ul>
    <p class="ListBullet" dir="ltr">The currently supported authoring models are:</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">RCC</span> (for <span style="font-style:italic;font-weight:bold">R</span>esource-<span style="font-style:italic;font-weight:bold">C</span>onstrained <span style="font-style:italic;font-weight:bold">C</span>-language) is an authoring model used in the C or C++ language workers that execute on general purposes processors (GPPs).  The C language model is a lean model well-suited to small resource-constrained processors such as DSPs or micro-controllers.  The C++ variant is more powerful and more compact, carries a slightly higher resource footprint, and of course requires a C++ compiler.  Developing workers according to the RCC authoring model (either C or C++) is fully described in the RCC Development Guide.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">HDL</span> (for <span style="font-style:italic;font-weight:bold">H</span>ardware <span style="font-style:italic;font-weight:bold">D</span>escription <span style="font-style:italic;font-weight:bold">L</span>anguage) is an authoring model using the VHDL (and less-supported Verilog) languages and is targeted at FPGAs.  Developing workers according to the HDL authoring model is fully described in the HDL Development Guide.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">OCL</span> (for <span style="font-style:italic;font-weight:bold">O</span>pen<span style="font-style:italic;font-weight:bold">CL</span>) is an authoring model using the OpenCL (C subset/superset) language targeting graphics processors.  It is fully described in the OCL Development Guide.</p>
    <p class="Standard" dir="ltr"> </p>
    <h2 dir="ltr" id="toc6"><span class="SectionNumber">4.2 </span><a id="RefHeadingToc15649178005046"></a>Control Plane Introduction</h2>
    <p class="Body" dir="ltr">The material in this introduction is common to all authoring models.  We use the term “Control Plane” to encompass the various aspects of how control software, usually running in a centralized “host” processing environment, can control worker instances at runtime.  The entity that is doing the controlling (or managing) is the “control agent” or “control application”, or simply “control software”.  The control software uses all controllable worker instances the same, regardless of where they are running, on what type of processing technology, and with what authoring model they were written.</p>
    <p class="Body" dir="ltr">While control software sees a uniform view of how to control workers, each authoring model defines how this is accomplished from the point of view of the worker itself.  In particular, each authoring model defines how the two key aspects of control are made visible to the worker's source code:  <span style="font-style:italic">LifeCycle control</span> and <span style="font-style:italic">Configuration Property access</span>.  The documents describing each authoring model give additional interface details of these interactions, but they all follow a common pattern which is defined here.</p>
    <h3 dir="ltr" id="toc7"><span class="SectionNumber">4.2.1 </span>LifeCycle State Model</h3>
    <p class="Body" dir="ltr">Most component-based systems have an explicit lifecycle model, where workers are instantiated and then managed, according to a lifecycle state machine.  Normally all components in the application are managed together and they all progress through the lifecycle together.  However, there are cases where control software must control (start/stop etc.) some components in the application different than others.</p>
    <p class="Body" dir="ltr">The LifeCycle model is defined by the “control states” each worker may be in, and “control operations” which generally change the state a worker is in (effecting a state transition).  These are shown in the following diagram.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img001.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img001.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:453.88797px;height:302.9664px" /></p>
    <p class="Caption" dir="ltr">Diagram 1:  Control States and Operations</p>
    <h3 dir="ltr" id="toc8"><span class="SectionNumber">4.2.2 </span>LifeCycle Control Operations</h3>
    <p class="Body" dir="ltr">Control operations have default implementations (that perform the state transitions and nothing else):  workers only need implement the ones that have custom behavior.  A good example is the “initialize” control operation.  If the worker has no runtime initialization to perform, it can avoid any implementation (or even an empty “stub”).  Each authoring model describes which control operations must have implementations, but generally they are optional.</p>
    <p class="Body" dir="ltr">Control operations may have either transient or fatal errors.  Transient errors imply that no state change occurred, and the operation can be retried.  Fatal errors imply that the worker instance has become unusable and probably needs to be reloaded.</p>
    <p class="Body" dir="ltr">Control software is required to issue control operations correctly, in sequence, so workers can avoid checking for valid states and transitions. State descriptions are listed in the table below:</p>
    <table cellspacing="0" dir="ltr" id="Table16table" style="margin-top:19.2px;margin-bottom:0;width:624.0px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Control <br />State</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Previous State(s)</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:94.0688px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Allowable<br />Operations</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:308.3296px">
            <p class="TableHeading" dir="ltr" style="font-weight:bold">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Exists</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr" style="font-style:italic">Initial state<span style="font-weight:bold"> </span><span style="font-weight:normal">or all (except </span><span style="font-weight:bold">unusable),</span><span style="font-weight:normal"> after release</span></p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr" style="font-weight:normal">Initialize</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr" style="font-weight:normal">Follows instantiation or a successful <span style="font-style:italic;font-weight:bold">release</span><span style="font-style:italic">.<br /></span><span style="font-style:normal">Worker is loaded (if necessary), not fully initialized, with no properties valid, and property access not allowed.</span></p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Initialized</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Exists</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Start, Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Initialization complete.  Follows <span style="font-style:italic;font-weight:bold">initialize. </span> In a stable state “ready to start doing work”, not “operational”.  Properties can be read and/or written.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Initialized, Suspended</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Stop, (done), Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member doing normal work using properties and data at ports.  Properties can be read or written.  Follows <span style="font-style:italic;font-weight:bold">start</span>.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Suspended</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">(Re)start, release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member not operating, will not produce or consumer at data ports.  Properties can be read or written.  Can be resumed via <span style="font-style:italic;font-weight:bold">start</span>.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Finished</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member is finished and will not produce or consumer at data interfaces.  Properties can be read or written.  Entered autonomously.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Unusable</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">All (fatal errors)</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">none</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Fatal error state, may not be ever reusable without reloading (container-dependent).</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 2:  Control States</p>
    <h3 dir="ltr" id="toc9"><span class="SectionNumber">4.2.3 </span>Configuration Properties</h3>
    <p class="Standard" dir="ltr">Configuration Properties are worker-defined writeable and/or readable values that enable control and monitoring of workers by control software.  They are logically the “knobs and meters” of the worker's “control panel”.  All authoring models provide an interface enabling workers to access (read and write the values) these values.</p>
    <p class="Standard" dir="ltr">Some authoring models define a flat/linear “configuration address space” where the configuration properties are accessed by accessing this memory space, roughly as a data structure or “register file”.</p>
    <p class="Standard" dir="ltr">The component specification for the worker, as a description that applies to all the implementations of that specification, contains the description of configuration properties considered part of the “component’s external behavior”: that must exist in all implementations (all workers meeting that spec).  However, each worker may also add to this set of configuration properties and define <span style="font-style:italic">implementation-specific</span> configuration properties. These are sometimes useful for debugging or when the initial configuration specified for the whole application might list some of these properties to properly configure a particular implementation.</p>
    <p class="Standard" dir="ltr">Each configuration property is defined with a name and data type from a limited set of data types that are sensible across many authoring models and processing technologies.  Although each configuration property may also be variable in length (e.g. a string, or a variable length sequence of numbers), there is always a defined maximum length for any such property value.  This enables components and workers to be compliant with a variety of component system standards, and enables authoring models for lean and embedded technologies.</p>
    <p class="Standard" dir="ltr">The available data types are scalar types, structures, multidimensional arrays of those types, and single dimension variable length sequences of the same types.  The scalar data types are:  Bool, Char, Double, Float, Short, Long, UChar, ULong, UShort, LongLong, ULongLong, Enum, and String.  The “Char”, “Short”, “Long”, and “LongLong” types and their unsigned counterparts are 8, 16, 32, and 64 bit  signed and unsigned integer values respectively.  The “Float” and “Double” types are consistent with 32 and 64 bit IEEE floating-point types, and the “String” type is a null terminated string with a defined maximum length.  Sequences also have a defined maximum length.  “Enum” types are represented by ULong values, but are associated with defined string names.</p>
    <p class="Standard" dir="ltr">Beyond data type, the configuration properties also have attributes that define whether the value can only be set at initialization time (an “initial” property) , set any time during execution (a “writable” property), or never set (read-only).  Similarly, a configuration property value can be described as “volatile” (the value may be changed by the worker during execution) or static (“readable”) and will not change unless written by control software.  This covers many patterns of use and optimizations for such values, and results in 9 valid combinations of readability and writability.</p>
    <p class="Standard" dir="ltr">As mentioned earlier, a worker (in the OWD XML) may have additional properties beyond what is specified in the OCS XML:  commonly extra status information for debugging.  Furthermore, an OWD may add to the accessibility of a property specified in the OCS, e.g. make a property readable that was not readable in the OCS, for debug purposes (e.g. to read back what was written).  The accessibility <span style="font-style:italic">added</span> by the OWD results in the implementation having a superset of what was “promised” in the OCS.</p>
    <h3 dir="ltr" id="toc10"><span class="SectionNumber">4.2.4 </span>Properties that are in fact build-time parameters</h3>
    <p class="Standard" dir="ltr">While the OCS specifies properties and their initialization-time and run-time accessibility, an implementation OWD can further declare that a property is actually a compile time parameter of the implementation.  This is not allowed (and does not make sense) for properties that are “writable” at runtime.  When an implementation has properties that are parameters, it means that the implementation must be built (compiled, synthesized, elaborated) for specific values of such properties.  This has three implications:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">An application can only use the worker if it is built for a property value that matches what is requested as an “initial” property in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Binary component libraries may have multiple builds (binary artifacts) for the same worker, but with different combinations of parameter values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The component developer must decide which combinations of parameter values to build, in order to make alternative settings of such parameters available.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">This parameter feature allows implementations to have compile time optimizations for certain parameter values, and also allows a single worker source code module to be optimized for different values.</p>
    <p class="Standard" dir="ltr">Parameter property values are applied to the build process as expected for the language of the authoring model:  e.g. by “preprocessor symbol definitions” for C, static const values for C++,  “generics” for VHDL, and “parameters” for Verilog.  A very common (and in fact built-in) parameter property is the “debug” boolean property that specifies the typical “debug build” vs. “production build”.</p>
    <p class="Standard" dir="ltr">Each authoring model specifies how properties (runtime and compile time) appear to the worker code, and how the worker may read property values written by control software, and write values that will be read by control software.  Furthermore, different authoring models define how workers know when control software is actually reading or writing these values.</p>
    <h2 dir="ltr" id="toc11"><span class="SectionNumber">4.3 </span><a id="RefHeadingToc15651178005046"></a>Software Execution Model</h2>
    <p class="Body" dir="ltr">The material in this section applies to most software-based authoring models, although it does not apply to the HDL/FPGA authoring model (and may be skipped by those only doing HDL/FPGA development)</p>
    <p class="Body" dir="ltr">Containers for software-based workers execute them such that all execution threads are supplied by the container.  Thus there is no need or possibility for workers to create threads.  This approach reduces complexity of component code, eliminates any requirement to support a threaded API capability, and allows the container to determine the level of multithreading that is needed.  Different authoring models supply such threads in different ways, which is detailed in the individual sections for each.</p>
    <p class="Body" dir="ltr">Execution of a worker is enabled when the worker is in the “operating” control state (as defined on the Control State section above), but workers are only executed when either  some combination of its ports are “ready” (i.e. have buffers), or time has passed.  This combination of “port readiness” and the passage of time is called the workers <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">condition</span>:  the condition under which it should be run.</p>
    <p class="Body" dir="ltr">Every worker has an entry point called its <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">method</span>.  When a worker's <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">condition</span> is satisfied (as determined by its container), its <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">method</span> is entered.  Worker execution is thus a series of “runs” initiated by the container.  The run method cannot block, but returns after doing some work, allowing the container itself to determine when the worker should be entered again:  when its run condition is once again satisfied.</p>
    <p class="Body" dir="ltr">The container calls the worker's <span style="font-style:italic;font-weight:bold">run method</span> when the worker’s <span style="font-style:italic;font-weight:bold">run condition</span> is satisfied.  Run conditions are satisfied based on the availability of its input buffers (with data) or output buffers (with space) at a workers ports or the passage of time (detailed below).  The worker’s run method executes some processing tasks and may:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">process some available messages at some of its input ports</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">produce messages at some of its output ports</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">indicate when messages are consumed as input or produced as output</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">make any changes to its <span style="font-style:italic;font-weight:bold">run condition</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr">It then returns control to its container.  Workers never block.  The container conveys the messages in buffers between collocated workers as well as into and out of the container as required by the application assembly’s connections.</p>
    <p class="Body" dir="ltr">Thus the container determines when the worker should run, and supplies it with buffers full of input messages, or buffers into which output messages may be placed.</p>
    <h3 dir="ltr" id="toc12"><span class="SectionNumber">4.3.1 </span><a id="RefHeading10562140039662"></a><a id="Toc270018424"></a>Run Conditions</h3>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">Workers declare a “run condition” which is a data object that tells the container </span><span style="font-style:italic;font-size:16.0px">under what conditions the worker should run</span><span style="font-size:16.0px">.  The container evaluates the run conditions of all workers and runs them as resources and priorities allow.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The run condition object contains two aspects:  </span><span style="font-style:italic;font-size:16.0px">port readiness</span><span style="font-size:16.0px"> and </span><span style="font-style:italic;font-size:16.0px">time</span><span style="font-size:16.0px">.  Thus the worker is run when its port readiness requirements are satisfies </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">–or–</span><span style="font-size:16.0px"> a specified amount of time has passed.  Either or both aspects can be specified.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">While the worker is </span><span style="font-style:italic;font-size:16.0px">not</span><span style="font-size:16.0px"> running (and thus the container is considering whether to run it), port readiness simply means that buffers are available at that port to be used by the worker.  Input ports have available buffers when there is message data present that has not yet been consumed by the worker.  Output ports are ready when buffers are available into which they may place new data.  I.e. input ports are ready when the worker has data to consume, and output ports are ready when the worker has room to produce new data into a buffer.  Workers may partially consume or partially produce messages in any given run.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">This “port readiness” model implements simple data driven execution:  code is run when data can flow.  The </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">default run condition</span><span style="font-size:16.0px"> specifies that the worker should run if data is available at </span><span style="font-style:italic;font-size:16.0px">all</span><span style="font-size:16.0px"> input ports and space is available at </span><span style="font-style:italic;font-size:16.0px">all</span><span style="font-size:16.0px"> output ports (or conversely, there are no ports that are not ready).  Note that this default, for workers with </span><span style="font-style:italic;font-size:16.0px">no</span><span style="font-size:16.0px"> ports, means they are always ready to run.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The time aspect of run conditions (when indicated by the worker) specifies the desired maximum time between invocations of the worker’s run method.  If no “port readiness” is also specified, this simply indicates periodic execution.  If the time aspect is specified </span><span style="font-style:italic;font-size:16.0px">with</span><span style="font-size:16.0px"> port readiness, it indicates that execution should take place when either the indicated port readiness conditions are satisfied </span><span style="font-style:italic;font-size:16.0px">–or–</span><span style="font-size:16.0px"> the indicated amount of time has passed since the worker's run method was last entered.</span></p>
    <p class="Body" dir="ltr">The default time aspect of run conditions is:  no such maximum time at all.  In this case time passing does not affect worker execution, only port readiness.</p>
    <p class="Body" dir="ltr">A worker may change its run condition at any time during the execution of its run method by passing a new run condition to the container, to be considered after the run method returns to the container.</p>
    <p class="Body" dir="ltr">In summary, run conditions specify a combination of data-driven and time-driven execution.  Most workers use one or the other aspect, but some need both.  The defaults allow most workers to never bother indicating any run condition at all.<a id="Toc270018425"></a><a id="Toc211783568"></a><a id="Toc211781782"></a><a id="Toc211781053"></a><a id="Toc211780982"></a><a id="Toc211780930"></a></p>
    <h3 dir="ltr" id="toc13"><span class="SectionNumber">4.3.2 </span><a id="RefHeading10566140039662"></a><a id="Toc270018426"></a>Sending or receiving messages via ports</h3>
    <p class="Body" dir="ltr">The worker indicates data flow by telling the container when it has consumed the message in an input buffer at a port (and thus that buffer can be released and reused) and when it has finished placing a message in an output buffer at a port (and thus the message in that buffer can be sent to where it will be consumed).</p>
    <p class="Body" dir="ltr">The worker indicates that an input buffer has been processed and/or an output buffer has been filled during its execution (in its run method) or as a return value from the run method..  It must return from the run method in order to wait for more buffers to process.  The worker never blocks.</p>
    <h3 dir="ltr" id="toc14"><span class="SectionNumber">4.3.3 </span><a id="Toc211780931"></a><a id="Toc211780983"></a><a id="Toc211781054"></a><a id="Toc211781783"></a><a id="Toc211783569"></a><a id="Toc270018427"></a><a id="RefHeading10568140039662"></a>Buffer management</h3>
    <p class="Body" dir="ltr">The container provides and manages all buffers and provides references to buffers to the worker.  Thus input ports operate by the container providing buffers to the worker filled with incoming messages, and the output ports operate by the container providing buffers for the worker to fill with messages before being sent.  Output buffers (sent at output ports) are either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-size:16.0px">obtained for a specific output port (since they may be in a special memory or pool specific to a particular output hardware path), </span><span style="font-style:italic;font-size:16.0px">or</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">originally obtained from an input port and passed to output ports, with no copying by worker code.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">Workers may modify data in input buffers, which allows input buffers to be used for temporary storage (reducing overall memory requirements).  If they do this, they must say so in the worker description XML so that the container ensures that such a buffer is not shared with another consumer of the same data.</p>
    <p class="Body" dir="ltr">Several more advanced buffer management requirements are supported for certain situations as needed:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">To support sliding window algorithms, workers are allowed to retain ownership of previous buffers (not releasing them), while new ones are requested; i.e. allow explicit (in order) input buffer release, not implicitly just the most recent buffer obtained.  The worker must still release the buffers in the order received.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">To support zero copy from input ports to output ports, workers are allowed to send a buffer obtained from an input port to an output port, and not require an empty current buffer to fill on the output port.  Such buffers must be sent (or released) in the order received.  This avoids copying data from input buffers to output buffers.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">The above features are only needed in certain cases, and can be ignored entirely for most simple workers.  To support these more advanced modes, non-blocking interfaces for explicitly releasing, sending, and requesting buffers are available.</p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">Logically, there are four operations performed with message buffers, which is the basis for specific APIs defined in each authoring model.  They are all </span><span style="font-style:italic;font-size:16.0px">non-blocking functions</span><span style="font-size:16.0px">:</span></p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Request</span><span style="font-size:16.0px"> that a new buffer be made available.  For an input port, it will be filled by the container with a new input message.  For an output port, it is to be filled by the worker with a new output message.  In both cases the ownership of the buffer passes from container to worker when it becomes available.  The new buffer may or may not be immediately available based on this request.</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Release</span><span style="font-size:16.0px"> a buffer to be reused, with its contents discarded.  The ownership passes from worker to container.  Input buffers must be released (or sent) in the order received, i.e. ownership of input buffers must be passed from worker to container in the order that ownership was given from container to worker. </span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Send</span><span style="font-size:16.0px"> (enqueue) a buffer on an output port, to be automatically released (later) after the data is sent.  The ownership passes from worker to container.  If the buffer was originally obtained from an input port, it must be sent or released in the order received.</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold;font-size:16.0px;background-color:transparent">Take</span><span style="font-size:16.0px;background-color:transparent"> the current buffer from an input port such that is it no longer the current buffer of the port, but ownership is retained by the worker.  This allows new input buffers to be made available while the worker holds on to previous buffers.  A take implies a request for new buffers.  This function allows workers to use previous buffers to hold history data for algorithms such as sliding window or moving average, without allocating any additional storage.</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The concept of the </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">current buffer</span><span style="font-size:16.0px"> of a port supports a convenient model for workers that have no need to be aware of buffer management.  A port is </span><span style="font-style:italic;font-size:16.0px">ready</span><span style="font-size:16.0px"> if it has a current buffer.  A current buffer on an input port is available to read data from.  A current buffer on an output port is available to write data into.  The concept of </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">advancing</span><span style="font-size:16.0px"> a port, is simply a combination of releasing (input) or sending (output) the current buffer of the port, and requesting a new buffer to be made available on that port, to become the current buffer when it becomes available in the future:</span></p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-size:16.0px">advance = release_or_send + request</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr" style="font-size:16.0px">Simple workers, using the default run condition, wait for all ports to be ready (to have buffers), process input buffers into output buffers, advance input and output ports, and return.</p>
    <p class="Body" dir="ltr">Worker APIs defined by the authoring model are designed to make this common pattern as simple as possible.  Workers are run when ports to be ready, and they advance ports after processing messages in current buffers.</p>
    <h1 dir="ltr" id="toc15"><span class="SectionNumber">5 </span><a id="Toc141231905"></a><a id="RefHeadingToc299951282573294"></a>Quick XML Introduction</h1>
    <p class="Standard" dir="ltr">XML documents are text files that contain information formatted according to XML (Extensible Markup Language) syntax.  XML information is formatted into <span style="font-style:italic;font-weight:bold">Elements</span>, <span style="font-style:italic;font-weight:bold">Attributes</span>, and <span style="font-style:italic;font-weight:bold">Textual Content</span>.  OpenCPI XML files do not use Textual Content at this time.  XML Elements are in a parent/child hierarchy where an element can have child elements.  XML Elements can have attributes, which are name/value pairs.  Every XML file has a single XML element as its top level entity.</p>
    <p class="Standard" dir="ltr">XML Elements take two forms.  The first is when an element has no child elements.  It looks like this (for element of type , “xyz”, with attribute “abc” that has the value “123”):</p>
    <p class="Code" dir="ltr">&lt;xyz abc=”123”/&gt;</p>
    <p class="Standard" dir="ltr">The element begins with the “&lt;” character and the element type, and ends with “<span class="Code">/&gt;</span>”.</p>
    <p class="Standard" dir="ltr">Attributes values are in single or double quotes.  To have quotes in attribute values the other type of quotes is used.  In either case, the <span class="Code">&amp;</span> and <span class="Code">&lt;</span> characters must be escaped using the official XML notions:  <span class="Code"><span style="text-decoration:underline">&amp;amp;</span></span> for <span class="Code">&amp;</span>, <span class="Code"><span style="text-decoration:underline">&amp;lt;</span></span> for <span class="Code">&lt;</span>.  If <span style="font-style:italic">both</span> types of quotes must be in an attribute value, then the official XML escape sequences can be used: <span class="Code"><span style="text-decoration:underline">&amp;quot;</span></span> for double-quote, and <span class="Code"><span style="text-decoration:underline">&amp;apos;</span></span> for single quote.</p>
    <p class="Standard" dir="ltr">White space, indentation, or new lines can be inserted between the element name and attributes.  So the example could be:</p>
    <p class="Code" dir="ltr">&lt;xyz<br />	abc='123'<br />	/&gt;</p>
    <p class="Standard" dir="ltr">When the element has child elements (e.g. element “ccc” with attribute “cat”), it is:</p>
    <p class="Code" dir="ltr">&lt;xyz abc=”123”&gt;<br />	&lt;ccc cat=”345”/&gt;<br />&lt;/xyz&gt;</p>
    <p class="Standard" dir="ltr">In this case the start of the “<span class="Code">xyz</span>” element (and its attributes), is surrounded by &lt;&gt; (with no slash), and the end of the “<span class="Code">xyz</span>” element is indicated by “<span class="Code">&lt;/xyz&gt;</span><span class="DefaultParagraphFont"><span style="font-weight:normal">”</span></span>.  Every XML document/file (in this context) has a single top-level element that must be structured according to the documented allowable elements and attributes.</p>
    <p class="Standard" dir="ltr">An element can be entered directly (as above) or may sometimes be entered by referring to a separate file containing the element.  So the example above might have a file “<span class="Code">ccc1.xml</span>” containing:</p>
    <p class="Code" dir="ltr">&lt;ccc cat=”345”/&gt;</p>
    <p class="Standard" dir="ltr">And then a top-level file called “<span class="Code">xyz1.xml</span>” containing:</p>
    <p class="Code" dir="ltr">&lt;xyz abc=”123”&gt;<br />	&lt;xi:include href=”ccc1.xml”/&gt;<br />&lt;/xyz&gt;</p>
    <p class="Standard" dir="ltr">When XML files are processed by OpenCPI tools, any internal file references (where one XML file refers to another via some attribute value), are subject to a directory search paths and rarely use absolute or relative pathnames.  Either the referenced file is in the same directory as the first file, or it is in a directory that is in the search path for XML files.  The values of file attributes referring to other XML files assume the suffix is “<span class="Code">.xml</span>” when not mentioned.  The XML search paths are discussed in the Makefile sections but are usually set to a standard set of directories appropriate for the context.</p>
    <p class="Standard" dir="ltr">Attribute values each have defined data types and must be in the appropriate format.</p>
    <h1 dir="ltr" id="toc16"><span class="SectionNumber">6 </span><a id="RefHeadingToc15645178005046"></a>Component Specifications (in OCS XML files)</h1>
    <p class="Body" dir="ltr">An <span style="font-style:italic">OpenCPI Component Specification (</span><span style="font-style:italic;font-weight:bold">OCS</span><span style="font-style:italic">)</span> describes, in a simple set of one or more XML text files, the aspects of a component that are the same regardless of the authoring model used by any implementation of that component.  Thus a requirement for developing an <span style="font-style:italic">implementation</span> of an OpenCPI component (a <span style="font-style:italic">worker</span>) is that there must exist an OpenCPI Component Specification (OCS) common to all potential implementations of that component.</p>
    <p class="Body" dir="ltr">The OCS essentially describes two things: (1) the configuration properties of the component (how it is initially and dynamically configured and controlled), and (2) the (data) ports of the component (how it talks to other components).  Based on these two aspects, all components can be configured and interconnected in an application, regardless of component implementations.  An OCS does not contain a description of exactly what happens inside the component (a behavioral description), but only how it is used in an application.</p>
    <p class="Body" dir="ltr">Thus the first step in having actual component implementations built and usable for component-based applications is to have an OCS on which to base all the implementation(s).  OpenCPI uses the term “<span style="font-style:italic;font-weight:bold">worker</span>” as shorthand for “component implementation”.  Thus an OpenCPI worker is an implementation based on an OCS and a particular authoring model.  The worker consists of two things:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">A separate (from OCS) XML description called the OpenCPI Worker Description (<span style="font-style:italic;font-weight:bold">OWD</span>) of the particular implementation, indicating the worker's authoring model and which OCS the worker is based on</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">The source code in some programming language that does the actual computing function of the implementation, written according to the authoring model.</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr"><!-- &lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;o:DocumentProperties&gt;
 &lt;o:Revision&gt;0&lt;/o:Revision&gt;
 &lt;o:TotalTime&gt;0&lt;/o:TotalTime&gt;
 &lt;o:Pages&gt;1&lt;/o:Pages&gt;
 &lt;o:Words&gt;2164&lt;/o:Words&gt;
 &lt;o:Characters&gt;12339&lt;/o:Characters&gt;
 &lt;o:Company&gt;Parera Information Services, Inc.&lt;/o:Company&gt;
 &lt;o:Lines&gt;102&lt;/o:Lines&gt;
 &lt;o:Paragraphs&gt;28&lt;/o:Paragraphs&gt;
 &lt;o:CharactersWithSpaces&gt;14475&lt;/o:CharactersWithSpaces&gt;
 &lt;o:Version&gt;14.0&lt;/o:Version&gt;
 &lt;/o:DocumentProperties&gt;
 &lt;o:OfficeDocumentSettings&gt;
 &lt;o:RelyOnVML/&gt;
 &lt;o:AllowPNG/&gt;
 &lt;/o:OfficeDocumentSettings&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- &lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;w:WordDocument&gt;
 &lt;w:View&gt;Normal&lt;/w:View&gt;
 &lt;w:Zoom&gt;0&lt;/w:Zoom&gt;
 &lt;w:TrackMoves/&gt;
 &lt;w:TrackFormatting/&gt;
 &lt;w:PunctuationKerning/&gt;
 &lt;w:ValidateAgainstSchemas/&gt;
 &lt;w:SaveIfXMLInvalid&gt;false&lt;/w:SaveIfXMLInvalid&gt;
 &lt;w:IgnoreMixedContent&gt;false&lt;/w:IgnoreMixedContent&gt;
 &lt;w:AlwaysShowPlaceholderText&gt;false&lt;/w:AlwaysShowPlaceholderText&gt;
 &lt;w:DoNotPromoteQF/&gt;
 &lt;w:LidThemeOther&gt;EN-US&lt;/w:LidThemeOther&gt;
 &lt;w:LidThemeAsian&gt;JA&lt;/w:LidThemeAsian&gt;
 &lt;w:LidThemeComplexScript&gt;X-NONE&lt;/w:LidThemeComplexScript&gt;
 &lt;w:Compatibility&gt;
 &lt;w:BreakWrappedTables/&gt;
 &lt;w:SnapToGridInCell/&gt;
 &lt;w:WrapTextWithPunct/&gt;
 &lt;w:UseAsianBreakRules/&gt;
 &lt;w:DontGrowAutofit/&gt;
 &lt;w:SplitPgBreakAndParaMark/&gt;
 &lt;w:EnableOpenTypeKerning/&gt;
 &lt;w:DontFlipMirrorIndents/&gt;
 &lt;w:OverrideTableStyleHps/&gt;
 &lt;w:UseFELayout/&gt;
 &lt;/w:Compatibility&gt;
 &lt;m:mathPr&gt;
 &lt;m:mathFont m:val="Cambria Math"/&gt;
 &lt;m:brkBin m:val="before"/&gt;
 &lt;m:brkBinSub m:val="&amp;#45;-"/&gt;
 &lt;m:smallFrac m:val="off"/&gt;
 &lt;m:dispDef/&gt;
 &lt;m:lMargin m:val="0"/&gt;
 &lt;m:rMargin m:val="0"/&gt;
 &lt;m:defJc m:val="centerGroup"/&gt;
 &lt;m:wrapIndent m:val="1440"/&gt;
 &lt;m:intLim m:val="subSup"/&gt;
 &lt;m:naryLim m:val="undOvr"/&gt;
 &lt;/m:mathPr&gt;&lt;/w:WordDocument&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- &lt;!--[if gte mso 9]&gt;&lt;xml&gt;
 &lt;w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
 DefSemiHidden="true" DefQFormat="false" DefPriority="99"
 LatentStyleCount="276"&gt;
 &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Normal"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="heading 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 7"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 8"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 9"/&gt;
 &lt;w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/&gt;
 &lt;w:LsdException Locked="false" Priority="10" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Title"/&gt;
 &lt;w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/&gt;
 &lt;w:LsdException Locked="false" Priority="11" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/&gt;
 &lt;w:LsdException Locked="false" Priority="22" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Strong"/&gt;
 &lt;w:LsdException Locked="false" Priority="20" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="59" SemiHidden="false"
 UnhideWhenUsed="false" Name="Table Grid"/&gt;
 &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/&gt;
 &lt;w:LsdException Locked="false" Priority="1" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/&gt;
 &lt;w:LsdException Locked="false" Priority="34" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/&gt;
 &lt;w:LsdException Locked="false" Priority="29" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Quote"/&gt;
 &lt;w:LsdException Locked="false" Priority="30" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="19" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="21" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="31" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/&gt;
 &lt;w:LsdException Locked="false" Priority="32" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/&gt;
 &lt;w:LsdException Locked="false" Priority="33" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Book Title"/&gt;
 &lt;w:LsdException Locked="false" Priority="37" Name="Bibliography"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/&gt;
 &lt;/w:LatentStyles&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- &lt;!--[if gte mso 10]&gt;
&lt;style&gt;
 /* Style Definitions */
table.MsoNormalTable
 {mso-style-name:"Table Normal";
 mso-tstyle-rowband-size:0;
 mso-tstyle-colband-size:0;
 mso-style-noshow:yes;
 mso-style-priority:99;
 mso-style-parent:"";
 mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-para-margin:0in;
 mso-para-margin-bottom:.0001pt;
 mso-pagination:widow-orphan;
 font-size:10.0pt;
 font-family:Cambria;}
&lt;/style&gt;
&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- &lt;!--StartFragment--&gt;
October 30, 2015 6:30 PM -->The component specification is a top-level XML element that is usually in a file by itself, since it will be reused and thus referred to by multiple workers.  It describes a component at a high level without implementation choices or details.  It describes enough about how the component can be integrated into an application to ensure interoperability and interchangeability among different implementations.  Multiple such implementations are possible given the component specification.</p>
    <p class="Body" dir="ltr">The component specification XML element contains component-global attributes, configuration aspects and data port aspects.  A component specification is contained in the XML element whose type is “ComponentSpec”, which should be a top-level element in a file, structured as:</p>
    <p class="Code" dir="ltr">&lt;ComponentSpec<br />      <br />   ---attributes---<br />      &gt;<br />   ---child elements---<br />&lt;/ComponentSpec&gt;</p>
    <p class="Standard" dir="ltr">The OCS XML file is called the “spec file” for the component, and has a “<span class="Code">‑spec.xml</span>” suffix.  The spec files for all components in a library are usually found the “<span class="Code">specs</span>” sub-directory of the library.  When groups of properties or groups of message protocol “operations” (message types), are shared between spec files they are typically placed in separate “-prot.xml” or “-prop.xml” files that are referenced from multiple spec files.  The suffixes and locations of these files are required for the component library management scripts to know what files must be exported when applications use components in the library.</p>
    <p class="Standard" dir="ltr">These spec files (and property and protocol files, if they are used) are used by two completely different processes:</p>
    <ul class="listlevel1WWNum19">
      <li>
        <p class="ListBullet" dir="ltr">The implementations (in worker subdirectories) need these files to ensure the <span style="font-style:italic;text-decoration:underline">implementation</span><span style="text-decoration:underline"> </span><span style="font-style:italic;text-decoration:underline">matches the</span><span style="text-decoration:underline"> </span><span style="font-style:italic;text-decoration:underline">specification</span>.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Applications need these files to correctly <span style="font-style:italic">use</span> the components and connect them to each other.  See the <a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Application_Reference.pdf">OpenCPI Application </a><a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Application_Reference.pdf">G</a>uide document.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">To get the most value out of the heterogeneous component model of OpenCPI, it is strongly encouraged to use a common spec (and common unit tests) between different implementations of the same functionality.</p>
    <h2 dir="ltr" id="toc17"><span class="SectionNumber">6.1 </span><a id="RefHeadingToc15655178005046"></a>ComponentSpec top-level element</h2>
    <p class="Textbody" dir="ltr">Below are the attributes and elements of the ComponentSpec top-level XML element.  ComponentSpec elements may have “name” and “noControl” attributes, and may contain “property” and “port” child elements.</p>
    <h3 dir="ltr" id="toc18"><span class="SectionNumber">6.1.1 </span>Name <span style="font-style:normal;font-variant:normal;text-transform:none">attribute</span> of the ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">element</span></h3>
    <p class="Textbody" dir="ltr">The “Name” attribute of the component specification is constrained to be acceptable as an identifier in several contexts, including various case sensitive programming languages.  It identifies the component specification as a whole.  It is case <span style="font-style:italic">insensitive</span>: within a library or application, two different component specifications cannot differ only in case.  When the ComponentSpec element is the top-level element of a file, the component name attribute is defaulted from the name of the file before any suffixes.  Thus this attribute is optional when the ComponentSpec is the top level element of a file.  Using this default is recommended since this eliminates any confusing mismatches between the name of the OCS file and the name of the component in the XML.</p>
    <h3 dir="ltr" id="toc19"><span class="SectionNumber">6.1.2 </span>NoControl <span style="font-style:normal;font-variant:normal;text-transform:none">attribute</span> of ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">elements</span></h3>
    <p class="Textbody" dir="ltr">The “NoControl” attribute of the component specification is a boolean attribute that indicates, when true, that components using this specification have no lifecycle/configuration interface at all.  This is generally not allowed for application components but is specified for certain infrastructure components.</p>
    <h2 dir="ltr" id="toc20"><span class="SectionNumber">6.2 </span><a id="RefHeadingToc15657178005046"></a>Properties <span style="font-style:normal;font-variant:normal;text-transform:none">element</span> of ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">elements</span></h2>
    <p class="Textbody" dir="ltr">The <span style="font-style:italic;font-weight:bold">Properties</span> element of a component specification enumerates the name, type and behavior of configuration properties by containing <span style="font-style:italic;font-weight:bold">Property</span> child elements.  The Properties element may be in a separate file and referenced using the &lt;xi:include href=”&lt;file&gt;”/&gt; syntax.  This is useful when groups of Property elements are shared among multiple component specifications.  However, the most common usage is for <span style="font-style:italic;font-weight:bold">Property</span> elements to be directly enumerated under the top level ComponentSpec element, without using the <span style="font-style:italic">Properties</span> element at all.</p>
    <p class="Textbody" dir="ltr">The Properties element has no attributes, but consists of a list of Property child elements.  Anywhere in the list of Property elements in the overall Properties element, you can include additional Properties elements using the &lt;xi:include href=”&lt;file&gt;”/&gt; syntax.  This allows a nested list of properties to be shared as a subset of the properties of different components.  When a group of properties is used in multiple component specs, it is placed in a separate file with the Properties element at the top level.</p>
    <h2 dir="ltr" id="toc21"><span class="SectionNumber">6.3 </span><a id="RefHeadingToc15659178005046"></a>Property <span style="font-style:italic">element</span> of ComponentSpec or Properties <span style="font-style:italic">elements</span></h2>
    <p class="Textbody" dir="ltr">A <span style="font-style:italic">Property</span> element describes one configuration property.  It occurs as a sub-element of either the ComponentSpec element or the Properties element.  A Property element describes the name, data type and accessibility of a configuration property.  Its data type can be a scalar type or a structure.  Each property can also be an array or sequence of its data type. Consistent with the CORBA IDL specification, the term “array” refers to a fixed number of data values of the specified type, whereas the term “sequence” refers to a variable number of data values, up to a specified maximum length.  All variable length data types used for properties must be bounded.  See the “sequences” and “strings” data types below.  The attributes of the Property element are listed next.</p>
    <h3 dir="ltr" id="toc22"><span class="SectionNumber">6.3.1 </span>Name attribute of Property (and Member) elements</h3>
    <p class="Textbody" dir="ltr">The Name attribute is the case insensitive name of the property.  A set of properties cannot have properties whose names differ only in case.  Mixed case property names can be used for readability.  When a Properties element includes (via xi:include) other Properties elements there is still only one flat case-insensitive name space of properties for the component.</p>
    <h3 dir="ltr" id="toc23"><span class="SectionNumber">6.3.2 </span>Type attribute of Property (and Member) elements</h3>
    <p class="Textbody" dir="ltr">The Type attribute specifies the data type of the property.  The legal types (case insensitive) are: <span style="font-style:italic;font-weight:bold">Bool, Char, Double, Float, Short, Long, UChar, ULong, UShort, LongLong, ULongLong, Enum, String</span>, and <span style="font-style:italic;font-weight:bold">Struct</span>.  The “Char”, “Short”, “Long”, and “LongLong” types represent 8, 16, 32, and 64 signed integer values respectively.  The “Float” and “Double” types are consistent with 32 and 64 bit IEEE floating-point types, and the “String” type is a null terminated string.  When the “Type” attribute has the “String” value, the “StringLength” attribute must also be supplied, to indicate the maximum length of the string property values, <span style="font-style:italic">excluding</span> any terminating null character (consistent with CORBA-IDL and the ISO-C <span style="font-style:italic">strlen</span> function).  If no Type attribute is present in the Property element, the type “ULong” is used as the default.</p>
    <p class="Textbody" dir="ltr">When the type is “Enum”, the actual values are zero-based Ulong, but the named values are indicated by strings found in the “enums” attribute described below.</p>
    <p class="Textbody" dir="ltr">The “ArrayLength” attribute is used when the property is a fixed-length one-dimensional array of the indicated type.  The “SequenceLength” attribute is used when the property is a variable length sequence of the indicated type.</p>
    <p class="Textbody" dir="ltr">When the type is “Struct”, the Property element itself has <span style="font-style:italic;font-weight:bold">Member</span> sub-elements that indicate the types of the members of the struct property.  No struct members can be of type “Struct”.  The SequenceLength and ArrayLength attributes may apply to “Struct” properties.  <span style="font-style:italic;font-weight:bold">Member</span> child elements are similar to Property elements in that they describe the name and data type information for the member.</p>
    <p class="Textbody" dir="ltr">Thus all types have a maximum length.  Properties cannot have unbounded length.</p>
    <h3 dir="ltr" id="toc24"><span class="SectionNumber">6.3.3 </span>StringLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The StringLength attribute is used when the Type attribute is “String”, and indicates the maximum length (excluding any null termination) string value that this property can hold.  It is required for string properties.</p>
    <h3 dir="ltr" id="toc25"><span class="SectionNumber">6.3.4 </span>Enums attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">This attribute is required when the Type attribute is “enum”, and its value is a comma-separated list of strings that name the enumerated values.  The actual values are Ulong and are zero-based ordinals based on the position of the names in this list.</p>
    <h3 dir="ltr" id="toc26"><span class="SectionNumber">6.3.5 </span>ArrayLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The presence of this attribute indicates that the property values are a fixed length one-dimensional array of the type specified in the Type attribute, and that fixed length is indicated in the value of this attribute.</p>
    <h3 dir="ltr" id="toc27"><span class="SectionNumber">6.3.6 </span>SequenceLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The presence of this attribute indicates that the number of property values is a variable, but bounded, sequence of the type specified in the Type attribute, with the maximum length indicated in the value of this SequenceLength attribute.  Thus this property has the specified maximum length, and always contains a current length, up to that limit.  When both SequenceLength and ArrayLength attributes are present, the meaning is “sequence of arrays”, not “array of sequences”.</p>
    <h3 dir="ltr" id="toc28"><span class="SectionNumber">6.3.7 </span>ArrayDimensions attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The value of this attribute is a comma-separated list of array dimensions indicating an array whose number of dimensions is the number of values in the list.  If this attribute is set, then the ArrayLength attribute should not be set.  This attribute implies that values are multidimensional arrays with elements whose type is indicated by the Type attribute.</p>
    <h3 dir="ltr" id="toc29"><span class="SectionNumber">6.3.8 </span>Default attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The name of this attribute is “default”.  It is not a “default attribute”.  This string-valued attribute provides a default value for the property for all implementations.  It is parsed based on the data type specified in the Type attribute.  This value is set by the infrastructure at runtime when any implementation is instantiated in the runtime environment, unless an initial property value is specified by the application.  The purpose of this attribute is to advertise what value will be used if no initial value is provided by the application.  Default values should only be specified for properties whose accessibility is “initial” or “writable” (see below).  The format of the string value of this attribute is described in the “Property Value Syntax and Ranges” section below.</p>
    <h3 dir="ltr" id="toc30"><span class="SectionNumber">6.3.9 </span>Accessibility Attributes of Property elements</h3>
    <p class="Body" dir="ltr">The attributes described here specify what property accesses are allowed under what conditions.  They are all boolean attributes and all have the default value of “false”.  It is an error for all of them to be false.</p>
    <h4 dir="ltr" id="toc31"><span class="SectionNumber">6.3.9.1 </span>Readable attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute being true indicates that this property can be read by control software and that the workers will <span style="font-style:italic">not</span> change it.  If set to false (as well as the “volatile” attribute being false), attempts to read the property value at any time may result in an error.</p>
    <h4 dir="ltr" id="toc32"><span class="SectionNumber">6.3.9.2 </span>Volatile attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates, when true, that the property is readable <span style="font-style:italic">and</span> that its value may change during execution, without it being written by control software.  When neither “readable” nor “volatile” is true, attempts to read the property value will result in an error.  Only one of “readable” and “volatile” should be set to “true”.</p>
    <h4 dir="ltr" id="toc33"><span class="SectionNumber">6.3.9.3 </span>Writable attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates whether this property can be written both before and while the worker is in the Operating state.  If set to false, attempts to write the property value during operation will result in an error.</p>
    <h4 dir="ltr" id="toc34"><span class="SectionNumber">6.3.9.4 </span>Initial attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates whether this property can be set during initialization.  If set to false (and “writable” being false), attempts to specify an initial property value will result in an error.  Thus a property that has “Initial” as true, but writable as false, can be set at initialization-time, but not set at run-time.  Only one of “writable” and “initial” may be set to “true”.</p>
    <h4 dir="ltr" id="toc35"><span class="SectionNumber">6.3.9.5 </span>Padding attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute is used for properties that exist only for “padding” purposes, and thus are otherwise inaccessible.  In some cases where the list of properties is intended to be in a predetermined sequence with specific offsets or gaps between properties, a property that has no access is used, and needs this attribute to be set to “true”.  It is rarely used in a component specification, but may be used in a worker description (see below).</p>
    <h4 dir="ltr" id="toc36"><span class="SectionNumber">6.3.9.6 </span>Parameter attribute</h4>
    <p class="Standard" dir="ltr">This attribute indicates that the property's value is used at compile/build time when source code is processed into a binary artifact to be loaded and executed and run-time.    It also allows the default value expressed in this property to be used by using the property's name elsewhere in the OCS and OWD XML files.</p>
    <p class="Standard" dir="ltr">There are two primary uses for properties designated as <span style="font-style:italic">parameters</span> using this attribute:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber" dir="ltr">A convenience “variable” for defining other attributes like string and sequence lengths or array dimensions.</p>
      </li>
      <li>
        <p class="ListNumber" dir="ltr">A performance/footprint enhancement for compiled constants vs. runtime settable values.</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">The first “convenience” usage allows properties defined as parameters to be used in expressions for the value of “stringlength”, “sequencelength”, or “arraylength” and “arraydimensions” attributes.  For the allowable syntax of such expressions see the “attribute expressions” section below.  An example is when you would like multiple properties to have the same array dimensions, or to have array dimensions that relate to each other (e.g. one twice as long as the other).  An example is:</p>
    <p class="Code" dir="ltr">&lt;property name='nbranches' default='14'/&gt;<br />&lt;property name='tree1' arraylength='nbranches'/&gt;<br />&lt;property name='tree2' arraylength='nbranches*2 – 1'/&gt;</p>
    <p class="Standard" dir="ltr">The second usage is to allow a component specification to indicate a property as “initial” (settable only before execution), and allow <span style="font-style:italic">some implementations</span> to actually compile in the value for efficiency purposes.  The component spec just says “initial”, allowing implementations to either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Have the property be configurable to any value at execution time<br /><span style="font-style:italic;font-weight:bold">--or--</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Have the property be fixed and compiled in to the implementation.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">This allows some implementations (workers) to be flexible and allow different values at runtime, while other implementations can fix the value at compile time.  When the <span style="font-style:italic">application</span> specifies a particular value, the worker with the compiled-in value can only be used if the requested value matches the compiled-in value, whereas the worker with the non-parameter property can be used with any value.  This second usage of the “parameter” attribute is discussed further in the section on the worker XML (OWD) files below.</p>
    <p class="Standard" dir="ltr">In either case, these <span style="font-style:italic">parameter</span> values are also made available for worker source code during the build process.</p>
    <h3 dir="ltr" id="toc37"><span class="SectionNumber">6.3.10 </span>Expressions in Numeric Attributes</h3>
    <p class="Body" dir="ltr">For attributes that take numeric values (such as StringLength, ArrayLength, SequenceLength, and ArrayDimensions), the values can be non-negative numeric values, and can also be expressions using properties defined as parameters as variables in the expression.  The expression syntax is typical C syntax and operator precedence, with the following additions:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Any identifiers are expected to be parameter properties with default values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Numeric constants can be in any radix according to the C syntax (e.g. 0x123)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">All arithmetic is done using 64 bits.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Numeric constants can use the single-letter suffixes: K for kilo (2^10), M for mega A(2^20), G for giga (2^30).</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">All C language operators are available including the (a?b:c) ternary operator.  The comma operator is not available.  Thus if the “nbranches” property was a parameter, a valid expression might be:</p>
    <p class="Code" dir="ltr">nbranches == 0x123 ? 2k-1 : O177</p>
    <p class="Body" dir="ltr"> </p>
    <h2 dir="ltr" id="toc38"><span class="SectionNumber">6.4 </span><a id="RefHeadingToc15661178005046"></a>Port element of ComponentSpec <span style="font-style:italic">elements</span></h2>
    <p class="Body" dir="ltr">The component specification defines ports through the use of this “Port” element.  It specifies the direction/role of the port (producer or consumer) and the message protocol used at that port.  For backward compatibility, “DataInterfaceSpec” can also be used in place of “Port”.</p>
    <p class="Textbody" dir="ltr">The Port element has several attributes and one optional child element:  the Protocol.</p>
    <h3 dir="ltr" id="toc39"><span class="SectionNumber">6.4.1 </span>Name attribute of Port elements</h3>
    <p class="Body" dir="ltr">This attribute specifies the name of this port of the component.  The value of the name attribute is a string that is constrained to be valid in various programming languages.  It must be unique (case insensitive) within the component specification.</p>
    <h3 dir="ltr" id="toc40"><span class="SectionNumber">6.4.2 </span>Producer attribute of Port elements</h3>
    <p class="Body" dir="ltr">This boolean attribute indicates whether this port has the role of a producer (when “true”), vs. the default (false) of consumer.</p>
    <h3 dir="ltr" id="toc41"><span class="SectionNumber">6.4.3 </span>Protocol attribute of Port elements</h3>
    <p class="Textbody" dir="ltr">Not be confused with the Protocol <span style="font-style:italic">element, </span><span style="font-style:normal">described in the OPS section </span>below, this string <span style="font-style:italic">attribute</span> names an XML <span style="font-style:italic">file</span> containing the protocol description (OPS) for this port.  The named OPS XML file is expected to contain a Protocol <span style="font-style:italic">element</span> at its top level (which is described just below).  If the port being described is permissive, meaning it can accept any protocol, then this attribute can be absent.  An example of a permissive component is a “file writing” component that logs any types of messages as input, regardless of protocol.</p>
    <p class="Textbody" dir="ltr">As with all attributes that refer to an XML file, the “<span class="Code">.xml</span>” suffix is assumed if not present, and the file is sought using the search path for XML files.</p>
    <h3 dir="ltr" id="toc42"><span class="SectionNumber">6.4.4 </span>Optional attribute of Port elements</h3>
    <p class="Textbody" dir="ltr">This is the attribute whose name is “optional”.  It is also an “optional attribute”.  This boolean attribute indicates whether this data port may be left unconnected in an application.  The default (false) indicates that workers implementing this component require that this port have a connection to some other worker in the application.  When true, this port may be left unconnected and all workers implementing this specification must support the case when the port is not connected to anything.</p>
    <h3 dir="ltr" id="toc43"><span class="SectionNumber">6.4.5 </span>Component Specification Examples</h3>
    <p class="Body" dir="ltr">Here is an example of a component specification that declares one float property that can be set during initialization, but not during operation.  It has one output (producer) port that uses the protocol defined in the <span class="Code">ushort_1k-proto.xml</span> file.</p>
    <p class="Code" dir="ltr">&lt;ComponentSpec Name="K1spec"<br />   &lt;Property Name=”size” Type=”float” Initial='true'/&gt;<br />   &lt;Port Name="lvds_tx" Producer="true" Protocol='ushort_1K-proto'/&gt;<br />      &lt;Protocol&gt;<br />         &lt;Operation Name=”mess1”&gt;<br />            &lt;Argument Name=”val” Type=”uShort” ArrayLength=”1024”&gt;<br />         &lt;/Operation&gt;<br />      &lt;/Protocol&gt;<br />   &lt;/Port&gt;<br />&lt;/ComponentSpec&gt;</p>
    <p class="Body" dir="ltr"> </p>
    <h1 dir="ltr" id="toc44"><span class="SectionNumber">7 </span><a id="RefHeadingToc299971282573294"></a>Property Value Syntax and Ranges</h1>
    <p class="Body" dir="ltr">This section describes how property values are formatted to be appropriate for their data types.  Property values occur in the “default” attribute of “property” elements described above, as well as when property values are specified in the worker Makefiles described below.  The names of the types are those acceptable to the “type” attribute of the “property” element in the OCS (OpenCPI Component Specification).</p>
    <p class="Body" dir="ltr">Attributes values in XML are in single or double quotes.  To have quotes in attribute values the other type of quotes is used.  In either case, the <span class="Code">&amp;</span> and <span class="Code">&lt;</span> characters must be escaped using the official XML notions:  <span class="Code"><span style="text-decoration:underline">&amp;amp;</span></span> for <span class="Code">&amp;</span>, <span class="Code"><span style="text-decoration:underline">&amp;lt;</span></span> for <span class="Code">&lt;</span>.  If <span style="font-style:italic">both</span> types of quotes must be in an attribute value, then the official XML escape sequences can be used: <span class="Code"><span style="text-decoration:underline">&amp;quot;</span></span> for double-quote, and <span class="Code"><span style="text-decoration:underline">&amp;apos;</span></span> for single quote.</p>
    <p class="Body" dir="ltr">Property values are also used when running applications.  That usage is described in the Application Development Guide, but the format is as described here.</p>
    <h2 dir="ltr" id="toc45"><span class="SectionNumber">7.1 </span><a id="RefHeadingToc299991282573294"></a>Values of unsigned integer types:  uchar, ushort, ulong, ulonglong</h2>
    <p class="Standard" dir="ltr">These numeric values can be entered in decimal, octal (leading zero), or hexadecimal (leading 0x).  The limits are the typical ranges for unsigned 8, 16, 32, or 64 bits respectively, also consistent with the ranges defined in CORBA IDL.</p>
    <p class="Standard" dir="ltr">The uchar type can also be entered as a value in single quotes, which indicates that the value is the value of the ASCII character in single quotes (as in C).</p>
    <h2 dir="ltr" id="toc46"><span class="SectionNumber">7.2 </span><a id="RefHeadingToc300011282573294"></a>Values of signed integer types:  short, long, longlong</h2>
    <p class="Standard" dir="ltr">These numeric values can be entered in decimal, octal (leading zero), or hexadecimal (leading 0x), with an optional leading minus sign to indicate negative values.  The limits are the typical ranges for signed 16, 32, or 64 bits respectively, also consistent with the ranges defined in CORBA IDL.  Note that the “char” type cannot be entered directly as a signed integer, but only as a “character” as specified below.</p>
    <h2 dir="ltr" id="toc47"><span class="SectionNumber">7.3 </span><a id="RefHeadingToc300031282573294"></a>Values of the type:  char</h2>
    <p class="Standard" dir="ltr">This type is meant to represent a character, i.e. a unit of a string.  In software it is represented as a “signed char” type, with the typical numeric range for a signed 8-bit value.  The format of a value of this type is simply the character itself, with the typical set of “escapes” for non-printing characters, as specified in the C programming language and IDL (<span class="Code">\n</span>, <span class="Code">\t</span>, <span class="Code">\v</span>, <span class="Code">\b</span>, <span class="Code">\r</span>, <span class="Code">\f</span>, <span class="Code">\a</span>, <span class="Code">\\</span>, <span class="Code">\?</span>, <span class="Code">\’</span>, <span class="Code">\”</span>).  A series of 1-3 octal digits can follow the backslash, and a series of 1-2 hex digits can follow <span class="Code">\x</span>.</p>
    <p class="Standard" dir="ltr">OpenCPI adds two additional escape sequences as a convenience for entering signed and unsigned decimal values of type <span style="font-style:italic;font-weight:bold">char</span>.  The sequence <span class="Code">\d</span> may be followed by an optional minus sign (<span class="Code">–</span>) and one to three decimal digits, limited to the range of -128 to 127.  The sequence <span class="Code">\u</span> can be followed by 1 to three decimal digits, limited to the range of 0 to 255.</p>
    <p class="Standard" dir="ltr">These escapes can also be used in a string value.  Due to the requirements of the arrays and sequence values defined below, the backslash can also escape commas and braces (<span class="Code">\,</span> and <span class="Code">\{</span> and <span class="Code">\}</span> ).</p>
    <h2 dir="ltr" id="toc48"><span class="SectionNumber">7.4 </span><a id="RefHeadingToc300051282573294"></a>Values of the types:  float and double</h2>
    <p class="Standard" dir="ltr">These values represent the IEEE floating point types with their defined ranges and precision.  The values are those acceptable to the ISO C99 <span class="Code">strtof</span> and <span class="Code">strtod</span> functions respectively.</p>
    <h2 dir="ltr" id="toc49"><span class="SectionNumber">7.5 </span><a id="RefHeadingToc300071282573294"></a>Values of the type:  bool</h2>
    <p class="Standard" dir="ltr">These values represent the boolean type, which is logical <span class="DefaultParagraphFont">true</span> or <span class="DefaultParagraphFont">false</span>.  The values can be (case insensitive): “<span class="Code">true</span>” or “<span class="Code">1</span>” for a true value, and “<span class="Code">false</span>” or “<span class="Code">0</span>” for a false value.</p>
    <h2 dir="ltr" id="toc50"><span class="SectionNumber">7.6 </span><a id="RefHeadingToc300091282573294"></a>Values of the type:  string</h2>
    <p class="Standard" dir="ltr">These values are simply character strings, but also can include all the escape sequences defined for the <span style="font-style:italic;font-weight:bold">char</span> type above.  Due to the requirements of the arrays and sequence values defined below, the backslash can also escape commas and braces (<span class="Code">\,</span> and <span class="Code">\{</span> and <span class="Code">\}</span> ).</p>
    <h2 dir="ltr" id="toc51"><span class="SectionNumber">7.7 </span><a id="RefHeadingToc300111282573294"></a>Values in a sequence type</h2>
    <p class="Standard" dir="ltr">Values in a sequence type are comma-separated values.  When the type of a sequence is “char” or “string”, backslash escapes are used when the data values include commas.</p>
    <h2 dir="ltr" id="toc52"><span class="SectionNumber">7.8 </span><a id="RefHeadingToc300131282573294"></a>Values in an array type</h2>
    <p class="Standard" dir="ltr">When a value is a one-dimensional array, the format is the same as the sequence, with the number of values limited by the size of the array.  If the number of comma-separated values is less than the size of the array, the remaining values are filled with the <span style="font-style:italic;font-weight:bold;text-decoration:none">null</span> value appropriate for the type.  Null values are zero for all numeric types and the type <span style="font-style:italic;font-weight:bold">char</span>.  Null values for string types are empty strings.</p>
    <h2 dir="ltr" id="toc53"><span class="SectionNumber">7.9 </span><a id="RefHeadingToc300151282573294"></a>Values in multidimensional types</h2>
    <p class="Standard" dir="ltr">For multidimensional arrays or sequences of arrays, the curly brace characters ( <span class="Code">{</span> and <span class="Code">}</span> ) are used to define a “sub-value”.  For example, a sequence of 3 elements, each consisting of arrays of length 3 of type char, would be:</p>
    <p class="Code" dir="ltr">{a,b,c},{x,y,z},{p,q,r}</p>
    <p class="Standard" dir="ltr">This would also work for a 3 x 3 array of type char.  Thus braces are used when an item is itself an array, recursively.</p>
    <h2 dir="ltr" id="toc54"><span class="SectionNumber">7.10 </span><a id="RefHeadingToc300171282573294"></a>Values in struct types</h2>
    <p class="Standard" dir="ltr">Struct values are a comma-separated sequence of members, where each member is a member name followed by white space, followed by the member value.  A struct value can be “sparse”, i.e. only have values for some members.  Thus if the struct type was:</p>
    <p class="Code" dir="ltr">struct { long el[2][3]; string m2; char c; };  // C pseudo code</p>
    <p class="Standard" dir="ltr">A valid value would be:</p>
    <p class="Code" dir="ltr">el {{1,3,2},{4,5,6}}, c x</p>
    <p class="Standard" dir="ltr">This struct value would not have a value for the “<span class="Code">m2</span>” member.</p>
    <h1 dir="ltr" id="toc55"><span class="SectionNumber">8 </span><a id="RefHeadingToc300191282573294"></a>Protocol Specifications (in OPS XML files)</h1>
    <p class="Body" dir="ltr">An <span style="font-style:italic">OpenCPI Protocol Specification (</span><span style="font-style:italic;font-weight:bold">OPS</span><span style="font-style:italic">)</span> describes, in one or more XML files, the set of messages that may flow between the ports of components.  The are described separately from the OCS XML file since they are by definition used by both sides of a connection between component ports, and the specs of both components (in their Port elements) refer to the same OPS.</p>
    <p class="Body" dir="ltr">The OPS describes the set of messages allowable using the protocol as well as some top level attributes for the protocol in general.</p>
    <p class="Body" dir="ltr">In some special cases the messages in a protocol are not specified individually, but rather a set of summary attributes is specified to indicate the basic behavior of the ports using the protocol.  This information is called a protocol summary.  Protocol summary attributes can also be present when messages are specified, and can override the attributes inferred from the message specifications.</p>
    <p class="Body" dir="ltr">As an example, a set of messages of different lengths and different payload formats, might be bounded (have some maximum length) or unbounded, depending on whether any message has <span style="font-style:italic">no</span> maximum length.  This “boundedness” attribute is normally inferred from the set of messages.  Another example is the smallest unit of data in any message.  If all messages in a protocol deal only with 64 bit integers, then the smallest unit of data for all messages is 8 bytes.  This “minimum data granularity” attribute is inferred from examining all the messages specified for the protocol.</p>
    <p class="Body" dir="ltr">A protocol summary is the set of all summary attributes, whether inferred from the messages specified for the protocol, or specified directly as attributes of the protocol.  When messages are specified, summary attributes override the values inferred from the message specifications.  When no messages are specified, the summary attributes are used by the OpenCPI code generation tools and runtime environment to determine certain behaviors, rather than having the attributes inferred from message specifications.</p>
    <p class="Body" dir="ltr">In this OPS files, messages are called “operations”, and fields of messages are called “arguments”.  This is legacy terminology based on an RPC (Remote Procedure Call) or RMI (Remote Method Invocation) model of communications, which does not currently apply to OpenCPI inter-component communications, which are all simply unidirectional connections conveying messages.</p>
    <p class="Body" dir="ltr">OPS files usually carry the suffix “<span class="Code">-prot.xml</span>”, although “<span class="Code">-protocol.xml</span>”, “<span class="Code">_protocol.xml</span>” are also used.</p>
    <h2 dir="ltr" id="toc56"><span class="SectionNumber">8.1 </span><a id="RefHeadingToc15663178005046"></a>Protocol <span style="text-decoration:none">element</span> as top level element.</h2>
    <p class="Body" dir="ltr">The protocol element is a top-level element in separate file whose name is the value of the protocol <span style="font-style:italic">attribute</span><span style="font-style:normal"> in a port element in an OCS</span><span style="font-style:italic">.  </span><span style="font-style:normal">It</span> specifies the message protocol used at a port. The Protocol will likely be reused across a variety of components and interfaces since it essentially specifies how two components talk to each other.  The protocol (element) has “Operation” subelements to indicate the different message types that may flow out of or into data ports using this protocol.</p>
    <h3 dir="ltr" id="toc57"><span class="SectionNumber">8.1.1 </span>Name attribute of Protocol elements</h3>
    <p class="Standard" dir="ltr">When the protocol element is the top-level element in a file, the (optional) name attribute is defaulted from the name of the file, with any “<span class="Code">-prot</span>”, “<span class="Code">_prot</span>”, “<span class="Code"><span lang="zxx" xml:lang="zxx">‑protocol</span></span>”, “<span class="Code">_protocol</span>”, “.xml” suffixes removed.  Since protocols are usually defined in separate files, the names are usually not present in the XML and thus defaulted from the file name.</p>
    <h3 dir="ltr" id="toc58"><span class="SectionNumber">8.1.2 </span>Protocol Summary Attributes</h3>
    <p class="Standard" dir="ltr">Other attributes of the protocol element are normally inferred from the Operation elements in the protocol as defined below and are thus rarely used explicitly.  Under some circumstances they may be used to override the inferred values or they may be specified in the absence of operation elements altogether.</p>
    <p class="Standard" dir="ltr">This table defines the extra protocol summary attributes that are normally inferred from examining Operation elements.</p>
    <p class="Caption" dir="ltr">Table <a href="#seqrefTable0">1</a>:  Protocol Summary Attributes</p>
    <table cellspacing="0" dir="ltr" id="Table17table" style="margin-top:0;margin-bottom:0;margin-left:auto;width:617.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableHeading" dir="ltr">Name</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableHeading" dir="ltr">Type</p>
          </td>
          <td style="border:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">NumberOfOpCodes</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">ULong</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Number of message types</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">DataValueWidth</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Ulong</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Number of bytes in smallest unit of data in any message</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">DataValueGranularity</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">ULong</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Minimum number of data values in any message.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">ZeroLengthMessages</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Bool</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Are any messages zero length?</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">MaxMessageValues</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Ulong</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Maximum number of data values in any message, or zero if not bounded</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">VariableMessageLength</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Bool</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Can messages be different lengths?</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">DiverseDataSizes</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Bool</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Are there different size data values?</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:165.59839px">
            <p class="TableContents" dir="ltr">UnBounded</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:45.8672px">
            <p class="TableContents" dir="ltr">Bool</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:380.2624px">
            <p class="TableContents" dir="ltr">Do any messages have unbounded length?</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="TableContents" dir="ltr"> </p>
    <h3 dir="ltr" id="toc59"><span class="SectionNumber">8.1.3 </span>Operation element of Protocol elements</h3>
    <p class="Body" dir="ltr">The term “Operation” is loosely associated with the analogous concept in RPC systems where the message is “invoking an operation on a remote object”, but in this context it simply describes one of the messages that is legal to send on a port with this protocol.  It has two attributes and some number of “Argument” child elements, which describe data fields in the message.</p>
    <h4 dir="ltr" id="toc60"><span class="SectionNumber">8.1.3.1 </span>Name attribute of Operation elements</h4>
    <p class="Body" dir="ltr">This string attribute is a case insensitive name of the operation/message within this protocol.  It is used in a way that is authoring-model specific, and should be an appropriate identifier for programming languages.</p>
    <h4 dir="ltr" id="toc61"><span class="SectionNumber">8.1.3.2 </span>Argument element of Operation elements</h4>
    <p class="Body" dir="ltr">This child element indicates a data field in the message payload for the given “operation” (message type).  Its attributes are the same as those of the “Property” element that describes a configuration property (Name, Type, StringLength, ArrayLength, SequenceLength, etc.).  If no argument elements are present under an Operation element, the operation defines messages with no data fields (sometimes called <span style="font-style:italic">Zero Length Messages</span>).  Argument elements are similar to “member” elements in property elements whose “type” attribute is “struct”, but arguments to an operation do <span style="font-style:italic">not</span> have to have bounded lengths, so the StringLength attribute is not required for strings, and the SequenceLength attribute can be zero (indicating no upper bound).</p>
    <h2 dir="ltr" id="toc62"><span class="SectionNumber">8.2 </span><a id="RefHeadingToc300211282573294"></a>Protocol Specification (OPS) examples</h2>
    <p class="Body" dir="ltr">This protocol has one message type consisting of 1024 unsigned short values.</p>
    <p class="Code" dir="ltr">&lt;Protocol<br />  &lt;Operation Name=”mess1”&gt;<br />    &lt;Argument Name=”val” Type=”uShort” ArrayLength=”1k”&gt;<br />  &lt;/Operation&gt;<br />&lt;/Protocol&gt;</p>
    <p class="Body" dir="ltr"> </p>
    <h1 dir="ltr" id="toc63"><span class="SectionNumber">9 </span><a id="RefHeadingToc15653178005046"></a>Worker Descriptions<a id="RefHeading70441790153948"></a> (in OWD XML files)</h1>
    <p class="Standard" dir="ltr">In each worker directory there is an XML file that describes the worker and references the spec file in the component library “specs” sub-directory.  These files are called <span style="text-decoration:underline">O</span>penCPI <span style="text-decoration:underline">W</span>orker <span style="text-decoration:underline">D</span>escriptions or OWDs.  The generic (common across authoring models) aspects of these implementation description files (OWDs) are described <a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Generic_Authoring_Model.pdf">i</a>n this section, while the OWD aspects specific to different authoring models are described in the respective sections for each authoring model.  Some authoring models allow multiple workers to be implemented in one worker directory (and in one source code file), in which case multiple OWDs may be in a single worker directory.</p>
    <p class="Standard" dir="ltr">The worker description file essentially adds non-default implementation information to the basic information found in the spec file.  Each authoring model defines what this worker-specific information might be (for example, the width of an FPGA data path for a port).  All OWDs have as the top-level XML element an XYZWorker element, where “XYZ” is the authoring model of the worker.</p>
    <p class="Standard" dir="ltr">If the worker in fact has <span style="font-style:italic">no</span> non-default behavior, there is no need for an OWD:  a default one will be generated.  This default OWD simply contains a reference to the spec file and specifies the authoring model.  E.g., if an RCC worker based on the spec file “search-spec.xml” had no non-default implementation attributes, the OWD file would be, entirely:</p>
    <p class="Code" dir="ltr">&lt;RCCWorker spec='search-spec'/&gt;</p>
    <p class="Standard" dir="ltr">Immediately following are the OWD content elements and attributes common to all authoring models, with the word “XYZ” used to represent the particular authoring model being used.</p>
    <p class="Standard" dir="ltr">The OpenCPI Worker Description (OWD) is not completely specified here, since it is customized for each authoring model.  Actual OWDs are defined for each authoring model, and the top-level element is named according to the authoring model.  For example, the RCC authoring model defines an OWD where the top-level element in the OWD XML file is “RCCWorker”.  This section describes aspects common to the OWDs for all authoring models.  (For XML fans, it is roughly an inherited schema).</p>
    <p class="Standard" dir="ltr">The top level element must refer to an OCS by either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">containing a ComponentSpec child element (not shared with any other OWD)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">indicating an OCS file by using the “spec” attribute.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">For example, if the “fastcore” implementation of the “corespec1” specification using the HDL authoring model referenced the component specification found in the “corespec1.xml” file, the OWD would like like:</p>
    <p class="Code" dir="ltr">&lt;HdlWorker	Name=”fastcore” Spec='corespec1.xml'<br />	---other attributes---<br />                           &gt;<br />	---other child elements---<br />&lt;/HdlWorker&gt;</p>
    <h2 dir="ltr" id="toc64"><span class="SectionNumber">9.1 </span><a id="RefHeading144212003349228"></a>XML Attributes of the top-level XYZWorker element.</h2>
    <h3 dir="ltr" id="toc65"><span class="SectionNumber">9.1.1 </span>Name attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">The “Name” attribute defaults to the name of the OWD XML file itself (without directory or extension) and is normally omitted.  The “Name” attribute of the component implementation is constrained to be acceptable as an identifier in several contexts, including case sensitive programming languages.  It is sometimes called the “worker name” or “implementation name”.</p>
    <p class="Standard" dir="ltr">While worker names may include both upper and lower case for stylistic or programming language purposes, workers are identified by OpenCPI in a case insensitive manner.  This means there should not be two workers using the same authoring model in the same package namespace whose names differ, only in case.</p>
    <p class="Standard" dir="ltr">The name of the implementation may be the same as the name of the OCS (the “spec name”).  It is typically not required to have a unique name for the OWD unless there are multiple implementations of one OCS that use the same authoring model.  I.e. OWD names are implicitly scoped by authoring model.</p>
    <h3 dir="ltr" id="toc66"><span class="SectionNumber">9.1.2 </span>Spec attribute of the XYZWorker element</h3>
    <p class="Standard" dir="ltr">This string attribute specifies the name of the file for the OCS for this worker.  The build scripts and makefiles automatically put the “specs” subdirectory (in the component library's top-level directory) into the search path when these worker description files are processed, so the spec files (OCSs) need only be referenced by their name and not any directory or pathname.  If the spec file is actually outside the component library, it can be a relative or absolute pathname.  The “.xml” suffix is assumed, thus it is not needed.</p>
    <h3 dir="ltr" id="toc67"><span class="SectionNumber">9.1.3 </span>Language attribute of the XYZWorker element</h3>
    <p class="Standard" dir="ltr">This string attribute specifies the source code language used in this worker.  The valid languages depends on the authoring model, and for each model there is a default language.  Some authoring models have only one valid language in which case this attribute is not required.</p>
    <h3 dir="ltr" id="toc68"><span class="SectionNumber">9.1.4 </span>ControlOperations attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">This attribute contains a comma-separated list of strings identifying the implemented control operations.  For operations that are mandatory for the authoring model, they are assumed. Thus the default implies a minimal implementation that only implements those operations required by the authoring model.  The control operations are listed in the LifeCycle Control section of the AMR.  Control operations that are required by the authoring model do not need to be mentioned.  When only mandatory operations are implemented, this attribute need not be specified.</p>
    <h3 dir="ltr" id="toc69"><span class="SectionNumber">9.1.5 </span>Endian attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">This attribute specifies the endian behavior of the worker code.  When workers are built, the build process may be run in three different modes to create three different types of binaries:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Little endian</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Big endian</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Dynamic endian based on an input supplied at runtime</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">The third way (dynamic) is generally not relevant for software since compilers only generate code for a specific assumed endianness.  But it is relevant to the FPGA build process to support FPGA bitstream configurations that can operate in both modes.  This OWD attribute specifies how the worker's code will work when subjected to these three build scenarios (as specified by the “ocpi_endian” parameter which is present for all workers of all types).</p>
    <p class="Standard" dir="ltr">The endian attribute values are described in the following table:</p>
    <table cellspacing="0" dir="ltr" id="Table15table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:618.26886px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#f3f3f3;vertical-align:middle;width:104.464005px">
            <p class="TableHeading" dir="ltr">Endian<br />Attribute</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#f3f3f3;vertical-align:middle;width:480.33282px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Neutral</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and is correct regardless of the setting.  This is the default value, and is generally correct for software workers.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Little</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and is will only operate correctly in a little endian mode.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Big</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and will only operate correctly in a little endian mode.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Static</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code will respect the endian parameter when set to “little” or “big” and the resulting binaries will operate correctly according to the compile-time parameter setting.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Dynamic</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code will respect all three values of the endian parameter.  If the parameter is “little” or “big”, the resulting binaries will work in the requested mode.  If the parameter is “dynamic”, the resulting binaries will work in an endian mode specified by an input signal or variable as specified in the authoring model.  Not all authoring models may have such an option.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 3 – Worker Endian Attribute Settings</p>
    <h2 dir="ltr" id="toc70"><span class="SectionNumber">9.2 </span><a id="RefHeading144232003349228"></a>Property and SpecProperty child elements in the OWD</h2>
    <p class="Standard" dir="ltr">Properties listed in the component spec indicate the external configuration interface for all implementations of the same spec.  From the external/application point of view, the “writable” aspect is either not writable at all, settable at initialization, or settable during execution (after start).  The “readable” aspect is either not readable at all, readable for a static/unchanging value, or readable for a “volatile” value that can change during execution.  This actually results in 9 valid combinations of readability and writability.</p>
    <p class="Standard" dir="ltr">A worker may have additional properties beyond what is specified in the component spec:  commonly extra status information for debugging.  Furthermore, workers may add to the accessibility of an existing property defined in the component spec.  E.g. it might make a property readable that was not readable in the component spec, for debug purposes (e.g. to read back what was written).  The accessibility added here results in the implementation having a superset of what was “promised” in the component spec.</p>
    <p class="Standard" dir="ltr">Whereas a component spec can only contain “Property” sub elements, a worker description can contain both Property and SpecProperty elements.  The “Property” elements introduce new worker-specific properties unrelated to those defined in the component spec.  The “SpecProperty” elements add worker-specific attributes to the properties already defined in the component spec.</p>
    <p class="Standard" dir="ltr">Worker-specific property attributes can occur either in the Property or SpecProperty elements here.  Property elements here support all the attributes for Property elements in the component spec (described above) as well as any implementation-specific attributes.  For attributes that apply to the Property elements here, any specific constraints for worker descriptions vs. component specs are noted below.</p>
    <p class="Standard" dir="ltr">Whereas an OCS can only contain “Property” elements, an OWD can contain both Property and SpecProperty elements.  The “Property” elements introduce new implementation-specific properties unrelated to those defined in the OCS.  The “SpecProperty” elements <span style="font-style:italic">add</span> implementation-specific <span style="font-style:italic">attributes</span> to the properties already defined in the OCS.</p>
    <p class="Standard" dir="ltr">Implementation-specific property <span style="font-style:italic">attributes</span> can occur either in the Property or SpecProperty elements here.  Property elements in the OWD support all the attributes for Property elements in the OCS (described in the AMR) as well as any implementation-specific attributes.  For attributes that apply to the Property elements, any specific constraints for OWDs vs. OCSs are noted below.</p>
    <h3 dir="ltr" id="toc71"><span class="SectionNumber">9.2.1 </span>Name attribute for OWD Property or SpecProperty elements</h3>
    <p class="Standard" dir="ltr">The Name attribute is the case insensitive name of the property. The “Name” attribute is used in <span style="font-style:italic">SpecProperty</span> elements to indicate which OCS property is being referenced.  In the <span style="font-style:italic">Property</span> elements it indicates the name of the implementation-specific property, which must not be the same as any Property element in the OCS.</p>
    <h3 dir="ltr" id="toc72"><span class="SectionNumber">9.2.2 </span>ReadSync and WriteSync for OWD Property or SpecProperty elements</h3>
    <p class="Standard" dir="ltr">These boolean attributes (default false) are used to indicate those properties that require the use of the beforeQuery and afterConfig control operations.  I.e., they indicate the need of the worker to know when a group of property settings which includes the indicated property is about to be read (ReadSync) and thus first require a beforeQuery control operation, or that such a group has been written (WriteSync) and thus requires an afterConfig control operation after the group is written.  Authoring models that have some native mechanism for reading or writing properties in atomic “batches”, have no need for these attributes or control operations.</p>
    <h3 dir="ltr" id="toc73"><span class="SectionNumber">9.2.3 </span>ReadError/WriteError attributes for OWD Property/SpecProperty elements</h3>
    <p class="Standard" dir="ltr">These Boolean attributes (default is false) indicate properties that may return errors when the property is read (ReadError) or written (WriteError).  If a worker does no such error checking and always succeeds when such property values are read or written, then leaving these values false allows control software to avoid any error checking, which in some models and systems can carry significant overhead.  Most workers in most models simply accept new values and thus the default is false.</p>
    <p class="Standard" dir="ltr">Some authoring models may always convey the error indications as part of how property values are read or written, in which case these attributes are not necessary.</p>
    <h3 dir="ltr" id="toc74"><span class="SectionNumber">9.2.4 </span>“Default” attribute for OWD Property/SpecProperty elements</h3>
    <p class="Standard" dir="ltr">This string attribute provides a default value for the property for this implementation.  If the Default attribute is specified in a SpecProperty element, it is providing a default value for this implementation only.  It is not permitted to provide a default value in a SpecProperty when the property in the OCS already has a default value.  This attribute's value is applied consistent with the access attributes, specifically:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">For an “initial” or “writable” property, the value is set into the implementation at initialization, if no other initial value is specified in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">For a “readable” property, the value will be statically available to control software.  If it is also writable, the value may be overridden at run-time after initialization.</p>
      </li>
    </ul>
    <h3 dir="ltr" id="toc75"><span class="SectionNumber">9.2.5 </span>Parameter attribute</h3>
    <p class="Standard" dir="ltr">This boolean attribute, in a SpecProperty element or a Property element, indicates that the property's value is used at compile/build time when the source code is processed into a binary artifact to be loaded and executed and run-time.  Parameter properties are supplied to the compilation process for the worker, in a form appropriate for the language and authoring model used.  The actual values supplied use the value specified in the “default” attribute (described just above), except when overridden by values specified in the build directory for the worker (as described <a class="Internet20link" href="http:">b</a>elow).  Thus the OWD specifies that the property is a build parameter, and can supply a default value for the parameter.</p>
    <p class="Standard" dir="ltr">Parameter properties are utilized for other purposes depending on the access attributes and whether the property is in the OCS or only in the OWD.</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">When a parameter property is “readable” or “volatile”, the value supplied to the build process is also available as a readable property at runtime, with a constant value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">When a parameter property is “initial”, the binary worker is only considered usable for an application if the value supplied to the build process matches the value specified (required) by the application.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">While the component spec defines properties and their initialization-time and run-time accessibility, a worker can further declare that a property is actually a compile time parameter of the implementation.  This is not allowed (and does not make sense) for properties that are “writable” at runtime.  When a worker has properties that are parameters, it means that the worker must be built (compiled, synthesized, elaborated) for specific values of such properties.  This has three implications:</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">An application can only use the worker if it is built for a property value that matches what is requested as an “initial” property in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Binary component libraries may have multiple builds (binary artifacts) for the same worker, but with different combinations of parameter values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The worker developer must decide which combinations of parameter values to build, in order to make alternative settings of such parameters available.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">This parameter feature allows workers to have compile time optimizations for certain parameter values, and also allow a single worker source code module to be optimized for different values.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">Parameter property values are applied to the build process as expected: e.g. by “preprocessor symbol definitions” for software, “generics” for VHDL, and “parameters” for Verilog.  A very common (and in fact built-in) parameter property is the “ocpi_debug” boolean property that specifies the typical “debug build” or “production build”.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc76"><span class="SectionNumber">9.3 </span><a id="RefHeading144252003349228"></a>Built-in parameters of all workers</h2>
    <p class="Standard" dir="ltr">OpenCPI automatically adds several parameter properties to all workers.   The values of these parameters are set during the build process in various ways.  Some of these parameters are set to values by the build process and are not intended to be set manually at all.  Others may be set or overridden manually in the Makefile.</p>
    <p class="Standard" dir="ltr">Each authoring model may also specify additional built-in parameters for all workers using that authoring model.  The built-in parameters that apply to all authoring models are described below.</p>
    <p class="Standard" dir="ltr">All built-in parameters use the “ocpi_” prefix to avoid collisions with component developers.</p>
    <h3 dir="ltr" id="toc77"><span class="SectionNumber">9.3.1 </span>The ocpi_debug built-in parameter property</h3>
    <p class="Standard" dir="ltr">This parameter property, of boolean type, indicates whether a “debug build” is being done.  The default value is false.  Setting this value to “true” indicates to worker source code that any debugging instrumentation or behavior should be enabled, at a potential cost of some resource usage and performance.  This built-in parameter is always available, and should be used in worker code to enable things like extra logging or statistics keeping.</p>
    <p class="Standard" dir="ltr">Setting this parameter to true will also in some cases, enable some introspection or instrumentation capabilities of code that is in the OpenCPI infrastructure or is generated code used implicitly by the worker.</p>
    <p class="Standard" dir="ltr">As mentioned earlier, some properties can be defined with a “debug” attribute value of “true”, which indicates that those properties should only be present when the worker is build with this ocpi_debug parameter set to true.</p>
    <p class="Standard" dir="ltr">These debug features allow debug behavior and debug properties to be permanently in the worker's source code and OWD while only being enabled as required.</p>
    <h3 dir="ltr" id="toc78"><span class="SectionNumber">9.3.2 </span>The “ocpi_endian” built-in parameter property</h3>
    <p class="Standard" dir="ltr">This parameter property indicates to worker code which endian mode is being used when the worker is being compiled.  Its type is an enumeration of three values:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">little:</span>  The build is intended to generate binaries for little endian systems</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">big:</span>  The build is intended to generate binaries for big endian systems.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">both:</span>  The build is intended to generate binaries that can be used in either little or big endian mode, selected at initialization time in the runtime environment.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">Software authoring models normally set this mode implicitly since compilers generate binary code for a specific endianness based on the processor being targeted (e.g. little for x86 and ARM, big for PPC).  Thus software compilation cannot support “both”.</p>
    <p class="Standard" dir="ltr">However some authoring models (notably HDL) can support all three compilation modes.  The ability of a worker's code to support various endian modes is specified in the worker's “endian” attribute at the top level of its OWD.</p>
    <h3 dir="ltr" id="toc79"><span class="SectionNumber">9.3.3 </span>Target-related builtin-parameters</h3>
    <p class="Standard" dir="ltr">[This section is preliminary and not implemented]</p>
    <p class="Standard" dir="ltr">There is also a set of target-related parameters that specify which target is being built, called “ocpi_os”, “ocpi_os_version”, “ocpi_arch” for software targets and “ocpi_vendor”, “ocpi_family” for FPGA targets.  All these target-related parameters have the type of “string”, and have values that only contain characters that are valid in programming languages:  upper and lower case letters, underscore, and numbers.</p>
    <p class="Standard" dir="ltr">These built-in parameters allow worker code to be optimized or conditionalized when building the code for certain targets.  For example, in the C language one could write:</p>
    <p class="Code" dir="ltr">#if OCPI_ARCH_x86_64()<br />  // code that is for x86_64 architectures<br />#elif OCPI_ARCH_ARM()<br />  // code that is for ARM architectures</p>
    <p class="Code" dir="ltr">#else<br />  #error unknown architectures<br />#endif</p>
    <p class="Standard" dir="ltr">In VHDL, one might do something like:</p>
    <p class="Code" dir="ltr">l1: if ocpi_vendor_xilinx generate<br /><span style="font-family:Courier,serif;font-size:13.333334px">–</span> code for xilinx<br />end generate l1;</p>
    <h2 dir="ltr" id="toc80"><span class="SectionNumber">9.4 </span><a id="Toc265171047"></a><a id="RefHeading144272003349228"></a>Port Elements of XYZWorker elements</h2>
    <p class="Standard" dir="ltr">Ports are how workers communicate with each other.  They define message-oriented, “data-plane” communication. Each authoring model defines how workers receive/consume and send/produce messages to or from other workers, whether collocated in the same device or executing elsewhere (possibly in a different type of device, including other workers implemented in other authoring models).</p>
    <p class="Standard" dir="ltr">Each authoring model has attributes and elements of this Port element specific to that authoring model, but there are a number of aspects common to all worker descriptions that are described here.  A Port element in a worker description matches the Port element in the component spec by name, and adds worker-specific information about how the worker implements the port.</p>
    <h3 dir="ltr" id="toc81"><span class="SectionNumber">9.4.1 </span>Name attribute of Port elements</h3>
    <p class="Standard" dir="ltr">This string attribute must match one of the names of the port elements in the component spec. It indicates for which component port the worker is providing additional implementation-specific information.  It is required.</p>
    <h1 dir="ltr" id="toc82"><span class="SectionNumber">10 </span><a id="Toc245388437"></a><a id="RefHeading53401790153948"></a><a id="Toc224890095"></a>The Worker Makefile</h1>
    <p class="Standard" dir="ltr">The “make” file (named “Makefile”) in the worker directory is frequently as simple as one line:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/worker.mk</p>
    <p class="Standard" dir="ltr">This indicates that this directory is for building a worker whose name and authoring model are derived from the name of the worker's directory, and whose worker description file (OWD) is named the same as the worker name, with “<span class="Code">.xml</span>” as the suffix, and whose source file for the actual implementation code for the worker also has the name of the worker with the suffix for the programming language.  Such an OWD (and this initial Makefile) will be initially generated when the worker is created using the <span class="Code">ocpidev</span> tool described below.</p>
    <p class="Standard" dir="ltr">Thus, if the name of the directory were “<span class="Code">search.rcc</span>”, then the simplest Makefile above would assume that the worker description file is in “<span class="Code">search.xml</span>” and the source code to compile for the worker was “<span class="Code">search.c</span>” (since C is the default language for the RCC authoring model).  Note that if the source file is missing, it will be created automatically as a “skeleton” of the implementation that does nothing, but compiles as a valid worker of the given authoring model.  It can then be edited to add the logic to perform its function.</p>
    <p class="Standard" dir="ltr">When “make clean” is run in the worker directory, any generated code skeleton file will be removed if it has not been edited since it was generated.  Even after the initial skeleton is edited (and thus no longer removed under “make clean”), a copy of the initial skeleton will still be left in the “gen” subdirectory for reference purposes with the name “<span class="Code">gen/search-skel.c</span>”.  This can be useful to look at if changes in the OWD (or even the OCS or OPS) cause changes to the generated skeleton.</p>
    <p class="Standard" dir="ltr">The worker makefile can also have other “make” variable settings specific to the authoring model, and also may list other source files and libraries needed to compile the worker into the appropriate binary file format (e.g. a shared object “.so” file for RCC workers on linux, or a “.ngc” file for HDL workers using Xilinx XST synthesis tool).<a id="Toc2453884461"></a></p>
    <p class="Standard" dir="ltr">The worker Makefile is commonly left as is (as created by <span class="Code">ocpidev</span>), but there are cases where some extra settings need to be present.  If the worker will consist of multiple source files, you can add source files (in addition to the primary file) by specifying the “SourceFiles” variable in the Makefile.  This variable can refer to additional files placed in this directory that are subsidiary to the primary worker source file.  The table below lists the variables you can set in this Makefile that are common to all authoring models.  Additional variables that only apply to specific authoring models are documented in the authoring model document.</p>
    <table cellspacing="0" dir="ltr" id="Table14table" style="margin-top:0;margin-bottom:0;margin-left:0;margin-right:auto;width:624.1344px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableHeading" dir="ltr">Variable Name<br />in Makefile</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableHeading" dir="ltr">Override/<br />augment<br />component<br />library Makefile?</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">SourceFiles</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">N</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of <span style="font-style:italic">additional</span> source files for this worker.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">Libraries</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of primitive libraries built elsewhere. If a name has no slashes, it is assumed to be in the OpenCPI CDK installation directory.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">OnlyTargets</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of the only targets for which this worker should be built</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">ExcludeTargets</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of targets for which this worker should NOT be built</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">XmlncludeDirs</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of directories elsewhere for searching for xml files included from the OWD (in addition to the <span class="Code">../specs</span> directory in the component library containing this worker)</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">Worker</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">N</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">Name of worker; the default is from directory name</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 4:  Variables in Worker Makefiles</p>
    <p class="Standard" dir="ltr">The variables with “Y” in the table above are those than can be specified in the component library’s Makefile to provide a default for all workers in the library.</p>
    <h2 dir="ltr" id="toc83"><span class="SectionNumber">10.1 </span><a id="RefHeading49191248407284"></a>Parameter Properties in Worker Makefiles</h2>
    <p class="Standard" dir="ltr">When a worker has parameter properties, values for these build-time parameters must be specified somehow.  When they have default values in the OWD or OCS and no other value is specified for a parameter, that default value is used when the worker is built.  Non-default values may be specified in several ways, causing the worker to be built for different values of its parameters.</p>
    <p class="Standard" dir="ltr">The “<span class="Code">target-*</span>” directories mentioned above are used to separate the files that result from building for different targets (e.g. <span class="Code">linux-c6-x86_64</span> vs. <span class="Code">linux-arm-zynq</span>, or [xilinx] <span class="Code">virtex6</span> vs [altera] <span class="Code">stratix5</span>).  Parameter properties add another dimension to the concept of “target”.  Thus, when a worker has parameter properties, a different target directory is created for each requested combination of parameter values on each requested target.  This more complex concept of target results in the definition of “<span style="font-style:italic;font-weight:bold">build configurations</span>”, which are combinations of target hardware and parameter values.</p>
    <p class="Standard" dir="ltr">If there are no parameter properties, or the worker is built only for the default values of all parameter properties, then no additional target directories are created.</p>
    <p class="Standard" dir="ltr">When a worker is built for non-default values of parameters, the target directory name is extended with a build configuration <span style="font-style:italic">prefix</span>, e.g.:</p>
    <p class="Code" dir="ltr">search.rcc/target-1-linux-c6-x86_64</p>
    <p class="Body" dir="ltr">The “build-config” prefix is a generated small identifier (generally numeric).  To determine the actual build configuration (parameter values) from this identifier, a list of built configurations is placed in the file <span class="Code">gen/<span style="font-style:italic">&lt;worker&gt;</span>.build</span><span class="DefaultParagraphFont">, an XML file.</span></p>
    <p class="Standard" dir="ltr">There are two mechanisms to specify parameter values.  One is for many simple cases, and is based on Makefile variables.  The other is more powerful and is based on a separate XML file to specify any possible build configuration.</p>
    <h3 dir="ltr" id="toc84"><span class="SectionNumber">10.1.1 </span><a id="RefHeading49211248407284"></a>Specifying Parameter Values using Variables in Makefiles</h3>
    <p class="Standard" dir="ltr">To specify the value for a parameter, you set the Make variable whose name is “Param_” followed by the name of the parameter, such as:</p>
    <p class="Code" dir="ltr">Param_xxx=5</p>
    <p class="Standard" dir="ltr">To specify multiple values for a parameter, Makefile variables can be used to specify multiple values for any parameter for which the worker should be built.  A makefile variable of the form:</p>
    <p class="Code" dir="ltr">ParamValues_xxx1=v1/v2/v3</p>
    <p class="Standard" dir="ltr">specifies that the parameter whose name is <span class="Code">xxx1</span>, <span style="font-family:Arial,serif;font-size:16.0px">should</span> be built for the values <span class="Code">v1</span>,<span class="Code">v2</span>, and <span class="Code">v3</span>.  This variable specifies these values independent of the values of any other parameter, and also <span style="font-family:Arial,serif;font-size:16.0px">independent</span> of the “target” variables that specify target hardware.  Thus if the variables were specified as:</p>
    <p class="Code" dir="ltr">ParamValues_p1=1/2/3<br />ParamValues_p2=abc/xyz</p>
    <p class="Standard" dir="ltr">then the worker will be built for each target specified, for all these combinations:</p>
    <p class="Code" dir="ltr">p1=1, p2=abc<br />p1=1, p2=xyz<br />p1=2, p2=abc<br />p1=2, p2=xyz<br />p1=3, p2=abc<br />p1=3, p2=xyz</p>
    <p class="Standard" dir="ltr">The “forward slash” character is used to separate the values to allow commas to be used within values when the parameter's data type is an array and/or sequence.</p>
    <p class="Standard" dir="ltr">If the worker was built for 2 targets, this would result in the worker being built for 12 different <span style="font-style:italic">build configurations</span>., which are inferred from the settings of parameter and target make variables.  Like all Makefile variables, these parameter variables can be specified on the make command line, and at higher levels of make.  Thus to build an entire component library with the “p1” parameter set to 2, you would simply do this in the top level directory of a component library:</p>
    <p class="Code" dir="ltr">make Param_p1=2</p>
    <p class="Standard" dir="ltr">The syntax of parameter values is the same as described for default values for properties in the Property Value Syntax section above, with the limitation that string values cannot have spaces, quotes, commas or backslashes.  If those are needed, the XML file method (described next) of specifying parameter values must be used.</p>
    <p class="Standard" dir="ltr">There are a number of limitations when using Makefile variables to specify parameter values:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Different parameters are <span style="font-family:Arial,serif;font-size:16.0px">independent</span> of each other so you get the cross-product of all combinations.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The value syntax is not generally usable for string values with embedded spaces, commas, quotes or backslashes.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">As with most Makefile variable uses, misspelling the name of a Makefile variable does not result in any error.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc85"><span class="SectionNumber">10.2 </span><a id="RefHeading49231248407284"></a>Specifying Parameters using Build Configuration XML files</h2>
    <p class="Standard" dir="ltr">Using the Makefile variables is the simplest way to specify build configurations, but that method can result in a combinatorial explosion of builds when there are several parameters that can take several values.  Also, the Makefile variable method restricts parameter values when they are strings due to “make” syntax restrictions.  To overcome these limitations, you can specify all build configurations in an XML file which can indicate specific builds with specific parameter values and specific targets.</p>
    <p class="Standard" dir="ltr">The name of this optional file is “<span class="Code"><span style="font-style:italic">&lt;worker&gt;</span>.build</span>”, and the top level element is “build”.  If it exists, it will be used to establish the build configurations instead of the Makefile.  Using this method of specifying different build configurations allows the Makefile to be left alone.  There are two sub elements that can occur in this top level element:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">parameter</span> to specify parameter values for all configurations</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">configuration</span> to specify a single configuration with its own parameter values.</p>
      </li>
    </ul>
    <h3 dir="ltr" id="toc86"><span class="SectionNumber">10.2.1 </span>Parameter elements in the <span style="font-style:italic;text-decoration:underline">&lt;worker&gt;</span>.build file</h3>
    <p class="Standard" dir="ltr">This element specifies a value for the parameter.  The <span class="Code">name</span> attribute specifies which parameter, and must match the name of the parameter property in the OWD (case insensitive).  The values for the parameter can be specified one of two ways:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">The <span class="Code">value</span> attribute can specify the single value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The <span class="Code">valueFile</span> attribute can specify a value in a file.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">When the parameter element is at the top level of the <span class="Code"><span style="font-style:italic">&lt;worker&gt;</span>.build</span> file, it is specifying a value common to all configurations.  If the same parameter is mentioned as a subelement of a configuration element, it overrides any top level value for that parameter for that configuration.  An example <span class="Code"><span style="font-style:italic">&lt;worker&gt;</span>.build</span> file is:</p>
    <p class="Code" dir="ltr">&lt;build&gt;<br />  &lt;parameter name='debug' value='true'/&gt;<br />  &lt;configuration id='1'&gt;<br />    &lt;parameter name='mode' value='lownoise'/&gt;<br />    &lt;parameter name='taps' valueFile='taps.txt'/&gt;<br />  &lt;/configuration&gt;<br />&lt;/build&gt;</p>
    <h3 dir="ltr" id="toc87"><span class="SectionNumber">10.2.2 </span>Configuration elements in the build.xml file</h3>
    <p class="Standard" dir="ltr">The <span class="Code">configuration</span> element has a numeric <span class="Code">id</span> attribute which will appear as the build configuration suffix in the name of the target directory for that configuration.  If the<span class="DefaultParagraphFont"> </span><span class="Code">id</span> attribute is zero, no suffix is added.  The configuration element also has <span class="Code">parameter</span> subelements indicating the specific parameter values for that configuration.</p>
    <h1 dir="ltr" id="toc88"><span class="SectionNumber">11 </span><a id="Toc224890096"></a><a id="Toc245388438"></a><a id="RefHeading144292003349228"></a>The Worker Source files</h1>
    <p class="Standard" dir="ltr">The worker source files must be written according to the authoring model, but as a starting point, if no such file exists, you can use “make skeleton” to create an empty skeleton of a worker implementation that will in fact compile, build and execute (doing nothing).  When the <span class="Code">ocpidev</span> tool creates a worker, it does this.  If additional source files should be compiled and linked to make the binary file in a worker directory, the “make” variable “SourceFiles” can provide a list of files in addition to the primary ones named for the worker being built.  For example if the file “utils.c” was used in an RCC implementation directory that was building workers w1 and w2 into the same binary file, the makefile would be:</p>
    <p class="Code" dir="ltr">Workers=w1 w2<br />SourceFiles=util.c<br />include $(OCPI_CDK_DIR)/include/worker.mk</p>
    <p class="Standard" dir="ltr">In this case three files, <span class="Code">w1.c</span>, <span class="Code">w2.c</span>, and <span class="Code">util.c</span> will be compiled together to form the worker binary file implementing <span class="Code">w1</span> <span style="font-style:italic">and</span> <span class="Code">w2</span>, as described by <span class="Code">w1.xml</span> and <span class="Code">w2.xml</span>.  If both workers have default implementation aspects, the xml files will be generated.</p>
    <p class="Standard" dir="ltr">Normally, the <span class="Code">Workers</span> variable value is inferred from the name of the worker directory, and it is only a single worker.</p>
    <p class="Standard" dir="ltr">Here is a file hierarchy of a component library “<span class="Code">mycl</span>” with a “<span class="Code">search</span>” component with RCC and HDL implementations, and a “<span class="Code">transform</span>” component with only an HDL implementation (before any compilation):</p>
    <p class="Code" dir="ltr">mycl/Makefile<br />    /specs/search-spec.xml<br />          /transform-spec.xml<br />    /search.rcc/Makefile<br />               /search.xml<br />               /search.c     (RCC C source file)<br />    /search.hdl/Makefile<br />               /search.xml<br />               /search.v     (HDL verilog source file)<br />    /transform.hdl/Makefile<br />                 /transform.xml<br />                 /transform.f</p>
    <h2 dir="ltr" id="toc89"><span class="SectionNumber">11.1 </span><a id="RefHeadingToc300231282573294"></a>How Parameter Value Settings Appear in Source Code.</h2>
    <p class="Standard" dir="ltr">Parameter values are compile-time constants in all authoring models.  The precise way that parameters and their values appear in source code varies by authoring model and programming language.  In most cases, there are standard data types for the OpenCPI property data types, and constants are defined that specify these values.  Examples are:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">C and C++:  A “static const” variable is defined which is initialized to the parameter value.  The name of the variable is the property name prefixed with “PARAM_”.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">VHDL:  A generic with the parameter's name is set to the value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Verilog:  A parameter with the parameter's name is set to the value.</p>
      </li>
    </ul>
    <h1 dir="ltr" id="toc90"><span class="SectionNumber">12 </span><a id="Toc224890091"></a><a id="Toc245388433"></a><a id="RefHeading53321790153948"></a>Component Libraries</h1>
    <p class="Standard" dir="ltr">OpenCPI components are developed in libraries.  OpenCPI component-based applications are defined as a composition (or assembly) of components, and the components are drawn from component libraries at execution time.  A component library has two forms:  source and binary.  The source form is for component developers, and the binary form is for application developers and users.  The binary form is the result of “building” in the source library, “exporting” the results to a binary package, and then perhaps “installing” that binary package onto system and a directory where applications can find and use the implementations in the library.  As a shortcut during component development, the “export” and “install” steps can be skipped since a “binary” version of the library is actually built directly as a subdirectory of the source tree.</p>
    <p class="Standard" dir="ltr">A component library, in source form for component developers, is a directory that contains:</p>
    <ul class="listlevel1WWNum19">
      <li>
        <p class="ListBullet" dir="ltr">Component specifications (OCSs, OPSs, “spec files”) in a “specs” subdirectory.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Component implementations (workers, each in its own subdirectory)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Component tests in *.test subdirectories.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The <span style="font-style:italic">Makefile</span> for the component library as a whole</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">When built, a library exports subdirectory (the ”lib” subdirectory) is the binary form of the library (files specifically exported by the library as required by applications when they <span style="font-style:italic">use</span> components in the library).</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">The exported version of a component library contains mostly binary files (a.k.a. <span style="font-style:italic">artifacts</span>), and some XML files.  An exported library thus contains a heterogeneous collection of binary files containing built workers in various technologies.</p>
    <p class="Standard" dir="ltr">When the developer of the library wishes to send its binary form to an application developer or user, it simply provides the contents of this “lib” subdirectory (as an installable package), which is then installed on the user’s system, typically in the “/opt/opencpi/lib/xxx” directory where “xxx” is the name of the library.  Note that OpenCPI component libraries in binary form can contain compilations for different operating systems, FPGA chips, or CPUs in the same binary directory tree (e.g. linux for x86 and linux for ARM, or for Xilinx and Altera FPGAs, or for different simulators).</p>
    <p class="Standard" dir="ltr">The exported version of the component library (in the “lib” subdirectory) can also be used directly for applications, typically in a development environment that has both component libraries and applications.  Also, see the “project” section below which defines a larger directory structure containing a variety of OpenCPI assets, including component libraries and applications.</p>
    <p class="Standard" dir="ltr">For application developers and users, libraries are accessed dynamically at runtime via the “OCPI_LIBRARY_PATH” environment variable, similar the “LD_LIBRARY_PATH” environment variable on UNIX/Linux systems, or DYLD_LIBRARY_PATH on MacOSX.</p>
    <p class="Standard" dir="ltr" style="page-break-before:always">The (clean, unbuilt) directory structure of a component library is shows in the figure below.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img002.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img002.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:605.0688px;height:421.19037px" /><a id="Toc224890092"></a></p>
    <p class="Caption" dir="ltr">Figure 1: Component Library Directory Structure</p>
    <h2 dir="ltr" id="toc91"><span class="SectionNumber">12.1 </span><a id="Toc245388440111"></a><a id="Toc224890098111"></a><a id="RefHeading49151248407284"></a>The Component Library Makefile</h2>
    <p class="Standard" dir="ltr">The make file (named “Makefile”) in the top-level directory of the component library is basically a list of implementations that should be built, and the target platforms that each authoring model should be built for.  The last line in the file establishes it as a Makefile for an OpenCPI component library and be:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/lib.mk</p>
    <p class="Standard" dir="ltr">The OCPI_CDK_DIR variable must be set either in the environment or as a variable in the makefile to point to the CDK installation.  Before the “include” line above, several “make” variables can be set in the file.  The most important one is “Workers”, which is a list of which worker subdirectories to be built for this component library.  If that variable is not set at all, then it is assumed that all subdirectories of the component library that contain workers, should in fact be built.  For example:</p>
    <p class="Code" dir="ltr">Workers=fft.rcc fft.hdl fft-for-xilinx.hdl fir.rcc</p>
    <p class="Standard" dir="ltr">In order to avoid name space collisions when using multiple component libraries, there is also a “package” variable that specifies what namespace should be used for the specs and implementations in this library.  The default package name is “local”, but for libraries used outside the local organization, it should generally be the reverse internet domain name similar to the name spaces used for Java classes.  E.g.:</p>
    <p class="Code" dir="ltr">Package=com.xyz-corp.siglib</p>
    <p class="Standard" dir="ltr">The package name “ocpi” is reserved for OpenCPI component specifications.</p>
    <p class="Standard" dir="ltr">Finally, for each authoring model, there may be a (default) list of <span style="font-style:italic">targets</span> to build for.  I.e. for the RCC authoring model, the variable “RccTargets” would be set to a list of targets to build all RCC workers for.  For all software (not HDL) authoring models, the default target, if none is specified, is the machine and operating environment of the machine doing the building.  Other software targets would use cross-compilers.  These target variables can always be overridden on the “make” command line.</p>
    <p class="Standard" dir="ltr">Other non-software authoring models (for processors that will never be the one running the tools), have other default targets (described in documents for the authoring model).</p>
    <p class="Standard" dir="ltr">Software targets generally use the format: <span style="font-style:italic">os-version-processor</span>.  The <span style="font-style:italic;font-weight:bold">os</span> part is something lower case like “linux” or “macos”.  The <span style="font-style:italic;font-weight:bold">version</span> part is determined by whoever sets up tools.  For linux, it is typically a letter for a distribution followed by a major number (e.g. “c6” for Centos6, “r5” for RHEL 5, “u13” for Ubuntu 13).  For macos, it is simply the major version (e.g. “10.8”).  The processor part is a lowercased version of what the “uname –p” unix command would print, such as “x86_64”.</p>
    <p class="Standard" dir="ltr">Typical examples are linux-c6-x86_64 for 64-bit Centos6 linux on x86, or macos-10.8-x86_64.  HDL targets typically contain an architecturally compatible part family (e.g. virtex6 or stratix4).  See the HDL development section below.</p>
    <p class="Standard" dir="ltr">Thus if all subdirectories containing workers should indeed be built, and the desired build targets are the default ones (or specified on the command line), and the package name is the default, then the single “include” line above is sufficient to built a component library.</p>
    <p class="Standard" dir="ltr">Creating a new component library “mycl” is accomplished by using the ocpidev tool, using the “add library” command.  This tool is described in the Tools section below.</p>
    <p class="Code" dir="ltr">ocpidev add library <span style="font-style:italic">&lt;name&gt;</span></p>
    <h2 dir="ltr" id="toc92"><span class="SectionNumber">12.2 </span><a id="Toc224890100"></a><a id="Toc245388442"></a><a id="RefHeading51051248407284"></a>Library Exports</h2>
    <p class="Standard" dir="ltr">When a component library is built, all the workers are compiled and the binary “artifact” files (the final result of the worker building process) are created.  Different authoring models have many intermediate code and metadata files during the build process, but only a subset of these are required and essential for an application to <span style="font-style:italic;font-weight:bold">use</span> the component and its workers.  Thus the build process for a library creates an “export” directory to be used by application developers.  The export subdirectory is thus the external view of the (built) library that could be sent to someone needing to <span style="font-style:italic">use</span> the library, but not to <span style="font-style:italic">build</span> or <span style="font-style:italic">modify</span> it.</p>
    <p class="Standard" dir="ltr">The export subdirectory (called “lib”), is actually a hierarchy filled with symbolic links to the actual files as built for the component implementations in the library.  To export it one might do:</p>
    <p class="Code" dir="ltr">tar czfLs ../mycl.tgz /lib/mycl lib</p>
    <p class="Standard" dir="ltr">This would create a gzip-compressed tar file of the export tree, with symbolic links followed (taking the actual files rather than the links), and changing the top directory in the tar file to be “mycl” rather than “lib”.  Such a file could be expanded in place using:</p>
    <p class="Code" dir="ltr">tar xzf mycl.tgz</p>
    <p class="Standard" dir="ltr">and the resulting directory (called “mycl” in this case) referenced by applications using the OCPI_LIBRARY_PATH environment variable as described in the OpenCPI Application Guide.</p>
    <p class="Standard" dir="ltr">While exporting a library like this is useful and convenient, it may also be more appropriate to export a whole project, which is a larger collection of OpenCPI assets and could contain multiple component libraries.  See the Project section below.</p>
    <h1 dir="ltr" id="toc93"><span class="SectionNumber">13 </span><a id="RefHeading53361790153948"></a>Developing Workers</h1>
    <p class="Standard" dir="ltr">This section describes the aspects of the worker development process that is common across all types of workers and authoring models.  Previous sections above described the files involved in worker development, including:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">OCS XML files:</span>  component specifications, usually in <span class="Code">../specs</span></p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">OPS XML files:</span>  protocol specifications, usually in <span class="Code">../specs</span></p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">OWD XML files:</span>  worker descriptions</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Worker Makefiles:</span>  makefiles in worker directories</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Worker Build files:</span>  XML files for specifying build configurations</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Worker Source files:</span>  Programming language source code for the worker.</p>
    <p class="Standard" dir="ltr">This section describes the development process using these files.</p>
    <p class="Standard" dir="ltr">Worker development details for each authoring model are described in the document for each authoring model.  Some authoring models (e.g. RCC) support creating a single binary file (“artifact”) that implements multiple workers, but usually a single worker implementation is in its own subdirectory and when compiled, results in a single binary (artifact) file for each build configuration (target and parameter values).</p>
    <h2 dir="ltr" id="toc94"><span class="SectionNumber">13.1 </span><a id="RefHeadingToc300251282573294"></a>Creating Workers</h2>
    <p class="Standard" dir="ltr">A worker is created, either standalone or in a component library,  using the <span class="Code">ocpidev</span> tool, with the command:</p>
    <p class="Code" dir="ltr">ocpidev add worker <span style="font-style:italic">&lt;name&gt; &lt;spec&gt; &lt;language&gt;</span></p>
    <p class="Standard" dir="ltr">The authoring model is inferred from the <span class="Code"><span style="font-style:italic">&lt;name&gt;</span></span>, using the suffix of the name as the authoring model.  The <span class="Code"><span style="font-style:italic">&lt;spec&gt;</span></span> argument specifies the name of the OCS file, normally without any directory indicated (expected to be in the <span class="Code">../specs</span> directory).  If the new worker will embed the component spec in its own OWD, then the <span class="Code"><span style="font-style:italic">&lt;spec&gt;</span></span> argument can be set to “<span class="Code">none</span>”.  This is rare, but some special workers will clearly be the only implementation of a spec and thus there is no need for separate spec file.</p>
    <p class="Standard" dir="ltr">The <span class="Code"><span style="font-style:italic">&lt;language&gt;</span></span> is one of the programming languages allowed for the authoring model (e.g. <span class="Code">c</span>, or <span class="Code">c++</span> for RCC, <span class="Code">vhdl</span> or <span class="Code">verilog</span> for HDL).</p>
    <p class="Standard" dir="ltr">This command is executed in the directory where the new workers's directory will be created.  Other options for <span class="Code">ocpidev</span> are fully described in the tool section below.</p>
    <p class="Standard" dir="ltr">Similarly, the command:</p>
    <p class="Code" dir="ltr">ocpidev rm worker <span style="font-style:italic">&lt;name&gt;</span></p>
    <p class="Standard" dir="ltr">will remove the worker, and is essentially equivalent to</p>
    <p class="Code" dir="ltr">rm -r -f <span style="font-style:italic">&lt;name&gt;</span></p>
    <p class="Standard" dir="ltr">When a worker is created, all the worker's XML, Makefile and source language files are initially automatically generated by <span class="Code">ocpidev.</span><span class="DefaultParagraphFont">  Several internal files (not for user editing) are also</span> placed in a “<span class="Code">gen</span>” subdirectory of the worker’s directory.  When source files are compiled, the resulting binary files are placed in subdirectories named: <span class="Code">target<span style="font-style:italic">-</span><span style="font-style:normal">&lt;target&gt;</span></span>, where <span style="font-style:italic">“</span><span class="Code"><span style="font-style:italic">&lt;target&gt;</span></span>” is the type of hardware the compilation is targeting.  Cleaning (via “make clean”) a worker directory simply removes the “<span class="Code">gen</span>” and all “<span class="Code">target-*</span>” subdirectories.  In almost all cases, files in the “<span class="Code">gen</span>” subdirectory should be considered read-only and not edited.<a id="Toc2453884391"></a><a id="Toc2248900971"></a></p>
    <p class="Body" dir="ltr"><a id="RefHeading49171248407284"></a>Creating a new worker creates initial versions of three files in the worker's directory;  the Makefile, the OWD and the skeleton source file.  These are the files the developer can edit as necessary, although frequently the Makefile and the OWD XML file do not need any further editing.</p>
    <p class="Body" dir="ltr">The initial source file is termed the “<span style="font-style:italic;font-weight:bold">skeleton</span>”, and is named</p>
    <p class="Code" dir="ltr"><span style="font-style:italic">&lt;worker-name&gt;</span>.<span style="font-style:italic">&lt;source-suffix&gt;</span><br />  <span style="font-style:italic">e.g.</span><br />xyz.c</p>
    <p class="Standard" dir="ltr">It is compilable, although essentially with empty logic that does nothing interesting.  This allows the worker to be test-built even before any editing is done.  Each authoring model describes how and where this skeleton source file should be edited and “filled out” with the logic that makes it perform its intended function.  A copy of this initial skeleton file is always put in the “gen” subdirectory, with the name:</p>
    <p class="Code" dir="ltr">gen/&lt;worker-name&gt;-skel.&lt;source-suffix&gt;<br />  e.g.<br />gen/xyz-skel.c</p>
    <p class="Standard" dir="ltr">This copy can always be examined to see what the skeleton was originally, before any editing.  It can also be useful to examine, after the OCS, OPS, or OWD has changed, in case changes are require in the source file.  After the initial skeleton (<span style="font-style:italic">not</span> the copy in “gen”) is edited by the developer, it will never be overwritten or removed by “make clean” or any other command.</p>
    <h2 dir="ltr" id="toc95"><span class="SectionNumber">13.2 </span><a id="RefHeadingToc300271282573294"></a>Editing Workers</h2>
    <p class="Standard" dir="ltr">The options and reasons for editing the worker's Makefile, as well as its OWD are described in their respective sections above.</p>
    <p class="Standard" dir="ltr">Editing source files is normally simple:  the primary source file, whose name is the name of the worker followed by a source suffix, started life as a “skeleton” and was edited to add the logic to perform its function, with the code as required in the respective authoring model document.</p>
    <p class="Standard" dir="ltr">When it is useful to break the logic into supporting code modules in other source files, those files are created manually and added to the SourceFiles make variable in the worker's Makefile.  In some authoring models and languages, the files listed in the SourceFiles variable must be in dependency order, with lower level modules/files preceding those that depend on them.  The primary source file is always considered the top level module for the worker and is essentially put at the end of the list automatically.</p>
    <p class="Standard" dir="ltr">Some changes to the OWD, OCS, OPS and even Makefiles can result in changes that require corresponding changes in the worker's primary source files, which was initially generated as a skeleton.  Since the developer has likely manually edited the primary source file,, it is not touched when such changes are required.  If it is clear to the developer when these changes are required, they can do it before any building.  However, it is likely that the required changes will create build/compilation errors.</p>
    <p class="Standard" dir="ltr">Examples would be such things are renaming ports or properties, adding or subtracting access attributes to properties, converting properties to parameters, etc.</p>
    <p class="Standard" dir="ltr">When any such changes are made, the skeleton is regenerated properly when the next build is done, and the result places in the file:</p>
    <p class="Code" dir="ltr">gen/<span style="font-style:italic">&lt;worker&gt;</span>-skel.<span style="font-style:italic">&lt;source-suffix&gt;</span></p>
    <p class="Standard" dir="ltr">When the developer needs to edit the worker source file to accommodate such changes, they can examine this regenerated skeleton, which may clarify what changes are necessary.</p>
    <p class="Standard" dir="ltr">The authoring model documents also list common changes to the non-source files, and the corresponding changes required in the source file.  A simple example is that for VHDL workers using the HDL authoring model, the skeleton lists the lower level primitive libraries that the worker depends on.  If such a primitive library is added to the worker Makefile, the library needs to be added to the list of libraries in the skeleton.</p>
    <h2 dir="ltr" id="toc96"><span class="SectionNumber">13.3 </span><a id="RefHeadingToc300291282573294"></a>Building Workers</h2>
    <p class="Body" dir="ltr">While workers are normally built as part of building a whole component library, or even a whole project, a worker build can be commanded locally, in the worker's directory, by typing “make”.  This is especially useful when compiling new code and addressing syntax errors.</p>
    <p class="Body" dir="ltr">The target of a worker build is specified in many ways.  For software authoring models the default target is always the local development machine on which the building is taking place.  For other authoring models (e.g. HDL for FPGA workers), there is a global default that is part of the OpenCPI installation, currently “<span class="Code">zynq</span>”.</p>
    <p class="Body" dir="ltr">There are Makefile variables named <span class="Code"><span style="font-style:italic">&lt;Model&gt;</span>Targets</span> and <span class="Code"><span style="font-style:italic">&lt;Model&gt;</span>Target</span>, which specify the targets that should be built.  The <span class="Code"><span style="font-style:italic">&lt;Model&gt;</span></span> is a capitalized version of the authoring model of the worker, e.g. Rcc, or Hdl.  The plural version can be set to a list of  targets, while the singular one must be set to one target.  These variables can be set in several ways:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">On the “make” command line, like “HdlTargets=zynq  stratix4”, or “RccTarget=linux-c7-x86_64”.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Inherited from settings the project's or component library's Makefile.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Set in the environment</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">Thus workers can be built for multiple targets with one command.  This can be useful to check whether the source code is acceptable to all the different compilers.</p>
    <p class="Standard" dir="ltr">The worker build process has the typical “make” dependencies such that rebuilds will only happen if any dependent files are changed, including the OCS/OPS/OWD XML files.<a id="Toc245388436"></a><a id="Toc224890094"></a></p>
    <h1 dir="ltr" id="toc97"><span class="SectionNumber">14 </span><a id="RefHeadingToc300311282573294"></a>Developing OpenCPI Assets in <span style="font-style:italic">Projects</span></h1>
    <p class="Standard" dir="ltr">In OpenCPI a <span style="font-style:italic;font-weight:bold">project</span> represents a work area in which a variety of assets are created and developed.  Projects can contain all types of assets that are described fully in other documents and are outside the scope of this one, including:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Component libraries with specs and workers.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Applications (described in the Application Development Guide).</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">HDL primitives and assemblies (described in the HDL Development Guide)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">HDL devices, cards, slots (described in the HDL development Guide)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Platform support assets (described in the Platform Development Guide)</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">A project is a standard directory structure that holds the various OpenCPI assets in source code form, along with the Makefiles that describe how they are built (options, targets, etc.).  The project structure provides a means to bundle a collection of assets which may have a logical relationship or for a specific application.  </p>
    <p class="Standard" dir="ltr">The ability to develop assets outside of a project (a.k.a. standalone) is also supported, but not discussed in this section.</p>
    <p class="Standard" dir="ltr">The <span class="Code">ocpidev</span> tool is used to create and then populate a project directory structure with the various asset types.  The created skeleton directory structure is buildable.</p>
    <p class="Standard" dir="ltr">The structure of a project, and types of assets (shown enclosed in &lt;&gt;), is shown in the following diagram (with the Makefiles and other files omitted except at the project level)</p>
    <p class="Code" dir="ltr">Project.mk<br />Project.exports<br />Makefile<br />applications/&lt;applicationXYZ&gt;/<br />specs/<br />components/&lt;componentlibXYZ&gt;/&lt;workerXYZ&gt;<br />                            /specs<br />hdl/primitives/&lt;primitiveXYZ&gt;/<br />hdl/assemblies/&lt;assemblyXYZ&gt;/<br />hdl/platforms/&lt;platformXYZ&gt;/<br />hdl/devices/&lt;device-workerXYZ&gt;/<br />           /specs/<br />hdl/cards/&lt;card-device-worker&gt;/<br />         /specs/</p>
    <p class="Standard" dir="ltr">Note that the top level “specs” directory is separate from the <span class="Code">specs</span> directory in any component library.  It is a project-wide <span class="Code">specs</span> directory that applies to all component libraries in the project (or entirely standalone if there are no component libraries in the project).</p>
    <p class="Standard" dir="ltr">Creating a project creates a skeleton directory structure that is buildable, but of course it will build nothing initially since it initially has no assets.  At the top level of a project is a “<span class="Code">components</span>” directory which can be the single component library in the project.  Alternatively, there can be multiple component libraries in the project, each being a directory under this <span class="Code">components</span> directory.</p>
    <p class="Standard" dir="ltr">In addition to the various directories, three required files are generated at the top level:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Makefile</span>:  the top level Makefile for the project which allows building all assets from the top level project directory.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Project.mk</span>:  the make file fragment that defines make variables and options that are used project-wide, for all assets at all directory levels.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Project.exports</span>:  a file that specifies which assets and files should be visible from outside the project, i.e. visible to users of the deliverables of the project.</p>
    <p class="Standard" dir="ltr">These files are automatically created when the project is created, but may be edited later as necessary.</p>
    <h2 dir="ltr" id="toc98"><span class="SectionNumber">14.1 </span><a id="RefHeadingToc302251282573294"></a>Using projects</h2>
    <p class="Standard" dir="ltr">When <span style="font-style:italic">using</span> a project, from outside the project, the environment variable OCPI_PROJECT_PATH can be used to specify a set of projects to be searched in order, when various types of assets are being located during development.  Like most other “PATH” environment variables, it is a colon-separated list of project directories to be searched when looking for various asset types.  The actual directories searched within a project depends on the type of asset being sought.  E.g., if a component library is being sought, the search will use the component libraries within the project.</p>
    <p class="Standard" dir="ltr">The following sections describe the <span class="Code">ocpidev</span> tool, followed by detailed descriptions of the generated (and then editable) top-level project files.  The individual asset types are described in detail in other sections of this and in other documents.</p>
    <h2 dir="ltr" id="toc99"><span class="SectionNumber">14.2 </span><a id="RefHeadingToc300391282573294"></a>The <span style="text-decoration:underline">ocpidev</span> tool for managing project assets.</h2>
    <p class="Body" dir="ltr">This tool is used to create projects and populate projects for developing assets in the project.</p>
    <p class="Body" dir="ltr">The general syntax is:</p>
    <p class="Code" dir="ltr">ocpidev &lt;command&gt; &lt;name&gt; [&lt;required-arguments&gt;] &lt;options&gt;</p>
    <p class="Body" dir="ltr">Commands can contain multiple words.  Options are indicated with a leading hyphen.  Commands, with the required positional arguments are:</p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">create project &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">create a project in the named directory</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add application &lt;name&gt;:  <span style="font-style:normal;font-weight:normal">add an application to the project</span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add library &lt;name&gt;:  <span style="font-style:normal;font-weight:normal">add a component library to the project</span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add spec &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add a component spec (XML file) to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add protocol &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add a protocol (XML file) to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add worker &lt;name&gt; &lt;spec&gt; &lt;language&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add a worker to a component library</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add assembly &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL assembly to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add card &lt;name&gt;: <span class="DefaultParagraphFont"> <span style="font-style:normal;font-weight:normal">add an HDL card (definition) to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add slot &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL slot (type) to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add device &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL device worker to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add proxy &lt;name&gt; &lt;slave-worker&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add a proxy worker to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add platform &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL platform to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add primitive library &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL primitive library to the project</span></span></p>
    <p class="IndentHang" dir="ltr" style="font-style:italic;font-weight:bold">add primitive core &lt;name&gt;:  <span class="DefaultParagraphFont"><span style="font-style:normal;font-weight:normal">add an HDL primitive core to the project</span></span></p>
    <p class="Standard" dir="ltr">Most of these commands simply create a directory in the right place in the project and create an initial Makefile with the appropriate “include” directive to include the appropriate makefile fragment from the OpenCPI CDK.</p>
    <p class="Standard" dir="ltr">When adding specs, protocols, and workers, a library option (<span class="Code">-l &lt;library&gt;</span>) may be supplied to indicate which component library the asset should be added to.  If the project has a single library in the <span class="Code">components</span> directory, this option is not required.</p>
    <p class="Standard" dir="ltr">When adding a device worker or device proxy , a platform option (<span class="Code">-p <span style="font-style:italic">&lt;platform&gt;</span></span>) may be supplied to indicate which platform-specific device library to add the device worker too.</p>
    <p class="Standard" dir="ltr">When adding a primitive core, a “<span class="Code">-t <span style="font-style:italic">&lt;top-name&gt;</span></span>” option may be supplied to indicate that actual top level module name for the core.  This is necessary when a core is named something different than the actual top level module name, which may not be self-explanatory and unchangeable.  The boolean “<span class="Code">-b</span>” option may also be supplied when adding primitive cores, to indicate that the core is prebuilt, and not provided in source code.</p>
    <h2 dir="ltr" id="toc100"><span class="SectionNumber">14.3 </span><a id="RefHeadingToc300331282573294"></a>The project Makefiles</h2>
    <p class="Body" dir="ltr">Most of the directories in a project contain a file named “<span style="font-style:italic;font-weight:bold">Makefile</span>”, which is used to build the assets in that directory.  In every case, the <span style="font-style:italic">Makefile</span> has the same form, which is to set some optional “make” variables, and then include a standard makefile fragment from the OpenCPI CDK which is appropriate for the directory.  In all cases these Makefiles are automatically generated when a project is created, and can subsequently be edited by the developer to specify additional optional variable settings or add customized “make” targets etc.  In all cases these <span style="font-style:italic">Makefiles</span> can be left as is, with their default behavior being adequate and appropriate.  Thus all makefiles have initial content that is one line.  For the top level <span style="font-style:italic">Makefile</span> in a project, it is:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/project.mk</p>
    <p class="Body" dir="ltr">An example of an optional variable setting is the list of targets for which this project should normally be built.  E.g. the following file would be a top level project <span style="font-style:italic">Makefile</span> that, when building HDL (FPGA) assets from the top level of the project, would only build for the Modelsim simulator and the ml605 Xilinx virtex6 development board:</p>
    <p class="Code" dir="ltr">HdlPlatforms=modelsim_pf ml605<br />include $(OCPI_CDK_DIR)/include/project.mk</p>
    <p class="Body" dir="ltr">When a Makefile is in a directory with a number of subdirectories for the same type of asset, a variable can be set which lists the assets to build.  This variable is optional, and when not specified, all such assets are built.  For example, in a component library where all the subdirectories contain workers, the default Makefile is simply:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/lib.mk</p>
    <p class="Body" dir="ltr">This implies that all worker subdirectories should always be built.  If the developer had workers that for some reason should <span style="font-style:italic">not</span> be built, or they should be built in a particular order, then the “Workers” variable can be specified to list the explicit set of workers that <span style="font-style:italic">should</span> be built, in order, e.g.:</p>
    <p class="Code" dir="ltr">Workers=fft.rcc fft.hdl<br />include $(OCPI_CDK_DIR)/include/lib.mk</p>
    <p class="Body" dir="ltr">This same idea applies to directories in a project that contain HDL assemblies, HDL platforms, HDL primitives, applications, devices, cards, and slots, etc.</p>
    <p class="Body" dir="ltr">Each standard make file (fragment) has a default target that builds all assets (when “make” is invoked with no target), as well as a “clean” target which removes all generated/temporary files (except the initial Makefiles).  When a directory holds assets of the same type, they all have a corresponding make target.  E.g., in a component library, any worker can be built be specifying it as a make target.  Additional “make” targets may be available, such as in the top level project directory which has these make targets:</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic">components</span></span> — build all component libraries (all workers in each)</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic">applications</span></span> — build all applications in the “applications” subdirectory</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic">hdlplatforms</span></span> — build all the HDL platforms in the hdl/platforms subdirectory</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic">hdlassemblies</span></span> — build all the HDL assemblies in the hdl/assemblies subdirectory</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic;font-weight:bold">hdl</span></span> — build all HDL assets (primitives, components, platforms, assemblies)</p>
    <p class="IndentHang" dir="ltr"><span class="Code"><span style="font-style:italic">test</span></span> — build all tests in all component libraries</p>
    <p class="Standard" dir="ltr">The variables that apply to the Makefiles for each assets type are described in the sections describing development of those assets.</p>
    <h2 dir="ltr" id="toc101"><span class="SectionNumber">14.4 </span><a id="RefHeadingToc300351282573294"></a>The Project.mk File for project-wide variable settings</h2>
    <p class="Body" dir="ltr">This file <span style="font-style:italic">must</span> exist in the top level directory of a project.  It contains variable settings that apply to all levels of a project.  Its existence indicates that the directory is in fact a project.  <span style="font-style:normal;font-weight:bold">In all directories under a project, this file is found by looking in parent directories until the </span><span class="Code"><span style="font-style:normal;font-weight:bold">Project.mk</span></span><span style="font-style:normal;font-weight:bold"> file is found.</span>  (This similar to how the “git” tool finds the top level of a git repository by searching for a file named “<span style="font-style:italic;font-weight:bold">.git</span>”).</p>
    <p class="Body" dir="ltr">This top level project file is included in all the Makefiles automatically (by the included standard makefile fragment at each level).  It is <span style="font-style:italic">not</span> the file in the CDK that is included via the directive at the end of the project's Makefile:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/project.mk</p>
    <p class="Body" dir="ltr">Variable settings in the project's <span class="Code">Project.mk</span> file are used even when the developer runs “make” in subdirectories of the project (i.e. not running “make” in the top level project directory).  Variable settings that apply only when running “make” from the top-level project directory can be put in the Makefile in the top-level directory rather than in <span class="Code">Project.mk</span>.  Variable settings in this <span class="Code">Project.mk</span> file can either override settings made in a given Makefile, add to lists, or conditionally set the variables if not already set.  For example putting the following lines in <span class="Code">Project.mk</span>:</p>
    <p class="Code" dir="ltr">ifndef HdlPlatforms<br />  HdlPlatforms=zed<br />endif</p>
    <p class="Body" dir="ltr">indicates that when any level of the project is built, if <span class="Code">HdlPlatforms</span> has no value, use this definition.</p>
    <p class="Body" dir="ltr">The one variable that is required to be set in this directory is <span class="Code">ProjectPackage</span>.  This variable species the namespace prefix for all assets in this project.</p>
    <p class="Standard" dir="ltr">In order to avoid name space collisions when using multiple projects or component libraries (e.g. spec names and worker names), this <span class="Code">ProjectPackage</span> variable specifies what namespace should be used for all named assets in the project.  The default project package name is “local”.  However, for libraries used outside the local organization, the prefix should generally be the reverse internet domain name similar to the name spaces used for Java classes.  E.g., for assets in the dsp project of the xyz-corp, the setting would be:</p>
    <p class="Code" dir="ltr">ProjectPackage=com.xyz-corp.dsp</p>
    <p class="Standard" dir="ltr">The package prefix “ocpi” is reserved for assets defined in the OpenCPI core project.  This value is used as a prefix to the package names defined for any component library in the package (when specified).</p>
    <p class="Standard" dir="ltr">Other useful <span style="font-style:italic">make</span> variables that can be specified in the <span class="Code">Project.mk</span> file include:</p>
    <p class="Standard" dir="ltr">HdlTargets</p>
    <p class="Standard" dir="ltr">HdlPlatforms</p>
    <p class="Standard" dir="ltr">RccTargets</p>
    <p class="Standard" dir="ltr">OcpiDebug</p>
    <p class="Standard" dir="ltr">OcpiDynamic (a placeholder)...</p>
    <h2 dir="ltr" id="toc102"><span class="SectionNumber">14.5 </span><a id="RefHeadingToc300371282573294"></a>Project Exports</h2>
    <p class="Body" dir="ltr">When a project's assets are used by applications or assets <span style="font-style:italic">outside</span> the project, they access the project's assets via its <span style="font-style:italic;font-weight:bold">exports</span>.  <span style="font-style:italic">Exports</span> of a project are the files within the project that are explicitly made visible and usable from outside the project.  I.e., without exports, nothing in a project is intended to be visible outside the project.  A project's complete directory structure contains source files and artifacts of the build process.  The <span style="font-style:italic">exports</span> are the files needed by users of the project, and can be thought of as the installable and deliverable subset of the files in the project after it is built.</p>
    <p class="Body" dir="ltr">The <span style="font-style:italic;font-weight:bold">exports tree</span> is a directory containing the project's exports, and it constructed as a tree of symbolic links, under the directory named “<span class="Code"><span style="font-style:normal">exports</span></span>” at the top level of a project.  The structure of the exports tree is not necessarily the directory structure of the project itself, but is a structure appropriate and convenient for users of the project's assets.  By constructing the <span style="font-style:italic">exports tree</span> using symbolic links, the exported view of a project uses no extra space (no copies), and thus the assets are used externally exactly where they exist in source form or where they are built (although indirectly via the symbolic links in the exports tree).</p>
    <p class="Body" dir="ltr">Much like there is a standard directory structure for OpenCPI projects, there is an implied standard exports tree based on the contents of a project.  At the top level of a project, the make target “exports” creates the exports tree. i.e.:</p>
    <p class="Code" dir="ltr">make exports</p>
    <p class="Body" dir="ltr">The exports tree has two different uses.  One is to allow the project's intended deliverable results to be used in-place, without any copying or “installing”.  The other is to provide an implicit recipe or bill-of-materials for creating an installable package for remote users of the project that should not or do not have access to the entire source tree of the project.  In this latter case a simple single file deliverable package can be created as a tarball using the command:</p>
    <p class="Code" dir="ltr">make archive</p>
    <p class="Standard" dir="ltr">which (in the current release), performs this command</p>
    <p class="Code" dir="ltr">tar czfLs exports/myproject.tgz /exports/myproject exports</p>
    <p class="Body" dir="ltr">This creates a single compressed archive file in <span class="Code">exports/myproject.tgz</span> of all the deliverables of the project (following the links to the actual files), which can then be “installed” anywhere using the command:</p>
    <p class="Code" dir="ltr">tar xzf mycl.tgz</p>
    <p class="Body" dir="ltr">The top level directory <span class="Code">exports</span>, is created and populated automatically based on the file <span class="Code">Project.exports</span>.  This <span class="Code">exports</span> directory can always be deleted and recreated.  It is never manually constructed or changed.  If the <span class="Code">Project.exports</span> file is empty or does not exist, the default export tree is created based on the assets in the project.  The <span class="Code">Project.exports</span> file adds or subtracts from the default exports tree.</p>
    <p class="Body" dir="ltr">The next section describes the default exports tree and the format of the <span class="Code">Project.exports</span> file that can be used to add or subtract from the default exports.</p>
    <p class="Body" dir="ltr">The core of OpenCPI, usually called the CDK (Component Development Kit), is itself a project, with exports.</p>
    <h3 dir="ltr" id="toc103"><span class="SectionNumber">14.5.1 </span>The default exports tree</h3>
    <p class="Standard" dir="ltr">The default exports tree is a directory structure convenient and appropriate for making the built results of a project available to be used and/or installed by external users of the project.  It is related to, but not the same as, the directory structure of a project in which assets are developed.</p>
    <p class="Standard" dir="ltr">Here are the rules used to populate the default exports tree when “make exports” is invoked at the top level of a project:</p>
    <p class="Standard" dir="ltr">Component library deliverables are made available in the exports tree under the <span class="Code">lib</span> directory, using the name of the library.  Thus, if there is a component library in the project in the directory <span class="Code">components/util_comps</span>, where its own locally built deliverables are in its <span class="Code">lib</span> subdirectory (<span class="Code">components/util_comps/lib</span>), then these deliverables are available in the exports tree using <span class="Code">lib/util_comps</span>, which is a symbolic link to <span class="Code">components/util_comps/lib</span>, e.g.:</p>
    <p class="Code" dir="ltr"><span class="Code">exports/lib/util_comps -&gt; ../../../components/util_comps/lib</span></p>
    <p class="Standard" dir="ltr">So, users of the project, seeing only the exports tree, see <span class="Code">lib/util_comps </span><span class="DefaultParagraphFont">for this library.</span></p>
    <p class="Standard" dir="ltr">Software deliverables are made available in one of these export directories:</p>
    <p class="Code" dir="ltr">bin/<span style="font-style:italic">&lt;target&gt;</span>		<span class="DefaultParagraphFont"><span style="font-weight:normal">Executable files</span></span><br />lib/<span style="font-style:italic">&lt;target&gt;</span>		<span class="DefaultParagraphFont"><span style="font-weight:normal">Library files</span></span><br />scripts				<span class="DefaultParagraphFont"><span style="font-weight:normal">Architecture-independent scripts</span></span><br />include				<span class="DefaultParagraphFont"><span style="font-weight:normal">Architecture independent header/include files<br /></span></span><span class="Code">specs				</span><span class="DefaultParagraphFont"><span style="font-weight:normal">Spec and protocol XML files for component specifications<br />						(separate from the specs of a given library)</span></span></p>
    <p class="Standard" dir="ltr">Software targets generally use the format: <span style="font-style:italic">os-version-processor</span>.  The <span style="font-style:italic;font-weight:bold">os</span> part is something lower case like “linux” or “macos”.  The <span style="font-style:italic;font-weight:bold">version</span> part is determined by whoever sets up tools.  For linux, it is typically a letter for a distribution followed by a major number (e.g. “c6” for Centos6, “r5” for RHEL 5, “u13” for Ubuntu 13).  For macos, (OS/X) it is simply the major version (e.g. “10.8”).  The processor (or <span style="font-style:italic">architecture</span>) part is a lowercased version of what the “uname –m” unix command would print, such as “x86_64”.</p>
    <p class="Standard" dir="ltr">Typical examples are linux-c6-x86_64 for 64-bit Centos6 linux on x86, or macos-10.8-x86_64.  HDL targets typically contain an architecturally compatible part family (e.g. virtex6 or stratix4).  See the HDL development guide.</p>
    <h3 dir="ltr" id="toc104"><span class="SectionNumber">14.5.2 </span>The Project.exports filename</h3>
    <p class="Standard" dir="ltr">The <span class="Code">Project.exports</span> file contains lines that add and subtract from the default exports tree of a project.  Additions are lines that start with a plus sign (<span class="Code">+</span>), and subtractions are lines that start with a minus sign (<span class="Code">-</span>).  Lines that begin with <span class="Code">#</span> are comments.  Comments can also appear at the end of the addition or subtraction lines after a <span class="Code">#</span>.  White space (spaces or tabs) can precede the <span class="Code">-</span>, <span class="Code">+</span>, or <span class="Code">#</span> characters.</p>
    <p class="Standard" dir="ltr">The format of addition (<span class="Code">+</span>) lines is two fields separated by spaces.  The first field is the relative pathname within the project for the file to be exported, and the second field is the location in the export tree where the file should be linked.  If the second field ends in a slash, then the filename part of the first field is used as the file name in the exports tree.  Pathnames or other names with embedded spaces are not currently supported.</p>
    <p class="Standard" dir="ltr">Thus the line:</p>
    <p class="Code" dir="ltr">+special_dir/special_file include/ # this exports my special file</p>
    <p class="Standard" dir="ltr">would export the file in the project named special_dir/special_file would be exported as</p>
    <p class="Code" dir="ltr">include/special_file</p>
    <p class="Standard" dir="ltr">If the name of the exported file should be different, it can be included in the second field, e.g.</p>
    <p class="Code" dir="ltr">+special_dir/special_file include/different-file</p>
    <p class="Standard" dir="ltr">If the second field is blank (doesn't exist), then the project file or directory is exported in the same place is it exists, thus</p>
    <p class="Code" dir="ltr">+special_dir # export this directory where it is in the project</p>
    <p class="Standard" dir="ltr">would simply make <span class="Code">special_dir</span> a top level directory in the exports tree.</p>
    <p class="Standard" dir="ltr">Remember that any directory that is exported implicitly exports all files underneath it.</p>
    <p class="Standard" dir="ltr">The first field can also have wildcard patterns using normal sh/bash wildcard patterns.  A special string, <span class="Code">&lt;target&gt;</span>, indicates the software target that is currently being exported.  When “<span class="Code">make exports</span>” is executed in the project directory, it is done in the context of a particular software target (usually set in the environment).  Thus</p>
    <p class="Code" dir="ltr">+applications/myapp/target-&lt;target&gt;/myspecial_exe  bin/&lt;target&gt;/</p>
    <p class="Standard" dir="ltr">exports a secondary executable in the application.</p>
    <p class="Standard" dir="ltr">Subtraction lines start with a minus sign (<span class="Code">-</span>) have can have two fields.  As with addition lines, the first field is the pathname within the project, with possible wildcards and <span class="Code">&lt;target&gt;</span> strings.  The second field is a qualifier that limits the scope of the subtraction.  The possibly qualifiers are:  <span class="Code">main, library, script, include, platform, component, primitive</span><span class="DefaultParagraphFont">.  These indicate that the subtraction only applies to assets of the given type.</span></p>
    <h1 dir="ltr" id="toc105"><span class="SectionNumber">15 </span><a id="RefHeadingToc300411282573294"></a>Environment Variables used in Component Development</h1>
    <p class="Standard" dir="ltr">While any “make” variable can be set in the environment, only those specifically mentioned as usable in the environment should be set, since setting arbitrary “make” variables in the environment can lead to unpredictable/undefined behavior.</p>
    <p class="Standard" dir="ltr">All OpenCPI environment variables that are not defined “make” variables start with the prefix <span class="Code">OCPI_</span>.  While some defined variables apply only to certain authoring models or targets, a master list is kept here, with some simply described as documented elsewhere.</p>
    <p class="Standard" dir="ltr">There also may be environment variables starting with OCPI_ that are used internal to OpenCPI and thus not documented for users.</p>
    <p class="Standard" dir="ltr">In the table below, environment variables that are boolean options have the value <span class="Code">0</span> or <span class="Code">1</span>, and their being unset, or being set to the empty string, is equivalent to the value <span class="Code">0.</span></p>
    <p class="Standard" dir="ltr">In the table below a “list” means a white-space-separated list of items.  A “path” means a colon separated list of directories.  All these variables have defaults, that can suit most users.</p>
    <p class="Standard" dir="ltr">Most of the items are set at installation time, several are simply convenience variables derived from others.  The ones that a developer might actually set during development are shaded.</p>
    <table cellspacing="0" dir="ltr" id="Table3table" style="margin-top:0;margin-bottom:0;margin-left:-1.0px;margin-right:auto;width:905.20325px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <thead>
        <tr>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableHeading" dir="ltr" style="margin-left:0;margin-right:65.913605px;margin-top:7.6703997px;margin-bottom:5.7408px;background-color:transparent;text-indent:0;text-align:left;font-size:13.333334px">Name</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableHeading" dir="ltr" style="font-size:13.333334px">When<br />set?</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableHeading" dir="ltr" style="font-size:13.333334px">Data<br />type</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableHeading" dir="ltr" style="font-size:13.333334px">Description</p>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ALTERA_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Top level directory for all Altera tools.  Default:  /opt/Altera</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ALTERA_VERSION</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Directory under OCPI_ALTERA_DIR for current/desired Altera tools version.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ALTERA_TOOLS_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Directory for using Altera tools.  Default:  $OCPI_ALTERA_DIR/$OCPI_ALTERA_VERSION</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ALTERA_LICENSE_FILE</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">file</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Altera license file.  Default:  $OCPI_ALTERA_DIR/license.dat</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ALTERA_KITS_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Directory for Altera development kits.  Default is $OCPI_ALTERA_TOOLS_DIR/kits</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_ASSERT</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">boolean</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Enable assertions in any language (when != 1, for C and C++, sets NDEBUG).  Default: 1</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_CDK_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">all</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">The root of the installed CDK.  Default: /opt/opencpi/cdk</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_CFLAGS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Flags when compiling C code. Default set per target, but may be overridden.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_CXXFLAGS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Flags when compiling C++ code. Default set per target, but may be overridden.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_DEBUG</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">boolean</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Controls debug logging, etc. For C and C++, enables “-g” also, or if not set, -O2.<br />Is defined as a preprocessor macro for core software or executables.  Default: 1</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_DYNAMIC</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">boolean</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr"><span style="font-size:13.333334px">For main programs and software libraries:  use dynamic linking and dynamic libraries.  For software components, build for use in dynamic executables.  Currently only </span><span class="Code"><span style="font-size:13.333334px">0</span></span><span style="font-size:13.333334px"> is supported.</span></p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_EXCLUDE_TARGETS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">List of targets to always exclude.  Default:  empty/not set</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_EXPORT_DYNAMIC</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Link options for dynamic libraries to use the executable's symbols.  Default set per target.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_GTEST_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Location of gtest installation:  Default is $OCPI_PREREQUISITES_DIR/gtest</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_HAVE_IBVERBS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Boolean</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OFED/IBVERBS available?  Default: 0</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_HAVE_OPENCL</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">boolean</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OpenCL available?.  Default: 0</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_LIBRARY_PATH</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">run</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">path</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Runtime search path for binary artifacts.  Default:  $OCPI_CDK_DIR/lib/components/rcc</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_LZMA_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Location of lzma installation.   Default: $OCPI_PREREQUISITES_DIR/lzma</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_OCL_LIBS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OpenCL linker flags:  Default: empty/not set</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_OPENCL_INCLUDE_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OpenCL include dir:  Default: empty/not set</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_OPENCL_OBJS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OpenCL object files.  Default:  empty/not set</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_OPENCV_HOME</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OpenCV installation dir.  Default: empty/not set</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_PATCHELF_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Patchelf utility location:  Default: $OCPI_PREREQUISITES_DIR/patchelf</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_PREREQUISITES_BUILD_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Where prerequisite packages are built during installation.<br />Default: $OCPI_PREREQUISITES_DIR.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_PREREQUISITES_INSTALL_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Where prerequisite packages are installed during installation.<br />Default: $OCPI_PREREQUISITES_DIR.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_PREREQUISITES_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Location for using prerequisites,  default locations for building and installing prerequisites.<br />Default:  /opt/opencpi/prerequisites</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_PREREQUISITES_LIBS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Prerequisite libraries required during linking.  Default:  lzma</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_SHARED_LIBRARIES_FLAGS</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">list</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Flags for creating dynamic libraries.  Default set per target.  -g added when OCPI_DEBUG.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_SMB_SIZE</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">run</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">number</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">To override size in bytes of data plane endpoints.  Default: 100,000,000.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TOOL_PLATFORM</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">string</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">This running software platform.  Determined by from the platforms/getPlatforms.sh script.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TOOL_HOST</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">String</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">A target triple (e.g. linux-c7-x86_64) determined from OCPI_TOOL_PLATFORM</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TOOL_OS/OS_VERSION/ARCH</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">String</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">For convenience, the components of OCPI_TOOL_HOSt</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TARGET_PLATFORM</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">String</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;background-color:#66ffff;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">The requested target software platform to build for.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TARGET_HOST</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">String</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">A target triple (e.g. linux-c7-x86_64) determined from OCPI_TARGET_PLATFORM</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_TARGET_OS/OS_VERSION/ARCH</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">build</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">string</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">For convenience, the components of OCPI_TARGET_HOST</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_XILINX_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Top level directory for all Xilinx tools.  Default:  /opt/Xilinx</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_XILINX_VERSION</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Directory under OCPI_XILINX_DIR for current/desired Xilinx tools version.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_XILINX_TOOLS_DIR</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">directory</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Directory for using Xilinx tools.  Default:  $OCPI_XILINX_DIR/$OCPI_XILINX_VERSION</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:252.8624px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">OCPI_XILINX_LICENSE_FILE</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:37.7936px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">install</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:54.9968px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">file</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:3.8688002px;padding-right:0;vertical-align:top;width:540.0657px">
            <p class="TableContents" dir="ltr" style="font-size:13.333334px">Xilinx tool license file.  Default is:  $OCPI_XILINX_DIR/License.lic</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <h1 dir="ltr" id="toc106"><span class="SectionNumber">16 </span><a id="RefHeadingToc300431282573294"></a>Tools used in Component Development</h1>
    <p class="Standard" dir="ltr">The most frequently used tools used during development are “make”, and “ocpirun”.  The latter is used for executing component-based applications, and is fully described in the Application Development Guide.  The “make” tool invokes a variety of other tools to build workers, all “behind the scenes”.  When there are errors or anomalies during the build process, the logs from the various tools used can be examined to understand what went wrong.</p>
    <p class="Standard" dir="ltr"> </p>
    <h3 dir="ltr" id="toc107"><span class="SectionNumber">16.1.1 </span><a id="Toc224890143"></a><a id="Toc245388493"></a><a id="RefHeading54561790153948"></a>Utility programs used internally</h3>
    <p class="Body" dir="ltr">The following sections describe utility programs used internal to the various building scripts in OpenCPI.  They are generally not used directly.</p>
    <p class="Body" dir="ltr">This section is not complete or up to date as of this document version.</p>
    <h2 dir="ltr" id="toc108"><span class="SectionNumber">16.2 </span><a id="Toc224890144"></a><a id="Toc245388494"></a><a id="RefHeading54581790153948"></a>ocpigen: the OpenCPI tool for code and metadata generation</h2>
    <p class="Body" dir="ltr">The ocpigen tool is a command line tool for implementing certain parts of the OpenCPI component development process.  Normally a component developer never uses <span style="font-weight:bold">ocpigen</span> directly since it is used as needed by the make scripts used when libraries and components are created as described above.  Below is a diagram depicting how ocpigen takes the XML description files (defined in detail in the [AMR]) and generates various files to support the creating of workers (component implementations):</p>
    <p class="Diagram" dir="ltr"> </p>
    <p class="Caption" dir="ltr">Figure 2:  ocpigen Role in the Worker Development Process</p>
    <h3 dir="ltr" id="toc109"><span class="SectionNumber">16.2.1 </span><a id="Toc224890145"></a><a id="Toc245388495"></a><a id="RefHeading54601790153948"></a>Outputs from ocpigen</h3>
    <p class="Body" dir="ltr">During the component implementation process, <span style="font-style:italic">for all authoring models</span>, ocpigen takes as input the XML description files, and generates these outputs:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Instantiation Header File:</span> this read-only file is what is required for instantiating the worker in a container (or sometimes in test harnesses).  It is required for some authoring models (e.g. HDL Verilog empty module or VHDL component) and not for others (e.g. RCC).  It is sometimes also used in compiling the implementation (e.g. HDL Verilog, but not VHDL).  It contains the definitions that containers require to instantiate the workers, and no more.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Implementation Header File:</span>  this read-only file is the basis for compiling the worker implementation source code, and has definitions beyond what is available from the Instantiation Header File, including various convenience definitions generated from the XML description files.  It is required for compiling the worker, is not expected to be modified by the implementer, and contains as much many conveniently generated definitions as possible to minimize redundant and error prone efforts in the source code.  Whenever possible, definitions, declarations, macros, etc. are defined here to minimize the lines of code in the Implementation Skeleton file (below), since that is edited by hand and any definitions are subject to hand editing mistakes and merge issues.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Implementation Skeleton File:</span>  this generated file is expected to be edited and contains a “skeleton” of the implementation, based on the XML description files.  It is compilable as is, and is generally “functional” in most authoring models, meaning that it can be compiled and included in real applications, but will not do anything interesting or useful.  This is generally helpful to test the integration into applications before the implementation skeleton is “fleshed out” with real functional code (a.k.a. “business logic”).</p>
    <p class="Standard" dir="ltr">The <span style="font-weight:bold">ocpigen</span> tool, for each authoring model, tries to put as much code into the implementation header file as possible since it is read-only and thus can be easily overwritten/regenerated by the tool.  This minimizes the problems and challenges associated with changes in the XML description files (like adding a configuration property to an OCS), since the regenerated code will usually not invalidate the skeleton file (which has been edited by hand).  In such cases any changes in the generated skeleton code (which are rare), can easily be compared against previously skeletons.</p>
    <h3 dir="ltr" id="toc110"><span class="SectionNumber">16.2.2 </span><a id="Toc224890146"></a><a id="Toc245388496"></a><a id="RefHeading54621790153948"></a>How ocpigen is used</h3>
    <p class="Body" dir="ltr">The makefile scripts included in the CDK normally run <span style="font-weight:bold">ocpigen</span> in the appropriate way with the appropriate options, but to run ocpigen as a command line tool separate from the CDK makefile scripts, the syntax is:</p>
    <p class="Standard" dir="ltr">ocpigen [options] owd.xml</p>
    <p class="Body" dir="ltr">The owd.xml file is the worker description XML file, which contains or refers to an OCS (OpenCPI Component Specification) file.  The options specify what output to produce as well as other options.  All options are single letter flags following a hyphen.  When options require a filename or other string, they follow as separate arguments, not directly following the flag “letter”.</p>
    <p class="Body" dir="ltr">The options that tell ocpigen what output to produce are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-d</span>	Produce the <span style="font-style:italic">instantiation header file</span> (the “defs” file), which will have the same name as the OWD with the suffix “_defs” followed by an appropriate file name extension for included files of the authoring model (e.g. “.h” for C code, “.vh” for verilog code etc.)</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-i</span>	Produce the <span style="font-style:italic">implementation header file</span> (the “impl” file), which will have the same name as the OWD with the suffix “_impl” followed by an appropriate file name extension for included files of the authoring model.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-s</span>	Produce the <span style="font-style:italic">implementation skeleton file</span> (the “skel” file), which will have the same name as the OWD with the suffix “_skel” followed by an appropriate file name extension for the source code of the authoring model.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-A</span>	Produce the runtime metadata (“artifact XML” file), which will have the same name as the OWD with the suffix “_art.xml”.  This file is not used by itself directly but is attached to the runtime binary file that implements some workers.</p>
    <p class="Standard" dir="ltr">Any number of these options can be used together and all the requested files will be generated.  The other options which control ocpigen are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-D </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">outDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the directory where the generated files are placed, rather than in the current working directory where ocpigen is being run.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-I </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">includeDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Add a directory to search when finding XML files that are referenced from any XML input files (or files they reference).  This option is commonly used to specify the location of “spec” files when processing OWD files, since they typically do not (and should not) be absolute or relative pathnames.  This is similar to the same gcc option.</p>
    <p class="IndentHang" dir="ltr"> <span style="font-family:Courier,serif;font-weight:bold">-M </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">dependencyFile</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify a file to be produced for processing by “make” in which to put any dependencies discovered (via xi:include in XML files) or generated (when output files depend on input files).  Such files are then referenced from Makefiles (if the files exist – which they will not before the first run of make in that directory).</p>
    <p class="Standard" dir="ltr">Several options only apply when artifact XML files are generated:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-P </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">platform</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the platform name that the artifact is built for.  This is used at runtime to make sure the binary file is used on the appropriate platform.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-e </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">device</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the device (or “part”) name that the artifact is built for.  This is used at runtime to make sure the binary file is used on the appropriate device.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-D </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">outDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the directory where the generated files are placed, rather than in the current working directory where ocpigen is being run.</p>
    <p class="Standard" dir="ltr">Finally, several options are special operations for the HDL authoring model.  These are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-l	</span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">libraryName</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify a library for VHDL or Verilog “defs” files that indicates where the entity declaration should be placed.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-c	</span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">containerDescriptionFile</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the name of an XML file that describes the (fixed) container interfaces when generating HDL artifact files.  I.e. this option is required when the “-A” options is used for HDL workers.  The contents of this file are defined in the [HDLAMR]. This is required when the –A option is used to generate the HDL artifact XML file.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-b	</span>Generate a BSV (Bluespec System Verilog) declaration corresponding to an underlying Verilog worker.  This is used when integrating HDL workers written in Verilog into a container written in BSV.  The output filename will have a “I_” prefix and a “.bsv” file extension. [experimental].</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-w	</span>Generate a cross-language “wrapper” file for the “defs” file.  If the worker implementation language is Verilog, the wrapper file is VHDL and vice versa.[unimplemented]</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-a	</span>Generate the “assembly” file, given an input XML file that specifies an HDLAssembly rather than an HDLImplementation.  Thus the input is not really a worker description (OWD), but rather a composition of workers that represent a static configuration inside an FPGA design.  The output is a Verilog file that instantiates the workers in the assembly, interconnects them (with required adaptations/tie-offset etc.), and creates the higher level “application” module that will be used to build a complete FPGA design bitstream.</p>
  </body>
</html>
