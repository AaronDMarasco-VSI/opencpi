<!DOCTYPE html>
<html lang="en-US" xml:lang="en-US" xmlns="http://www.w3.org/1999/xhtml">
  <!-- This file was converted to xhtml by Writer2xhtml ver. 1.5.2. See http://writer2latex.sourceforge.net for more info. -->
  <head profile="http://dublincore.org/documents/2008/08/04/dc-html/">
    <title>OCPI_ODT</title>
    <meta charset="UTF-8" />
    <meta content="" name="description" />
    <meta content="" name="keywords" />
    <link href="http://purl.org/dc/elements/1.1/" rel="schema.DC" />
    <meta content="OCPI_ODT" name="DC.title" />
    <meta content="" name="DC.subject" />
    <meta content="" name="DC.description" />
    <meta content="James Kulp" name="DC.creator" />
    <meta content="2015-11-02T14:04:19.944645000" name="DC.date" />
    <meta content="en" name="DC.language" />
    <style media="all" type="text/css">
      body {font-family:Calibri,serif;font-size:13.333334px}
      span.linenumber {font-family:Arial,sans-serif;font-size:16.0px}
      span.Code {font-family:'Courier New',monospace;font-weight:bold;font-size:16.0px;background-color:transparent}
      a:link {font-family:Arial,sans-serif;font-size:16.0px;color:#0000ff;text-decoration:underline}
      a:visited {color:#800000;text-decoration:underline}
      a.Internet20link:link {font-family:Arial,sans-serif;font-size:16.0px;color:#0000ff;text-decoration:underline}
      a.Internet20link:visited {color:#800000;text-decoration:underline}
      p.ListNumber {margin-left:38.4px;margin-right:38.4px;margin-top:4.8px;margin-bottom:4.8px;border:none;padding:0;text-indent:-19.2px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Diagram {margin-left:0;margin-right:0;margin-top:5.7408px;margin-bottom:0;border:none;padding:0;text-align:center;font-family:Arial,serif;font-size:16.0px}
      p.Standard {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.TableHeading {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-weight:bold;font-size:16.0px}
      p.Revision {margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:9.333334px}
      p.Code {margin-left:24.0px;margin-right:0;margin-top:4.0032px;margin-bottom:0;border:none;padding:0;text-indent:0;text-align:left;font-family:'Courier New',monospace;font-weight:bold;font-size:14.666667px}
      p.TableContents {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:14.666667px}
      p.ListNumber2 {margin-left:48.0px;margin-right:48.0px;margin-top:3.8592px;margin-bottom:3.8592px;border:none;padding:0;text-indent:-24.0px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.ContentsHeading {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:8.016px;border:none;padding:0;text-align:center;font-family:'Liberation Sans',sans-serif;font-weight:bold;font-size:16.0px}
      p.Textbody {margin-left:0;margin-right:0;margin-top:0;margin-bottom:9.331201px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Caption {margin-left:0;margin-right:0;margin-top:9.6px;margin-bottom:14.400001px;border:none;padding:0;text-align:center;font-family:Arial,serif;font-style:italic;font-size:16.0px}
      p.Contents2 {margin-left:15.984px;margin-right:0;margin-top:0;margin-bottom:0;border:none;padding:0;text-indent:0;text-align:left;font-family:Calibri,serif;font-weight:bold;font-size:14.666667px}
      p.Contents1 {margin-left:0;margin-right:0;margin-top:8.016px;margin-bottom:0;border:none;padding:0;text-align:left;font-family:Calibri,serif;font-weight:bold;font-size:16.0px}
      p.IndentHang {margin-left:60.019196px;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-indent:-36.0192px;text-align:left;font-family:Arial,serif;font-style:normal;font-size:16.0px}
      p.ListBullet {margin-left:38.4px;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-indent:-19.2px;text-align:left;font-family:Arial,serif;font-size:16.0px}
      p.Body {margin-left:0;margin-right:0;margin-top:7.6703997px;margin-bottom:5.7408px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-size:16.0px}
      h1 {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-weight:bold;font-size:18.666668px;clear:left}
      h2 {page-break-before:always;margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-weight:bold;font-size:16.0px;clear:left}
      h3 {margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-size:16.0px;clear:left}
      h4 {margin-left:0;margin-right:0;margin-top:15.984px;margin-bottom:4.0032px;border:none;padding:0;text-align:left;font-family:Arial,serif;font-style:italic;font-size:16.0px;clear:left}
      .listlevel1Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel2Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel3Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel4Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel5Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel6Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel7Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel8Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel9Numbering1 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel1WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel2WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel3WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel4WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel5WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel6WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel7WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel8WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel9WWNum33 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel1WWNum19 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel2WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel3WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel4WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel5WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel6WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel7WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel8WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel9WWNum19 {margin-top:0;margin-bottom:0;list-style-type:decimal;clear:left}
      .listlevel1WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel2WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel3WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
      .listlevel4WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel5WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel6WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
      .listlevel7WWNum32 {margin-top:0;margin-bottom:0;list-style-type:disc;clear:left}
      .listlevel8WWNum32 {margin-top:0;margin-bottom:0;list-style-type:bullet;clear:left}
      .listlevel9WWNum32 {margin-top:0;margin-bottom:0;list-style-type:square;clear:left}
    </style>
  </head>
  <body dir="ltr">
    <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:37.333336px">OpenCPI<br />Component Development Guide</p>
    <p class="Standard" dir="ltr" style="text-align:center;font-size:18.666668px"> </p>
    <p class="Standard" dir="ltr" style="font-size:18.666668px"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr" style="font-weight:bold;font-size:29.333334px;color:#ff0000">DRAFT</p>
    <p class="Standard" dir="ltr" style="font-weight:bold;color:#ff0000"> </p>
    <p class="Standard" dir="ltr" style="font-weight:bold;color:#ff0000"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr"> </p>
    <p class="Standard" dir="ltr" style="font-weight:bold">Authors: </p>
    <p class="Standard" dir="ltr">Michael Pepe, Mercury Federal Systems, Inc. (mpepe@mercfed.com)</p>
    <p class="Standard" dir="ltr">Jim Kulp, Parera Information Services, Inc. (jkulp@parera.com)</p>
    <p class="Standard" dir="ltr" style="page-break-before:always;margin-top:0;margin-bottom:0;text-align:center;font-style:italic">Revision History</p>
    <table cellspacing="0" dir="ltr" id="Table1table" style="margin-top:0;margin-bottom:0;margin-left:auto;margin-right:auto;width:535.6704px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Revision</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Description of Change</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Standard" dir="ltr" style="text-align:center;font-weight:bold;font-size:10.666667px">Date</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.01</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Creation</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2010-06-21</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.02</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add ocpisca information and HDL application information</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2010-08-05</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.03</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add more detail to HDL building, and general editorial improvements</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2011-03-28</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.1</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Editing, platform and device aspects of ocpigen, HDL details</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2011-08-01</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.2</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Update for latest HDL details</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-03-12</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.3</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Rename document, add VHDL coding details and ocpihdl utility</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-06-15</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.4</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">Add new and complete assembly and container info, and add two new ocpihdl functions</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-11-06</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">1.5</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">HDL coding practices, more HDL platform information</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr" style="font-size:9.333334px">2013-12-10</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.6</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Convert to ODT format, add more clarity for parameter properties and readonly properties</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2014-03-31</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.7</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Use standard template., minor updates, add generic OWD content.</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2015-02-27</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:49.868797px">
            <p class="Revision" dir="ltr">1.8</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:371.9968px">
            <p class="Revision" dir="ltr">Incorporate the authoring model reference content into this document</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000001;border-left:1.0px solid #000001;border-right:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:60.8032px">
            <p class="Revision" dir="ltr">2015-10-31</p>
          </td>
        </tr>
      </tbody>
    </table>
    <div id="TableofContents1">
      <p class="ContentsHeading" dir="ltr">Table of Contents</p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">1 </span><a href="#toc0">References</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">2 </span><a href="#toc1">Overview</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">3 </span><a href="#toc2">Component Specifications</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.1 </span><a href="#toc3">ComponentSpec top level element</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.2 </span><a href="#toc6">Properties element of ComponentSpec elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.3 </span><a href="#toc7">Property element of ComponentSpec or Properties elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.4 </span><a href="#toc24">Port element of ComponentSpec elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">3.5 </span><a href="#toc29">Protocol element of Port elements</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">4 </span><a href="#toc35">Authoring Models</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.1 </span><a href="#toc36">Requirements for all authoring models</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.2 </span><a href="#toc37">Control Plane Introduction</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">4.3 </span><a href="#toc42">Software Execution Model</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">5 </span><a href="#toc46">Worker Descriptions</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.1 </span><a href="#toc47">XML Attributes of the top-level XYZWorker element.</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.2 </span><a href="#toc53">Property and SpecProperty subelements in the OWD</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.3 </span><a href="#toc59">Built-in parameters of all workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.4 </span><a href="#toc63">Port Elements of XYZWorker elements</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.5 </span><a href="#toc65">The Worker Makefile</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.6 </span><a href="#toc66">Parameter Properties in Worker Makefiles</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">5.7 </span><a href="#toc72">The Worker Source files</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">6 </span><a href="#toc73">Component Libraries</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.1 </span><a href="#toc74">Component Specifications</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.2 </span><a href="#toc75">The Component Library Makefile</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">6.3 </span><a href="#toc76">Library Exports</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">7 </span><a href="#toc77">Developing Workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.1 </span><a href="#toc78">Creating a new worker</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">7.2 </span><a href="#toc79">The Component Specification File:  OCS</a></p>
      <p class="Contents1" dir="ltr"><span class="SectionNumber">8 </span><a href="#toc80">HDL/FPGA Development</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.1 </span><a href="#toc81">Developing HDL application workers</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.2 </span><a href="#toc98">HDL Build Targets</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.3 </span><a href="#toc99">The HDL Build Hierarchy</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.4 </span><a href="#toc102">HDL Primitive and Assembly build scripts (and Makefiles)</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.5 </span><a href="#toc103">Building HDL Primitives</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.6 </span><a href="#toc106">Building HDL assemblies into bitstreams/executables</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.7 </span><a href="#toc112">HDL device naming</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.8 </span><a href="#toc116">The ocpihdl command-line utility for HDL development</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.9 </span><a href="#toc144">HDL Platform and local Device development</a></p>
      <p class="Contents2" dir="ltr"><span class="SectionNumber">8.10 </span><a href="#toc146">ocpigen: the OpenCPI tool for code and metadata generation</a></p>
    </div>
    <h1 dir="ltr" id="toc0"><span class="SectionNumber">1 </span><a id="Toc141318608"></a><a id="Toc141837257"></a><a id="Toc224890089"></a><a id="Toc245388431"></a><a id="RefHeading53281790153948"></a>References</h1>
    <p class="Standard" dir="ltr">This document depends on several others.  Primarily, it depends on the “OpenCPI Generic Authoring Model Reference Manual”, which describes concepts and definitions common to all OpenCPI authoring models.  This document also refers to concepts and definitions in the HDL and RCC authoring model reference documents.</p>
    <table cellspacing="0" dir="ltr" id="Table2table" style="margin-top:0;margin-bottom:0;margin-left:-6.336px;margin-right:auto;width:575.20325px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Title</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Published By</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#cccccc;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center;font-weight:bold;font-size:14.666667px">Link</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI Technical Summary</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/ts.pdf">http://www.opencpi.org/doc/ts.pdf</a></p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI RCC Authoring Model Reference</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/rccamr.pdf">http://www.opencpi.org/doc/rccamr.pdf</a></p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:193.5328px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;font-size:13.333334px">OpenCPI HDL Authoring Model Reference</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:79.264px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><a class="Internet20link" href="http://opencpi.org/"><span style="font-size:13.333334px">OpenCPI</span></a></p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:252.1984px">
            <p class="Standard" dir="ltr" style="margin-top:4.0032px;margin-bottom:4.0032px;text-align:center"><span style="font-size:13.333334px">Public URL: </span><a class="Internet20link" href="http://www.opencpi.org/doc/hdlamr.pdf">http://www.opencpi.org/doc/hdlamr.pdf</a></p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 1:  References to Related Documents</p>
    <h1 dir="ltr" id="toc1"><span class="SectionNumber">2 </span><a id="Toc224890090"></a><a id="Toc245388432"></a><a id="RefHeading53301790153948"></a>Overview</h1>
    <p class="Standard" dir="ltr">This document describes how to create OpenCPI component implementations (a.k.a. <span style="font-style:italic">workers</span>) in a component library, so that they are available for OpenCPI application developers and users.  It introduces a kit of tools to specify and develop OpenCPI workers in any supported <span style="font-style:italic">authoring model</span>.  It also describes how to create, build, and manage libraries of heterogeneous components (components that each may have multiple implementations/workers).</p>
    <p class="Standard" dir="ltr">For HDL workers and applications, it also describes how to create libraries of primitives (smaller/simpler reusable modules) used to build HDL workers, and how to assemble a group of HDL workers to form an “HDL assembly”, in order to build a complete FPGA bitstream that will support part or all of an OpenCPI component-based application.</p>
    <p class="Standard" dir="ltr">We refer to the set of tools, scripts and libraries used for developing components and workers as the: <span style="font-style:italic;font-weight:bold">OpenCPI Component Developer’s Kit</span> (CDK).  The CDK is not an IDE (although integration with some IDEs is under development) but rather is a set of commands, “make” level tools, and scripts that support the development process.  The CDK relies on several conventional tools, including GNU “make”, and other basic POSIX command-line tools.</p>
    <p class="Standard" dir="ltr">The CDK also includes several tools specific to OpenCPI that support heterogeneous code generation.and component testing.  These tools are usually used indirectly, by using the built-in provided “make” scripts that facilitate building component libraries of workers (heterogeneous implementations), and building workers in each of the available authoring models.</p>
    <p class="Standard" dir="ltr">The OpenCPI CDK also relies on technology-specific compilers (e.g. gcc) and (FPGA) synthesis and simulation tools (e.g. Xilinx XST and Isim, Altera Quartus, Modelsim etc.).  These tools are a mix of open-source/free and commercially available.</p>
    <p class="Standard" dir="ltr">Several key concepts are described in the following sections, followed by the development process for creating component libraries to support the execution of component-based applications.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Component Specification:</span>  an XML file that describes a component in such a way that it may be implemented using different languages and APIs for different processing technologies and environments.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Authoring Model:</span>  one of several different ways of creating component implementations in specific languages using specific APIs between the component and its execution environment.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Worker:</span>  a specific implementation of a component specification, with the source code written according to an authoring model.</p>
    <p class="Standard" dir="ltr"><span style="font-style:italic;font-weight:bold">Component Library:</span>  a collection of component specifications and workers that can be built, exported and installed to support applications.</p>
    <h1 dir="ltr" id="toc2"><span class="SectionNumber">3 </span><a id="RefHeadingToc15645178005046"></a>Component Specifications</h1>
    <p class="Body" dir="ltr">An <span style="font-style:italic">OpenCPI Component Specification (OCS)</span> describes, in a simple set of one or more XML text files, the aspects of a component that are the same regardless of the authoring model used by any implementation of that component.  Thus a requirement for developing an <span style="font-style:italic">implementation</span> of an OpenCPI component (a <span style="font-style:italic">worker</span>) is that there must exist an OpenCPI Component Specification (OCS) common to all implementations of that component.</p>
    <p class="Body" dir="ltr">The OCS essentially describes two things: (1) the configuration properties of the component (how it is initially and dynamically configured and controlled), and (2) the (data) ports of the component (how it talks to other components).  Based on these two aspects, all components can be configured and interconnected in an application, regardless of component implementations.  An OCS does not contain a description of exactly what happens inside the component (a behavioral description), but only how it is used in an application.</p>
    <p class="Body" dir="ltr">Thus the first step in having actual component implementations built and usable for component-based applications is to have an OCS on which to base the implementation(s).  OpenCPI uses the term “worker” as shorthand for “component implementation”.  Thus an OpenCPI worker is an implementation based on an OCS and a particular authoring model.  The worker consists of two things:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">A separate (from OCS) XML description called the OpenCPI Worker Description (OWD) of the particular implementation, indicating the authoring model and which OCS the implementation is based on</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">The source code in some programming language that does the actual computing function of the implementation, written according to the authoring model.</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr"><!--  &lt;o:DocumentProperties&gt;
 &lt;o:Revision&gt;0&lt;/o:Revision&gt;
 &lt;o:TotalTime&gt;0&lt;/o:TotalTime&gt;
 &lt;o:Pages&gt;1&lt;/o:Pages&gt;
 &lt;o:Words&gt;2164&lt;/o:Words&gt;
 &lt;o:Characters&gt;12339&lt;/o:Characters&gt;
 &lt;o:Company&gt;Parera Information Services, Inc.&lt;/o:Company&gt;
 &lt;o:Lines&gt;102&lt;/o:Lines&gt;
 &lt;o:Paragraphs&gt;28&lt;/o:Paragraphs&gt;
 &lt;o:CharactersWithSpaces&gt;14475&lt;/o:CharactersWithSpaces&gt;
 &lt;o:Version&gt;14.0&lt;/o:Version&gt;
 &lt;/o:DocumentProperties&gt;
 &lt;o:OfficeDocumentSettings&gt;
 &lt;o:RelyOnVML/&gt;
 &lt;o:AllowPNG/&gt;
 &lt;/o:OfficeDocumentSettings&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!--  &lt;w:WordDocument&gt;
 &lt;w:View&gt;Normal&lt;/w:View&gt;
 &lt;w:Zoom&gt;0&lt;/w:Zoom&gt;
 &lt;w:TrackMoves/&gt;
 &lt;w:TrackFormatting/&gt;
 &lt;w:PunctuationKerning/&gt;
 &lt;w:ValidateAgainstSchemas/&gt;
 &lt;w:SaveIfXMLInvalid&gt;false&lt;/w:SaveIfXMLInvalid&gt;
 &lt;w:IgnoreMixedContent&gt;false&lt;/w:IgnoreMixedContent&gt;
 &lt;w:AlwaysShowPlaceholderText&gt;false&lt;/w:AlwaysShowPlaceholderText&gt;
 &lt;w:DoNotPromoteQF/&gt;
 &lt;w:LidThemeOther&gt;EN-US&lt;/w:LidThemeOther&gt;
 &lt;w:LidThemeAsian&gt;JA&lt;/w:LidThemeAsian&gt;
 &lt;w:LidThemeComplexScript&gt;X-NONE&lt;/w:LidThemeComplexScript&gt;
 &lt;w:Compatibility&gt;
 &lt;w:BreakWrappedTables/&gt;
 &lt;w:SnapToGridInCell/&gt;
 &lt;w:WrapTextWithPunct/&gt;
 &lt;w:UseAsianBreakRules/&gt;
 &lt;w:DontGrowAutofit/&gt;
 &lt;w:SplitPgBreakAndParaMark/&gt;
 &lt;w:EnableOpenTypeKerning/&gt;
 &lt;w:DontFlipMirrorIndents/&gt;
 &lt;w:OverrideTableStyleHps/&gt;
 &lt;w:UseFELayout/&gt;
 &lt;/w:Compatibility&gt;
 &lt;m:mathPr&gt;
 &lt;m:mathFont m:val="Cambria Math"/&gt;
 &lt;m:brkBin m:val="before"/&gt;
 &lt;m:brkBinSub m:val="&amp;#45;-"/&gt;
 &lt;m:smallFrac m:val="off"/&gt;
 &lt;m:dispDef/&gt;
 &lt;m:lMargin m:val="0"/&gt;
 &lt;m:rMargin m:val="0"/&gt;
 &lt;m:defJc m:val="centerGroup"/&gt;
 &lt;m:wrapIndent m:val="1440"/&gt;
 &lt;m:intLim m:val="subSup"/&gt;
 &lt;m:naryLim m:val="undOvr"/&gt;
 &lt;/m:mathPr&gt;&lt;/w:WordDocument&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!--  &lt;w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
 DefSemiHidden="true" DefQFormat="false" DefPriority="99"
 LatentStyleCount="276"&gt;
 &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Normal"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="heading 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="0" QFormat="true" Name="heading 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/&gt;
 &lt;w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 7"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 8"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" Name="toc 9"/&gt;
 &lt;w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/&gt;
 &lt;w:LsdException Locked="false" Priority="10" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Title"/&gt;
 &lt;w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/&gt;
 &lt;w:LsdException Locked="false" Priority="11" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/&gt;
 &lt;w:LsdException Locked="false" Priority="22" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Strong"/&gt;
 &lt;w:LsdException Locked="false" Priority="20" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="59" SemiHidden="false"
 UnhideWhenUsed="false" Name="Table Grid"/&gt;
 &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/&gt;
 &lt;w:LsdException Locked="false" Priority="1" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/&gt;
 &lt;w:LsdException Locked="false" Priority="34" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/&gt;
 &lt;w:LsdException Locked="false" Priority="29" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Quote"/&gt;
 &lt;w:LsdException Locked="false" Priority="30" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/&gt;
 &lt;w:LsdException Locked="false" Priority="60" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Shading Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="61" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="62" SemiHidden="false"
 UnhideWhenUsed="false" Name="Light Grid Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="63" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="64" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="65" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="66" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="67" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="68" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="69" SemiHidden="false"
 UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="70" SemiHidden="false"
 UnhideWhenUsed="false" Name="Dark List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="71" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="72" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful List Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="73" SemiHidden="false"
 UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/&gt;
 &lt;w:LsdException Locked="false" Priority="19" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="21" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/&gt;
 &lt;w:LsdException Locked="false" Priority="31" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/&gt;
 &lt;w:LsdException Locked="false" Priority="32" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/&gt;
 &lt;w:LsdException Locked="false" Priority="33" SemiHidden="false"
 UnhideWhenUsed="false" QFormat="true" Name="Book Title"/&gt;
 &lt;w:LsdException Locked="false" Priority="37" Name="Bibliography"/&gt;
 &lt;w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/&gt;
 &lt;/w:LatentStyles&gt;
&lt;/xml&gt;&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- &lt;style&gt;
 /* Style Definitions */
table.MsoNormalTable
 {mso-style-name:"Table Normal";
 mso-tstyle-rowband-size:0;
 mso-tstyle-colband-size:0;
 mso-style-noshow:yes;
 mso-style-priority:99;
 mso-style-parent:"";
 mso-padding-alt:0in 5.4pt 0in 5.4pt;
 mso-para-margin:0in;
 mso-para-margin-bottom:.0001pt;
 mso-pagination:widow-orphan;
 font-size:10.0pt;
 font-family:Cambria;}
&lt;/style&gt;
&lt;![endif]--&gt;
October 30, 2015 6:30 PM --><!-- October 30, 2015 6:30 PM -->The component specification is a top-level XML element that is usually in a file by itself, since it will be reused and thus referred to by multiple workers.</p>
    <p class="Body" dir="ltr">A component specification is the XML element describing a component at a high level without implementation choices or details.  It describes enough about how the component can be integrated into an application to ensure interoperability and interchangeability among different implementations.  Multiple such implementations are possible given the component specification.</p>
    <p class="Body" dir="ltr">The component specification XML element contains component-global attributes, configuration aspects and data port aspects.  A component specification is contained in the XML element whose type is “ComponentSpec”, which should be a top-level element in a file, structured as:</p>
    <p class="Code" dir="ltr">&lt;ComponentSpec<br />      <br />   ---attributes---<br />      &gt;<br />   ---child elements---<br />&lt;/ComponentSpec&gt;</p>
    <h2 dir="ltr" id="toc3"><span class="SectionNumber">3.1 </span><a id="RefHeadingToc15655178005046"></a>ComponentSpec top level element</h2>
    <p class="Textbody" dir="ltr">Below are the attributes and elements of the ComponentSpec top-level XML element.</p>
    <h3 dir="ltr" id="toc4"><span class="SectionNumber">3.1.1 </span>Name <span style="font-style:normal;font-variant:normal;text-transform:none">attribute</span> of ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">elements</span></h3>
    <p class="Textbody" dir="ltr">The “Name” attribute of the component specification is constrained to be acceptable as an identifier in several contexts, including various case sensitive programming languages.  It identifies the component specification as a whole.  It is case insensitive: within a library or application, two different component specifications cannot differ only in case.  When the ComponentSpec element is the top level element of a file, the component name attribute is defaulted from the name of the file before any suffixes.  Thus this attribute is optional when the ComponentSpec is the top level element of a file.  Using this default is recommended since this eliminates any confusing mismatches between the name of the OCS file and the name of the component.</p>
    <h3 dir="ltr" id="toc5"><span class="SectionNumber">3.1.2 </span>NoControl <span style="font-style:normal;font-variant:normal;text-transform:none">attribute</span> of ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">elements</span></h3>
    <p class="Textbody" dir="ltr">The “NoControl” attribute of the component specification is a boolean attribute that indicates, when true, that components using this specification have no lifecycle/configuration interface at all.  This is generally not allowed for application components but is specified for certain infrastructure components.</p>
    <h2 dir="ltr" id="toc6"><span class="SectionNumber">3.2 </span><a id="RefHeadingToc15657178005046"></a>Properties <span style="font-style:normal;font-variant:normal;text-transform:none">element</span> of ComponentSpec <span style="font-style:normal;font-variant:normal;text-transform:none">elements</span></h2>
    <p class="Textbody" dir="ltr">The Properties element of a component specification enumerates the name, type and behavior of configuration properties by containing Property child elements.  The Properties element may be in a separate file and referenced using the &lt;xi:include href=”&lt;file&gt;”/&gt; syntax.  This is useful when groups of Property elements are shared among multiple component specifications.  However, the most common usage is for Property elements to be directly enumerated under the top level ComponentSpec element, without using the <span style="font-style:italic">Properties</span> element at all.</p>
    <p class="Textbody" dir="ltr">The Properties element has no attributes, but consists of a list of Property child elements.  Anywhere in the list of Property elements in the overall Properties element, you can include additional Properties elements using the &lt;xi:include href=”&lt;file&gt;”/&gt; syntax.  This allows a nested list of properties to be shared as a subset of the properties of different components.  When a group of properties is used in multiple component specs, it is placed in a separate file with this element at the top level.</p>
    <h2 dir="ltr" id="toc7"><span class="SectionNumber">3.3 </span><a id="RefHeadingToc15659178005046"></a>Property <span style="font-style:italic">element</span> of ComponentSpec or Properties <span style="font-style:italic">elements</span></h2>
    <p class="Textbody" dir="ltr">A <span style="font-style:italic">Property</span> element describes one configuration property.  It occurs as a sub-element of either the ComponentSpec element or the Properties element.  A Property element describes the name, data type and accessibility of a configuration property.  Its data type can be a scalar type or a structure.  Each property can also be an array or sequence of its data type. Consistent with the CORBA IDL specification, the term “array” refers to a fixed number of data values of the specified type, whereas the term “sequence” refers to a variable number of data values, up to a specified maximum length.  All variable length data types used for properties must be bounded.  See the “sequences” and “strings” data types below.  The attributes of the Property element are listed next.</p>
    <h3 dir="ltr" id="toc8"><span class="SectionNumber">3.3.1 </span>Name attribute of Property (and Member) elements</h3>
    <p class="Textbody" dir="ltr">The Name attribute is the case insensitive name of the property.  A set of properties cannot have properties whose names differ only in case.  Mixed case property names can be used for readability.  When a Properties element includes (via xi:include) other Properties elements there is still only one flat case-insensitive name space of properties for the component.</p>
    <h3 dir="ltr" id="toc9"><span class="SectionNumber">3.3.2 </span>Type attribute of Property (and Member) elements</h3>
    <p class="Textbody" dir="ltr">The Type attribute specifies the data type of the property.  The legal types (case insensitive) are: <span style="font-style:italic;font-weight:bold">Bool, Char, Double, Float, Short, Long, UChar, ULong, UShort, LongLong, ULongLong, Enum, String</span>, and <span style="font-style:italic;font-weight:bold">Struct</span>.  The “Char”, “Short”, “Long”, and “LongLong” types represent 8, 16, 32, and 64 signed integer values respectively.  The “Float” and “Double” types are consistent with 32 and 64 bit IEEE floating-point types, and the “String” type is a null terminated string.  When the “Type” attribute has the “String” value, the “StringLength” attribute must also be supplied, to indicate the maximum length of the string property values, <span style="font-style:italic">excluding</span> any terminating null character (consistent with CORBA-IDL and ISO-C strlen function).  If no Type attribute is present in the Property element, the type “ULong” is used as the default.</p>
    <p class="Textbody" dir="ltr">When the type is “Enum”, the actual values are zero-based Ulong, but the values are indicated by strings found in the “enums” attribute described below.</p>
    <p class="Textbody" dir="ltr">The “ArrayLength” attribute is used when the property is a fixed-length one-dimensional array of the indicated type.  The “SequenceLength” attribute is used when the property is a variable length sequence of the indicated type.</p>
    <p class="Textbody" dir="ltr">When the type is “Struct”, the Property element itself has <span style="font-style:italic;font-weight:bold">Member</span> sub-elements that indicate the types of the members of the struct property.  No struct members can be of type “Struct”.  The SequenceLength and ArrayLength attributes may apply to “Struct” properties.  <span style="font-style:italic;font-weight:bold">Member</span> child elements are similar to Property elements in that they describe the name and data type information for the member.</p>
    <p class="Textbody" dir="ltr">Thus all types have a maximum length.  Properties cannot have unbounded length.</p>
    <h3 dir="ltr" id="toc10"><span class="SectionNumber">3.3.3 </span>StringLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The StringLength attribute is used when the Type attribute is “String”, and indicates the maximum length (excluding any null termination) string value that this property can hold.  It is required for string properties.</p>
    <h3 dir="ltr" id="toc11"><span class="SectionNumber">3.3.4 </span>Enums attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">This attribute is required when the Type attribute is “enum”, and its value is a comma-separated list of strings that name the enumerated values.  The actual values are Ulong and are zero-based ordinals based on the position of the names in this list.</p>
    <h3 dir="ltr" id="toc12"><span class="SectionNumber">3.3.5 </span>ArrayLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The presence of this attribute indicates that the property values are a fixed length one-dimensional array of the type specified in the Type attribute, and that fixed length is indicated in the value of this attribute.</p>
    <h3 dir="ltr" id="toc13"><span class="SectionNumber">3.3.6 </span>SequenceLength attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The presence of this attribute indicates that the number of property values is a variable, but bounded, sequence of the type specified in the Type attribute, with the maximum length indicated in the value of this SequenceLength attribute.  Thus this property has the specified maximum length, and always contains a current length, up to that limit.  When both SequenceLength and ArrayLength attributes are present, the meaning is “sequence of arrays”, not “array of sequences”.</p>
    <h3 dir="ltr" id="toc14"><span class="SectionNumber">3.3.7 </span>ArrayDimensions attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The value of this attribute is a comma-separated list of array dimensions indicating an array whose number of dimensions is the number of values in the list.  If this attribute is set, then the ArrayLength attribute should not be set.  This attribute implies that values are multidimensional arrays with elements whose type is indicated by the Type attribute.</p>
    <h3 dir="ltr" id="toc15"><span class="SectionNumber">3.3.8 </span>Default attribute of Property (and Member) elements</h3>
    <p class="Body" dir="ltr">The name of this attribute is “default”.  It is not a “default attribute”.  This string-valued attribute provides a default value for the property for all implementations.  It is parsed based on the data type specified in the Type attribute.  This value is set by the infrastructure at runtime when any implementation is instantiated in the runtime environment, unless an initial property value is specified by the application.  The purpose of this attribute is to advertise what value will be used if no initial value is provided by the application.  Default values should only be specified for properties whose accessibility is “initial” or “writable” (see below).  The format of the string value of this attribute is described in the “XXX” section below.</p>
    <h3 dir="ltr" id="toc16"><span class="SectionNumber">3.3.9 </span>Accessibility Attributes of Property elements</h3>
    <p class="Body" dir="ltr">The attributes described here specify what property accesses are allowed under what conditions.  They are all boolean attributes and all have the default value of “false”.  It is an error for all of them to be false.</p>
    <h4 dir="ltr" id="toc17"><span class="SectionNumber">3.3.9.1 </span>Readable attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute being true indicates that this property can be read by control software and that the workers will <span style="font-style:italic">not</span> change it.  If set to false (as well as the “volatile” attribute being false), attempts to read the property value at any time after instantiation will result in an error.</p>
    <h4 dir="ltr" id="toc18"><span class="SectionNumber">3.3.9.2 </span>Volatile attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates, when true, that the property is readable <span style="font-style:italic">and</span> that its value may change during execution, without it being written by control software.  When neither “readable” nor “volatile” is true, attempts to read the property value will result in an error.  Only one of “readable” and “volatile” should be set to “true”.</p>
    <h4 dir="ltr" id="toc19"><span class="SectionNumber">3.3.9.3 </span>Writable attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates whether this property can be written both before and while the worker is in the Operating state.  If set to false, attempts to write the property value during operation will result in an error.</p>
    <h4 dir="ltr" id="toc20"><span class="SectionNumber">3.3.9.4 </span>Initial attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute indicates whether this property can be set during initialization.  If set to false (and “writable” being false), attempts to specify an initial property value will result in an error.  Thus a property that has “Initial” as true, but writable as false, can be set at initialization-time, but not set at run-time.  Only one of “writable” and “initial” may be set to “true”.</p>
    <h4 dir="ltr" id="toc21"><span class="SectionNumber">3.3.9.5 </span>Padding attribute of Property element</h4>
    <p class="Body" dir="ltr">This attribute is used for properties that exist only for “padding” purposes, and thus are otherwise inaccessible.  In some cases where the list of properties is intended to be in a predetermined sequence with specific offsets or gaps between properties, a property that has no access is used, and needs this attribute to be set to “true”.  It is rarely used in a component specification, but may be used in a worker description (see below).</p>
    <h4 dir="ltr" id="toc22"><span class="SectionNumber">3.3.9.6 </span>Parameter attribute</h4>
    <p class="Standard" dir="ltr">This attribute indicates that the property's value is used at compile/build time when source code is processed into a binary artifact to be loaded and executed and run-time.    It also allows the default value expressed in this property to be used by name elsewhere in the OCS and OWD XML files.</p>
    <p class="Standard" dir="ltr">There are two primary uses for properties designated as <span style="font-style:italic">parameters</span> using this attribute:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber" dir="ltr">A convenience “variable” for defining other attributes like string and sequence lengths or array dimensions.</p>
      </li>
      <li>
        <p class="ListNumber" dir="ltr">A performance/footprint enhancement for compiled constants vs. runtime settable values.</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">The first “convenience” usage allows properties defined as parameters to be used in expressions for the value of “stringlength”, “sequencelength”, or “arraylength” and “arraydimensions” attributes.  For the allowable syntax of such expressions see the “attribute expressions” section below.  An example is when you would like multiple properties to have the same array dimensions, or to have array dimensions that relate to each other (e.g. one twice as long as the other).  An example is:</p>
    <p class="Code" dir="ltr">&lt;property name='nbranches' default='14'/&gt;<br />&lt;property name='tree1' arraylength='nbranches'/&gt;<br />&lt;property name='tree2' arraylength='nbranches*2 – 1'/&gt;</p>
    <p class="Standard" dir="ltr">The second usage is to allow a component specification to indicate a propertty as “initial” (settable only before execution), and allow <span style="font-style:italic">some implementations</span> to actually compile in the value for efficiency purposes.  The component spec just says “initial”, allowing implementations to either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Have the property be configurable to any value at execution time-difference<br /><span style="font-style:italic;font-weight:bold">--or--</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Have the property be fixed and compiled in to the implementation.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">This allows some implementations (workers) to be flexible and allow different values at runtime, while other implementations can fix the value at compile time.  When the <span style="font-style:italic">application</span> specifies a particular value, the worker with the compiled-in value can only be used if the requested value matches the compiled-in value, whereas the worker with the non-parameter property can be used with any value.  This second usage of the “parameter” attribute is discussed further in the section on the worker XML (OWD) files below.</p>
    <p class="Standard" dir="ltr">In either cases, these parameter values are also made available for worker source code during the build process.</p>
    <h3 dir="ltr" id="toc23"><span class="SectionNumber">3.3.10 </span>Expressions in Numeric Attributes</h3>
    <p class="Body" dir="ltr">For attributes that take numeric values (such as StringLength, ArrayLength, SequenceLength, and ArrayDimensions), the values can be non-negative numeric values, but also be expressions using properties defined as parameters as variables in the expression.  The expression syntax is typical C syntax and operator precedence, with the following additions:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Any identifiers are expected to be parameter properties with default values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Numeric constants can be in any radix according to the C syntax (e.g. 0x123)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">All arithmetic is done using 64 bits.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Numeric constants can use the single-letter suffixes: K for kilo (2^10), M for mega A(2^20), G for giga (2^30).</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">All C language operators are available including the (a?b:c) ternary operator.  The comma operator is not available.  Thus if the “nbranches” property was a parameter, a valid expression might be:</p>
    <p class="Code" dir="ltr">nbranches == 0x123 ? 2k-1 : O177</p>
    <p class="Body" dir="ltr"> </p>
    <h2 dir="ltr" id="toc24"><span class="SectionNumber">3.4 </span><a id="RefHeadingToc15661178005046"></a>Port element of ComponentSpec <span style="font-style:italic">elements</span></h2>
    <p class="Body" dir="ltr">The component specification defines ports through the use of this “Port” element.  It specifies the direction/role of the port (producer or consumer) and the message protocol used at that port.  For compatibility, “DataInterfaceSpec” can also be used in place of “Port”.</p>
    <p class="Textbody" dir="ltr">The Port element has several attributes and one optional child element:  the Protocol.</p>
    <h3 dir="ltr" id="toc25"><span class="SectionNumber">3.4.1 </span>Name attribute of Port elements</h3>
    <p class="Body" dir="ltr">This attribute specifies the name of this port of the component.  The value of the name attribute is a string that is constrained to be valid in various programming languages.  It must be unique (case insensitive) within the component specification.</p>
    <h3 dir="ltr" id="toc26"><span class="SectionNumber">3.4.2 </span>Producer attribute of Port elements</h3>
    <p class="Body" dir="ltr">This boolean attribute indicates whether this port has the role of a producer (when “true”), vs. the default (false) of consumer.</p>
    <h3 dir="ltr" id="toc27"><span class="SectionNumber">3.4.3 </span>Protocol attribute of Port elements</h3>
    <p class="Textbody" dir="ltr">Not be confused with the Protocol <span style="font-style:italic">element</span> below, this string attribute names an XML file containing the protocol description for this port.  The named file is expected to contain a Protocol <span style="font-style:italic">element</span> at its top level.  If the port being described is permissive, meaning it can accept any protocol, then this attribute (and the element) can be absent.  An example of this is a “file writing” component that accepts any types of messages as input, regardless of protocol.</p>
    <h3 dir="ltr" id="toc28"><span class="SectionNumber">3.4.4 </span>Optional attribute of Port elements</h3>
    <p class="Textbody" dir="ltr">This is the attribute whose name is “optional”.  It is also an “optional attribute”.  This boolean attribute indicates whether this data port may be left unconnected in an application.  The default (false) indicates that workers implementing this component require that this port have a connection to some other worker in the application.  When true, this port may be left unconnected and all workers implementing this specification must support the case when the port is not connected to anything.</p>
    <h2 dir="ltr" id="toc29"><span class="SectionNumber">3.5 </span><a id="RefHeadingToc15663178005046"></a>Protocol <span style="text-decoration:none">element</span> of Port elements</h2>
    <p class="Textbody" dir="ltr">The protocol element, which is a child element of the port element, specifies the message protocol used at this port. The Protocol is a separate element since it will likely be reused across a variety of components and interfaces and thus may be the top level element in a file referred to via the “xi:include” mechanism mentioned above or more simply using the “protocol” attribute described above.  The protocol (element) has “Operation” subelements to indicate the different message types that may flow over this data port.</p>
    <p class="Textbody" dir="ltr">If the port being described is permissive, meaning it can accept any protocol, then this element (and attribute) can be absent.  An example of this is a “file writing” component that accepts any types of messages as input, regardless of protocol.</p>
    <h3 dir="ltr" id="toc30"><span class="SectionNumber">3.5.1 </span>Name attribute of Protocol elements</h3>
    <p class="Standard" dir="ltr">When the protocol element is the top level element in a file, the (optional) name attribute is defaulted from the name of the file, with any “-prot”, “_prot”, “-protocol”, “_protocol”, “.xml” suffix removed.  Since protocols are usually defined in separate files, the names are usually not present in the XML and thus defaulted from the file name.</p>
    <h3 dir="ltr" id="toc31"><span class="SectionNumber">3.5.2 </span>Operation element of Protocol elements</h3>
    <p class="Textbody" dir="ltr">The term “Operation” is loosely associated with the analogous concept in RPC systems where the message is “invoking an operation on a remote object”, but in this context it simply describes one of the messages that is legal to send on a port with this protocol.  It has two attributes and some number of “Argument” child elements, which describe data fields in the message.</p>
    <h4 dir="ltr" id="toc32"><span class="SectionNumber">3.5.2.1 </span>Name attribute of Operation elements</h4>
    <p class="Textbody" dir="ltr">This attribute is a case insensitive name of the operation/message within this protocol.</p>
    <h4 dir="ltr" id="toc33"><span class="SectionNumber">3.5.2.2 </span>Argument element of Operation elements</h4>
    <p class="Textbody" dir="ltr">This child element indicates a data field in the message payload for the given “operation” (message type).  Its attributes are the same as those of the “Property” element that describes a configuration property (Name, Type, StringLength, ArrayLength, SequenceLength, etc.).  If no argument elements are present under an Operation element, it means that the operation defines messages with no data fields (sometimes called <span style="font-style:italic">Zero Length Messages</span>).  Similar to “member” elements in property elements whose “type” attribute is “struct”, but arguments to an operation do <span style="font-style:italic">not</span> have to have bounded lengths, so the StringLength attribute is not required for strings, and the SequenceLength attribute is not required for sequences.</p>
    <h3 dir="ltr" id="toc34"><span class="SectionNumber">3.5.3 </span>Component Specification Examples</h3>
    <p class="Textbody" dir="ltr">Here is an example of a component specification.  The in-line use of the Protocol element is silly since it would normally be in a separate sharable file.</p>
    <p class="Code" dir="ltr">&lt;ComponentSpec Name="K1spec"<br />   &lt;Property Name=”size” Type=”float”/&gt;<br />   &lt;Port Name="lvds_tx" Producer="true"&gt;<br />      &lt;Protocol&gt;<br />         &lt;Operation Name=”mess1”&gt;<br />            &lt;Argument Name=”val” Type=”uShort” ArrayLength=”1024”&gt;<br />         &lt;/Operation&gt;<br />      &lt;/Protocol&gt;<br />   &lt;/Port&gt;<br />&lt;/ComponentSpec&gt;</p>
    <p class="Body" dir="ltr"><!-- October 30, 2015 6:30 PM -->The XML description of the worker is called the OpenCPI Worker Description (OWD).   Thus to built a worker (to have an implementation) you start with an OCS (common to a group of implementations), write an OWD, and then write the programming language source code.</p>
    <p class="Body" dir="ltr">An OWD is a general concept, since actual OWDs have a format specific to an authoring model.  Each authoring model defines a specific XML format for describing the worker written for that model, with the requirement that each OWD refer to the OCS that is common to all workers implementing the same component.  The many common aspects of all OWDs are described in the OWD section below.</p>
    <p class="Standard" dir="ltr"> </p>
    <h1 dir="ltr" id="toc35"><span class="SectionNumber">4 </span><a id="RefHeadingToc15647178005046"></a>Authoring Models</h1>
    <p class="Body" dir="ltr">This section introduces the concept of an OpenCPI authoring model, and defines aspects common to all authoring models.  It specifies the concepts, lifecycle states and related operations, and XML metadata used and manipulated by OpenCPI tools and OpenCPI component developers.</p>
    <p class="Body" dir="ltr">We use the term “component” to encompass the functionality and abstract interface aspects.  We use the term “worker” to mean a particular implementation of a component written (or “authored”) using some programming language source code.</p>
    <p class="Body" dir="ltr">We define an authoring model casually as “a way to write a worker”.  A key goal is to support different processing technologies such as General Purpose Processors (GPPs), Field-Programmable Gate Arrays (FPGAs), Digital Signal Processors (DSPs), or Graphics Processors (GPUs).</p>
    <p class="Body" dir="ltr">Since there is no one language or API that allows all these processing technologies to be utilized with efficiency and utilization comparable to their “native” languages and tool environments, we define a set of “authoring models” that achieve native efficiency with sufficient commonality with other models to be able to:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Implement an OpenCPI worker for a class of processors in a language that is efficient and natural to users of such a processor</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Be able to switch (replace) the authoring model and processing technology used for a particular component in a component-based OpenCPI application without affecting the other components of the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Combine workers (component implementations) into an application using a multiplicity of authoring models and processing technologies.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">An OpenCPI Authoring model consists of these specifications:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">An XML document structure/schema/definition to describe the aspects of the implementation that are specific to the authoring model being used and needed by tools and runtime infrastructure software.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Three sets of programming language interfaces used for interactions between the worker itself and its environment:</p>
      </li>
    </ul>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Control and configuration interfaces for run-time lifecycle control and configuration, sometimes referred to as “the control plane”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Data passing interfaces used for workers to consumer/produce data from/to other workers in the application (of whatever model on whatever processor), sometimes referred to as “the data plane”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Local service interfaces used by the worker to obtain various services locally available on the processor on which the worker is running.</p>
      </li>
    </ol>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Each authoring model also specifies how a worker is built (compiled, synthesized, linked) and packaged, to be ready for execution in an application.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc36"><span class="SectionNumber">4.1 </span><a id="RefHeading87951790153948"></a><a id="Toc141231891"></a>Requirements for all authoring models</h2>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Enable/support well-defined data plane interoperability with other authoring models</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Define its OpenCPI Worker Description (OWD) XML format.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Define programming language interfaces for control, data, and local services.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Must define the packaging for delivering ready-to-execute workers.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc37"><span class="SectionNumber">4.2 </span><a id="RefHeadingToc15649178005046"></a>Control Plane Introduction</h2>
    <p class="Body" dir="ltr">The material in this introduction is common to all authoring models, and is included in all authoring model documents for convenience.  We use the term “Control Plane” to encompass the various aspects of how control software, usually running in a centralized processing environment, can control worker instances at runtime.  The entity that is doing the controlling (or managing) is the “control agent” or “control application”, or simply “control software”.  The control software sees all controllable worker instances the same, regardless of where they are running, on what type of processing technology, and with what authoring model they were written.</p>
    <p class="Body" dir="ltr">While control software sees a uniform view of how to control workers, each authoring model defines how this is accomplished from the point of view of the worker itself.  In particular, each authoring model defines how the two key aspects of control are made visible to the worker's source code:  LifeCycle control and Configuration Property access.  Later sections of each authoring model specification give additional interface details of these interactions, but they all follow a common pattern which is defined here.</p>
    <h3 dir="ltr" id="toc38"><span class="SectionNumber">4.2.1 </span>LifeCycle State Model</h3>
    <p class="Body" dir="ltr">Most component-based systems have an explicit lifecycle model, where workers are instantiated and then are centrally managed, according to a lifecycle state machine.  Normally all components in the application are managed together and they all progress through the lifecycle together.  However, there are cases where control software must control (start/stop etc.) some components in the application different than others.</p>
    <p class="Body" dir="ltr">The LifeCycle model is defined by the “control states” each worker may be in, and “control operations” which generally change the state a worker is in (effecting a state transition).  These are shown in the following diagram.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img001.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img001.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:453.88797px;height:302.9664px" /></p>
    <p class="Caption" dir="ltr">Diagram 1:  Control States and Operations</p>
    <h3 dir="ltr" id="toc39"><span class="SectionNumber">4.2.2 </span>LifeCycle Control Operations</h3>
    <p class="Body" dir="ltr">Control operations have default implementations (that perform the state transitions and nothing else):  workers only need implement the ones that have custom behavior.  A good example is the “initialize” control operation.  If the worker has no runtime initialization to perform, it can avoid any implementation (or even empty “stub”).  Each authoring model describes which control operations must have implementations, but generally they are optional.</p>
    <p class="Body" dir="ltr">Control operations may have either transient or fatal errors.  Transient errors imply that no state change occurred, and the operation can be retried.  Fatal errors imply that the worker instance (member) has become unusable and probably needs to be reloaded.</p>
    <p class="Body" dir="ltr">Control software is required to issue control operations correctly, in sequence, so workers can avoid checking for valid states and transitions. State descriptions are below:</p>
    <table cellspacing="0" dir="ltr" id="Table16table" style="margin-top:19.2px;margin-bottom:0;width:624.0px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:87.598404px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Control <br />State</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:99.6656px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Previous State(s)</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:top;width:94.0688px">
            <p class="TableHeading" dir="ltr" style="text-align:center;font-weight:bold">Allowable<br />Operations</p>
          </td>
          <td style="border-top:1.0px solid #000000;border-bottom:2.6666667px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:top;width:308.3296px">
            <p class="TableHeading" dir="ltr" style="font-weight:bold">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Exists</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr" style="font-style:italic">Initial state<span style="font-weight:bold"> </span><span style="font-weight:normal">or all (except </span><span style="font-weight:bold">unusable),</span><span style="font-weight:normal"> after release</span></p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr" style="font-weight:normal">Initialize</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr" style="font-weight:normal">After instantiation or successful <span style="font-style:italic;font-weight:bold">release</span><span style="font-style:italic">.<br /></span><span style="font-style:normal">Loaded (if necessary), not fully initialized, no properties valid, property access not allowed</span></p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Initialized</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Exists</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Start, Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Initialization complete.  In a stable state “ready to start doing work”, not “operational”.  Properties can be read and written.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Initialized, Suspended</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Stop, (done), Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member doing normal work using properties and data at ports.  Properties can be read or written.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Suspended</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">(Re)start, release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member not operating, will not produce or consumer at data ports.  Properties can be read or written.  Can be resumed via <span style="font-style:italic;font-weight:bold">start</span>.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-style:italic;font-weight:bold">Finished</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">Operating</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">Release</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Member is finished and will not produce or consumer at data interfaces.  Properties can be read or written.  Entered autonomously.</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:87.598404px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Unusable</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:99.6656px">
            <p class="TableContents" dir="ltr">All (fatal errors)</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:none;padding:3.6671999px;vertical-align:middle;width:94.0688px">
            <p class="TableContents" dir="ltr">none</p>
          </td>
          <td style="border-top:none;border-bottom:1.0px solid #000000;border-left:1.0px solid #000000;border-right:1.0px solid #000000;padding:3.6671999px;vertical-align:middle;width:308.3296px">
            <p class="TableContents" dir="ltr">Fatal error state, may not be ever reusable without reloading (container-dependent).</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 2:  Control States</p>
    <h3 dir="ltr" id="toc40"><span class="SectionNumber">4.2.3 </span>Configuration Properties</h3>
    <p class="Standard" dir="ltr">Configuration Properties are worker-defined writeable and/or readable values that enable worker-specific control and monitoring of workers by control software.  They are logically the “knobs and meters” of the worker's “control panel”.  All authoring models provide the interface enabling the worker to access (read and write the values) these values.</p>
    <p class="Standard" dir="ltr">Some authoring models define a flat/linear “configuration address space” where the configuration properties are accessed by accessing this memory space, roughly as a data structure or “register file”.</p>
    <p class="Standard" dir="ltr">The component specification for the worker, as a description that applies to all the implementations of that specification, contains the description of configuration properties considered part of the “component’s external behavior”: that must exist in all implementations (all workers meeting that spec).  However, each worker may also add to this set of configuration properties and define implementation-specific configuration properties. These are sometimes useful for debugging or when the initial configuration specified for the whole application might list some of these properties to properly configure a particular implementation.</p>
    <p class="Standard" dir="ltr">Each configuration property is defined with a name and data type from a limited set of data types that are sensible across many authoring models and processing technologies.  Although each configuration property may also be variable in length (e.g. a string, or a variable length sequence of numbers), there is always a defined maximum length for any such property value.  This enables components and workers to be compliant with a variety of component system standards, and enables authoring models for lean and embedded technologies.</p>
    <p class="Standard" dir="ltr">The available data types are scalar types, structures, multidimensional arrays of those types, and single dimension variable length sequences of the same types.  The scalar data types are:  Bool, Char, Double, Float, Short, Long, UChar, ULong, UShort, LongLong, ULongLong, Enum, and String.  The “Char”, “Short”, “Long”, and “LongLong” types and their unsigned counterparts are 8, 16, 32, and 64 bit  signed and unsigned integer values respectively.  The “Float” and “Double” types are consistent with 32 and 64 bit IEEE floating-point types, and the “String” type is a null terminated string with a defined maximum length.  Sequences also have a defined maximum length.  “Enum” types are represented by ULong values, but are associated with defined string names.</p>
    <p class="Standard" dir="ltr">Beyond data type, the configuration properties also have attributes that define whether the value can only be set at initialization time (an “initial” property) , set any time during execution (a “writable” property), or never set (read-only).  Similarly, a configuration property value can be described as “volatile” (the value may be changed by the worker during execution) or static (“readable”) and will not change unless written by control software..  This covers many patterns of use and optimizations for such values, and  results in 9 valid combinations of readability and writability.</p>
    <p class="Standard" dir="ltr">As mentioned earlier, a worker (in the OWD XML) may have additional properties beyond what is specified in the OCS XML:  commonly extra status information for debugging.  Furthermore, an OWD may add to the accessibility of a property specified in the OCS, e.g. make a property readable that was not readable in the OCS, for debug purposes (e.g. to read back what was written).  The accessibility added by the OWD results in the implementation having a superset of what was “promised” in the OCS.</p>
    <h3 dir="ltr" id="toc41"><span class="SectionNumber">4.2.4 </span>Properties that are in fact build-time parameters</h3>
    <p class="Standard" dir="ltr">While the OCS specifies properties and their initialization-time and run-time accessibility, an implementation OWD can further declare that a property is actually a compile time parameter of the implementation.  This is not allowed (and does not make sense) for properties that are “writable” at runtime.  When an implementation has properties that are parameters, it means that the implementation must be built (compiled, synthesized, elaborated) for specific values of such properties.  This has three implications:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">An application can only use the worker if it is built for a property value that matches what is requested as an “initial” property in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Binary component libraries may have multiple builds (binary artifacts) for the same worker, but with different combinations of parameter values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The component developer must decide which combinations of parameter values to build, in order to make alternative settings of such parameters available.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">This parameter feature allows implementations to have compile time optimizations for certain parameter values, and also allows a single worker source code module to be optimized for different values.</p>
    <p class="Standard" dir="ltr">Parameter property values are applied to the build process as expected for the language of the authoring model:  e.g. by “preprocessor symbol definitions” for C, static const values for C++,  “generics” for VHDL, and “parameters” for Verilog.  A very common (and in fact built-in) parameter property is the “debug” boolean property that specifies the typical “debug build” vs. “production build”.</p>
    <p class="Standard" dir="ltr">Each authoring model specifies how properties (runtime and compile time) appear to the worker code, and how the worker may read property values written by control software, and write values that will be read by control software.  Furthermore, different authoring models define how workers know when control software is actually reading or writing these values.</p>
    <h2 dir="ltr" id="toc42"><span class="SectionNumber">4.3 </span><a id="RefHeadingToc15651178005046"></a>Software Execution Model</h2>
    <p class="Body" dir="ltr">The material in this section applies to most software-based authoring models, although it does not apply to the HDL/FPGA authoring model.</p>
    <p class="Body" dir="ltr">Containers for software-based workers execute them such that all execution threads are supplied by the container.  Thus there is no need or possibility for workers to create threads.  This approach reduces complexity of component code, eliminates any requirement to support a threaded API capability, and allows the container to determine the level of multithreading that is needed.  Different authoring models supply such threads in different ways, which is detailed in the individual sections for each.</p>
    <p class="Body" dir="ltr">Execution of a worker is enabled when the worker is in the “operating” control state (as defined on the Control State section above), but workers are only executed when either  some combination of its ports are “ready” (i.e. have buffers), or time has passed.  This combination of “port readiness” and the passage of time is called the workers <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">condition</span>:  the condition under which it should be run.</p>
    <p class="Body" dir="ltr">Every worker has an entry point called its <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">method</span>.  When a worker's <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">condition</span> is satisfied (as determined by its container), its <span style="font-style:italic;font-weight:bold">run</span> <span style="font-style:italic;font-weight:bold">method</span> is entered.  Worker execution is thus a series of “runs” initiated by the container.  The run method cannot block, but returns after doing some work, allowing the container itself to determine when the worker should be entered again:  when its run condition is once again satisfied.</p>
    <p class="Body" dir="ltr">The container calls the worker's <span style="font-style:italic;font-weight:bold">run method</span> when the worker’s <span style="font-style:italic;font-weight:bold">run condition</span> is satisfied.  Run conditions are satisfied based on the availability of its input buffers (with data) or output buffers (with space) at a workers ports or the passage of time (detailed below).  The worker’s run method executes some processing tasks and may:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">process some available messages at some of its input ports</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">produce messages at some of its output ports</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">indicate when messages are consumed as input or produced as output</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">make any changes to its <span style="font-style:italic;font-weight:bold">run condition</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr">It then returns control to its container.  Workers never block.  The container conveys the messages in buffers between collocated workers as well as into and out of the container as required by the application assembly’s connections.</p>
    <p class="Body" dir="ltr">Thus the container determines when the worker should run, and supplies it with buffers full of input messages, or buffers into which output messages may be placed.</p>
    <h3 dir="ltr" id="toc43"><span class="SectionNumber">4.3.1 </span><a id="RefHeading10562140039662"></a><a id="Toc270018424"></a>Run Conditions</h3>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">Workers declare a “run condition” which is a data object that tells the container </span><span style="font-style:italic;font-size:16.0px">under what conditions the worker should run</span><span style="font-size:16.0px">.  The container evaluates the run conditions of all workers and runs them as resources and priorities allow.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The run condition object contains two aspects:  </span><span style="font-style:italic;font-size:16.0px">port readiness</span><span style="font-size:16.0px"> and </span><span style="font-style:italic;font-size:16.0px">time</span><span style="font-size:16.0px">.  Thus the worker is run when its port readiness requirements are satisfies </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">–or–</span><span style="font-size:16.0px"> a specified amount of time has passed.  Either or both aspects can be specified.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">While the worker is </span><span style="font-style:italic;font-size:16.0px">not</span><span style="font-size:16.0px"> running (and thus the container is considering whether to run it), port readiness simply means that buffers are available at that port to be used by the worker.  Input ports have available buffers when there is message data present that has not yet been consumed by the worker.  Output ports are ready when buffers are available into which they may place new data.  I.e. input ports are ready when the worker has data to consume, and output ports are ready when the worker has room to produce new data into a buffer.  Workers may partially consume or partially produce messages in any given run.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">This “port readiness” model implements simple data driven execution:  code is run when data can flow.  The </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">default run condition</span><span style="font-size:16.0px"> specifies that the worker should run if data is available at </span><span style="font-style:italic;font-size:16.0px">all</span><span style="font-size:16.0px"> input ports and space is available at </span><span style="font-style:italic;font-size:16.0px">all</span><span style="font-size:16.0px"> output ports (or conversely, there are no ports that are not ready).  Note that this default, for workers with </span><span style="font-style:italic;font-size:16.0px">no</span><span style="font-size:16.0px"> ports, means they are always ready to run.</span></p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The time aspect of run conditions (when indicated by the worker) specifies the desired maximum time between invocations of the worker’s run method.  If no “port readiness” is also specified, this simply indicates periodic execution.  If the time aspect is specified </span><span style="font-style:italic;font-size:16.0px">with</span><span style="font-size:16.0px"> port readiness, it indicates that execution should take place when either the indicated port readiness conditions are satisfied </span><span style="font-style:italic;font-size:16.0px">–or–</span><span style="font-size:16.0px"> the indicated amount of time has passed since the worker's run method was last entered.</span></p>
    <p class="Body" dir="ltr">The default time aspect of run conditions is:  no such maximum time at all.  In this case time passing does not affect worker execution, only port readiness.</p>
    <p class="Body" dir="ltr">A worker may change its run condition at any time during the execution of its run method by passing a new run condition to the container, to be considered after the run method returns to the container.</p>
    <p class="Body" dir="ltr">In summary, run conditions specify a combination of data-driven and time-driven execution.  Most workers use one or the other aspect, but some need both.  The defaults allow most workers to never bother indicating any run condition at all.<a id="Toc270018425"></a><a id="Toc211783568"></a><a id="Toc211781782"></a><a id="Toc211781053"></a><a id="Toc211780982"></a><a id="Toc211780930"></a></p>
    <h3 dir="ltr" id="toc44"><span class="SectionNumber">4.3.2 </span><a id="RefHeading10566140039662"></a><a id="Toc270018426"></a>Sending or receiving messages via ports</h3>
    <p class="Body" dir="ltr">The worker indicates data flow by telling the container when it has consumed the message in an input buffer at a port (and thus that buffer can be released and reused) and when it has finished placing a message in an output buffer at a port (and thus the message in that buffer can be sent to where it will be consumed).</p>
    <p class="Body" dir="ltr">The worker indicates that an input buffer has been processed and/or an output buffer has been filled during its execution (in its run method) or as a return value from the run method..  It must return from the run method in order to wait for more buffers to process.  The worker never blocks.</p>
    <h3 dir="ltr" id="toc45"><span class="SectionNumber">4.3.3 </span><a id="Toc270018427"></a><a id="Toc211783569"></a><a id="Toc211781783"></a><a id="Toc211781054"></a><a id="Toc211780983"></a><a id="Toc211780931"></a><a id="RefHeading10568140039662"></a>Buffer management</h3>
    <p class="Body" dir="ltr">The container provides and manages all buffers and provides references to buffers to the worker.  Thus input ports operate by the container providing buffers to the worker filled with incoming messages, and the output ports operate by the container providing buffers for the worker to fill with messages before being sent.  Output buffers (sent at output ports) are either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-size:16.0px">obtained for a specific output port (since they may be in a special memory or pool specific to a particular output hardware path), </span><span style="font-style:italic;font-size:16.0px">or</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">originally obtained from an input port and passed to output ports, with no copying by worker code.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">Workers may modify data in input buffers, which allows input buffers to be used for temporary storage (reducing overall memory requirements).  If they do this, they must say so in the worker description XML so that the container ensures that such a buffer is not shared with another consumer of the same data.</p>
    <p class="Body" dir="ltr">Several more advanced buffer management requirements are supported for certain situations as needed:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">To support sliding window algorithms, workers are allowed to retain ownership of previous buffers (not releasing them), while new ones are requested; i.e. allow explicit (in order) input buffer release, not implicitly just the most recent buffer obtained.  The worker must still release the buffers in the order received.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">To support zero copy from input ports to output ports, workers are allowed to send a buffer obtained from an input port to an output port, and not require an empty current buffer to fill on the output port.  Such buffers must be sent (or released) in the order received.  This avoids copying data from input buffers to output buffers.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">The above features are only needed in certain cases, and can be ignored entirely for most simple workers.  To support these more advanced modes, non-blocking interfaces for explicitly releasing, sending, and requesting buffers are available.</p>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">Logically, there are four operations performed with message buffers, which is the basis for specific APIs defined in each authoring model.  They are all </span><span style="font-style:italic;font-size:16.0px">non-blocking functions</span><span style="font-size:16.0px">:</span></p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Request</span><span style="font-size:16.0px"> that a new buffer be made available.  For an input port, it will be filled by the container with a new input message.  For an output port, it is to be filled by the worker with a new output message.  In both cases the ownership of the buffer passes from container to worker when it becomes available.  The new buffer may or may not be immediately available based on this request.</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Release</span><span style="font-size:16.0px"> a buffer to be reused, with its contents discarded.  The ownership passes from worker to container.  Input buffers must be released (or sent) in the order received, i.e. ownership of input buffers must be passed from worker to container in the order that ownership was given from container to worker. </span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold;font-size:16.0px">Send</span><span style="font-size:16.0px"> (enqueue) a buffer on an output port, to be automatically released (later) after the data is sent.  The ownership passes from worker to container.  If the buffer was originally obtained from an input port, it must be sent or released in the order received.</span></p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold;font-size:16.0px;background-color:transparent">Take</span><span style="font-size:16.0px;background-color:transparent"> the current buffer from an input port such that is it no longer the current buffer of the port, but ownership is retained by the worker.  This allows new input buffers to be made available while the worker holds on to previous buffers.  A take implies a request for new buffers.  This function allows workers to use previous buffers to hold history data for algorithms such as sliding window or moving average, without allocating any additional storage.</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr"><span style="font-size:16.0px">The concept of the </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">current buffer</span><span style="font-size:16.0px"> of a port supports a convenient model for workers that have no need to be aware of buffer management.  A port is </span><span style="font-style:italic;font-size:16.0px">ready</span><span style="font-size:16.0px"> if it has a current buffer.  A current buffer on an input port is available to read data from.  A current buffer on an output port is available to write data into.  The concept of </span><span style="font-style:italic;font-weight:bold;font-size:16.0px">advancing</span><span style="font-size:16.0px"> a port, is simply a combination of releasing (input) or sending (output) the current buffer of the port, and requesting a new buffer to be made available on that port, to become the current buffer when it becomes available in the future:</span></p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-size:16.0px">advance = release_or_send + request</span></p>
      </li>
    </ul>
    <p class="Body" dir="ltr" style="font-size:16.0px">Simple workers, using the default run condition, wait for all ports to be ready (to have buffers), process input buffers into output buffers, advance input and output ports, and return.</p>
    <p class="Body" dir="ltr">Worker APIs defined by the authoring model are designed to make this common pattern as simple as possible.  Workers are run when ports to be ready, and they advance ports after processing messages in current buffers.</p>
    <h1 dir="ltr" id="toc46"><span class="SectionNumber">5 </span><a id="RefHeadingToc15653178005046"></a>Worker Descriptions<a id="RefHeading70441790153948"></a></h1>
    <p class="Standard" dir="ltr">In each worker directory there is an XML file that describes the worker and references the spec file in the component library “specs” sub-directory.  These files are called <span style="text-decoration:underline">O</span>penCPI <span style="text-decoration:underline">W</span>orker <span style="text-decoration:underline">D</span>escriptions or OWDs.  The generic (common across authoring models) aspects of these implementation description files (OWDs) are described <a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Generic_Authoring_Model.pdf">i</a>n this section, while the OWD aspects specific to different authoring models are described in the respective sections for each authoring model.  Some authoring models allow multiple workers to be implemented in one worker directory (and in one source code file), in which case multiple OWDs may be in a single worker directory.</p>
    <p class="Standard" dir="ltr">The worker description file essentially adds non-default implementation information to the basic information found in the spec file.  Each authoring model defines what this worker-specific information might be (for example, the width of an FPGA data path for a port).  All OWDs have as the top-level XML element an XYZWorker element, where “XYZ” is the authoring model of the worker.</p>
    <p class="Standard" dir="ltr">If the worker in fact has <span style="font-style:italic">no</span> non-default behavior, there is no need for an OWD:  a default one will be generated.  This default OWD simply contains a reference to the spec file and specifies the authoring model.  E.g., if an RCC worker based on the spec file “search-spec.xml” had no non-default implementation attributes, the OWD file would be, entirely:</p>
    <p class="Code" dir="ltr">&lt;RCCWorker spec='search-spec'/&gt;</p>
    <p class="Standard" dir="ltr">Immediately following are the OWD content elements and attributes common to all authoring models, with the word “XYZ” used to represent the particular authoring model being used.</p>
    <p class="Standard" dir="ltr">The OpenCPI Worker Description (OWD) is not completely specified here, since it is customized for each authoring model.  Actual OWDs are defined for each authoring model, and the top-level element is named according to the authoring model.  For example, the RCC authoring model defines an OWD where the top-level element in the OWD XML file is “RCCWorker”.  This section describes aspects common to the OWDs for all authoring models.  (For XML fans, it is roughly an inherited schema).</p>
    <p class="Standard" dir="ltr">The top level element must refer to an OCS by either:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">containing a ComponentSpec child element (not shared with any other OWD)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">indicating an OCS file by using the “spec” attribute.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">For example, if the “fastcore” implementation of the “corespec1” specification using the HDL authoring model referenced the component specification found in the “corespec1.xml” file, the OWD would like like:</p>
    <p class="Code" dir="ltr">&lt;HdlWorker	Name=”fastcore” Spec='corespec1.xml'<br />	---other attributes---<br />                           &gt;<br />	---other child elements---<br />&lt;/HdlWorker&gt;</p>
    <h2 dir="ltr" id="toc47"><span class="SectionNumber">5.1 </span><a id="RefHeading144212003349228"></a>XML Attributes of the top-level XYZWorker element.</h2>
    <h3 dir="ltr" id="toc48"><span class="SectionNumber">5.1.1 </span>Name attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">The “Name” attribute defaults to the name of the OWD XML file itself (without directory or extension) and is normally omitted.  The “Name” attribute of the component implementation is constrained to be acceptable as an identifier in several contexts, including case sensitive programming languages.  It is sometimes called the “worker name” or “implementation name”.</p>
    <p class="Standard" dir="ltr">While worker names may include both upper and lower case for stylistic or programming language purposes, workers are identified by OpenCPI in a case insensitive manner.  This means there should not be two workers using the same authoring model in the same package namespace whose names differ, only in case.</p>
    <p class="Standard" dir="ltr">The name of the implementation may be the same as the name of the OCS (the “spec name”).  It is typically not required to have a unique name for the OWD unless there are multiple implementations of one OCS that use the same authoring model.  I.e. OWD names are implicitly scoped by authoring model.</p>
    <h3 dir="ltr" id="toc49"><span class="SectionNumber">5.1.2 </span>Spec attribute of the XYZWorker element</h3>
    <p class="Standard" dir="ltr">This string attribute specifies the name of the file for the OCS for this worker.  The build scripts and makefiles automatically put the “specs” subdirectory (in the component library's top-level directory) into the search path when these worker description files are processed, so the spec files (OCSs) need only be referenced by their name and not any directory or pathname.  If the spec file is actually outside the component library, it can be a relative or absolute pathname.  The “.xml” suffix is assumed, thus it is not needed.</p>
    <h3 dir="ltr" id="toc50"><span class="SectionNumber">5.1.3 </span>Language attribute of the XYZWorker element</h3>
    <p class="Standard" dir="ltr">This string attribute specifies the source code language used in this worker.  The valid languages depends on the authoring model, and for each model there is a default language.  Some authoring models have only one valid language in which case this attribute is not required.</p>
    <h3 dir="ltr" id="toc51"><span class="SectionNumber">5.1.4 </span>ControlOperations attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">This attribute contains a comma-separated list of strings identifying the implemented control operations.  For operations that are mandatory for the authoring model, they are assumed. Thus the default implies a minimal implementation that only implements those operations required by the authoring model.  The control operations are listed in the LifeCycle Control section of the AMR.  Control operations that are required by the authoring model do not need to be mentioned.  When only mandatory operations are implemented, this attribute need not be specified.</p>
    <h3 dir="ltr" id="toc52"><span class="SectionNumber">5.1.5 </span>Endian attribute of the XYZWorker element.</h3>
    <p class="Standard" dir="ltr">This attribute specifies the endian behavior of the worker code.  When workers are built, the build process may be run in three different modes to create three different types of binaries:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Little endian</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Big endian</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Dynamic endian based on an input supplied at runtime</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">The third way (dynamic) is generally not relevant for software since compilers only generate code for a specific assumed endianness.  But it is relevant to the FPGA build process to support FPGA bitstream configurations that can operate in both modes.  This OWD attribute specifies how the worker's code will work when subjected to these three build scenarios (as specified by the “ocpi_endian” parameter which is present for all workers of all types).</p>
    <p class="Standard" dir="ltr">The endian attribute values are described in the following table:</p>
    <table cellspacing="0" dir="ltr" id="Table15table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:618.26886px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#f3f3f3;vertical-align:middle;width:104.464005px">
            <p class="TableHeading" dir="ltr">Endian<br />Attribute</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;background-color:#f3f3f3;vertical-align:middle;width:480.33282px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Neutral</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and is correct regardless of the setting.  This is the default value, and is generally correct for software workers.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Little</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and is will only operate correctly in a little endian mode.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Big</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code is unaffected by endian parameter settings and will only operate correctly in a little endian mode.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Static</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code will respect the endian parameter when set to “little” or “big” and the resulting binaries will operate correctly according to the compile-time parameter setting.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:104.464005px">
            <p class="TableContents" dir="ltr" style="font-weight:bold">Dynamic</p>
          </td>
          <td style="border:1.0px solid #00000a;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:middle;width:480.33282px">
            <p class="TableContents" dir="ltr">The worker code will respect all three values of the endian parameter.  If the parameter is “little” or “big”, the resulting binaries will work in the requested mode.  If the parameter is “dynamic”, the resulting binaries will work in an endian mode specified by an input signal or variable as specified in the authoring model.  Not all authoring models may have such an option.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 3 – Worker Endian Attribute Settings</p>
    <h2 dir="ltr" id="toc53"><span class="SectionNumber">5.2 </span><a id="RefHeading144232003349228"></a>Property and SpecProperty subelements in the OWD</h2>
    <p class="Standard" dir="ltr">Properties listed in the component spec indicate the external configuration interface for all implementations of the same spec.  From the external/application point of view, the “writable” aspect is either not writable at all, settable at initialization, or settable during execution (after start).  The “readable” aspect is either not readable at all, readable for a static/unchanging value, or readable for a “volatile” value that can change during execution.  This actually results in 9 valid combinations of readability and writability.</p>
    <p class="Standard" dir="ltr">A worker may have additional properties beyond what is specified in the component spec:  commonly extra status information for debugging.  Furthermore, workers may add to the accessibility of an existing property defined in the component spec.  E.g. it might make a property readable that was not readable in the component spec, for debug purposes (e.g. to read back what was written).  The accessibility added here results in the implementation having a superset of what was “promised” in the component spec.</p>
    <p class="Standard" dir="ltr">Whereas a component spec can only contain “Property” sub elements, a worker description can contain both Property and SpecProperty elements.  The “Property” elements introduce new worker-specific properties unrelated to those defined in the component spec.  The “SpecProperty” elements add worker-specific attributes to the properties already defined in the component spec.</p>
    <p class="Standard" dir="ltr">Worker-specific property attributes can occur either in the Property or SpecProperty elements here.  Property elements here support all the attributes for Property elements in the component spec (described above) as well as any implementation-specific attributes.  For attributes that apply to the Property elements here, any specific constraints for worker descriptions vs. component specs are noted below.</p>
    <p class="Standard" dir="ltr">Whereas an OCS can only contain “Property” elements, an OWD can contain both Property and SpecProperty elements.  The “Property” elements introduce new implementation-specific properties unrelated to those defined in the OCS.  The “SpecProperty” elements <span style="font-style:italic">add</span> implementation-specific <span style="font-style:italic">attributes</span> to the properties already defined in the OCS.</p>
    <p class="Standard" dir="ltr">Implementation-specific property <span style="font-style:italic">attributes</span> can occur either in the Property or SpecProperty elements here.  Property elements in the OWD support all the attributes for Property elements in the OCS (described in the AMR) as well as any implementation-specific attributes.  For attributes that apply to the Property elements, any specific constraints for OWDs vs. OCSs are noted below.</p>
    <h3 dir="ltr" id="toc54"><span class="SectionNumber">5.2.1 </span>Name attribute for OWD Property or SpecProperty elements</h3>
    <p class="Standard" dir="ltr">The Name attribute is the case insensitive name of the property. The “Name” attribute is used in <span style="font-style:italic">SpecProperty</span> elements to indicate which OCS property is being referenced.  In the <span style="font-style:italic">Property</span> elements it indicates the name of the implementation-specific property, which must not be the same as any Property element in the OCS.</p>
    <h3 dir="ltr" id="toc55"><span class="SectionNumber">5.2.2 </span>ReadSync and WriteSync for OWD Property or SpecProperty elements</h3>
    <p class="Standard" dir="ltr">These boolean attributes (default false) are used to indicate those properties that require the use of the beforeQuery and afterConfig control operations.  I.e., they indicate the need of the worker to know when a group of property settings which includes the indicated property is about to be read (ReadSync) and thus first require a beforeQuery control operation, or that such a group has been written (WriteSync) and thus requires an afterConfig control operation after the group is written.  Authoring models that have some native mechanism for reading or writing properties in atomic “batches”, have no need for these attributes or control operations.</p>
    <h3 dir="ltr" id="toc56"><span class="SectionNumber">5.2.3 </span>ReadError/WriteError attributes for OWD Property/SpecProperty elements</h3>
    <p class="Standard" dir="ltr">These Boolean attributes (default is false) indicate properties that may return errors when the property is read (ReadError) or written (WriteError).  If a worker does no such error checking and always succeeds when such property values are read or written, then leaving these values false allows control software to avoid any error checking, which in some models and systems can carry significant overhead.  Most workers in most models simply accept new values and thus the default is false.</p>
    <p class="Standard" dir="ltr">Some authoring models may always convey the error indications as part of how property values are read or written, in which case these attributes are not necessary.</p>
    <h3 dir="ltr" id="toc57"><span class="SectionNumber">5.2.4 </span>“Default” attribute for OWD Property/SpecProperty elements</h3>
    <p class="Standard" dir="ltr">This string attribute provides a default value for the property for this implementation.  If the Default attribute is specified in a SpecProperty element, it is providing a default value for this implementation only.  It is not permitted to provide a default value in a SpecProperty when the property in the OCS already has a default value. This attribute's  value is applied consistent with the access attributes, specifically:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">For an “initial” or “writable” property, the value is set into the implementation at initialization, if no other initial value is specified in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">For a “readable” property, the value will be statically available to control software.  If it is also writable, the value may be overridden at run-time after initialization.</p>
      </li>
    </ul>
    <h3 dir="ltr" id="toc58"><span class="SectionNumber">5.2.5 </span>Parameter attribute</h3>
    <p class="Standard" dir="ltr">This boolean attribute, in a SpecProperty element or a Property element, indicates that the property's value is used at compile/build time when the source code is processed into a binary artifact to be loaded and executed and run-time.  Parameter properties are supplied to the compilation process for the worker, in a form appropriate for the language and authoring model used.  The actual values supplied use the value specified in the “default” attribute (described just above), except when overridden by values specified in the build directory for the worker (as described <a class="Internet20link" href="http:">b</a>elow).  Thus the OWD specifies that the property is a build parameter, and can supply a default value for the parameter.</p>
    <p class="Standard" dir="ltr">Parameter properties are utilized for other purposes depending on the access attributes and whether the property is in the OCS or only in the OWD.</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">When a parameter property is “readable” or “volatile”, the value supplied to the build process is also available as a readable property at runtime, with a constant value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">When a parameter property is “initial”, the binary worker is only considered usable for an application if the value supplied to the build process matches the value specified (required) by the application.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">While the component spec defines properties and their initialization-time and run-time accessibility, a worker can further declare that a property is actually a compile time parameter of the implementation.  This is not allowed (and does not make sense) for properties that are “writable” at runtime.  When a worker has properties that are parameters, it means that the worker must be built (compiled, synthesized, elaborated) for specific values of such properties.  This has three implications:</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">An application can only use the worker if it is built for a property value that matches what is requested as an “initial” property in the application.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Binary component libraries may have multiple builds (binary artifacts) for the same worker, but with different combinations of parameter values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The worker developer must decide which combinations of parameter values to build, in order to make alternative settings of such parameters available.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">This parameter feature allows workers to have compile time optimizations for certain parameter values, and also allow a single worker source code module to be optimized for different values.</p>
      </li>
      <li>
        <p class="Standard" dir="ltr">Parameter property values are applied to the build process as expected: e.g. by “preprocessor symbol definitions” for software, “generics” for VHDL, and “parameters” for Verilog.  A very common (and in fact built-in) parameter property is the “ocpi_debug” boolean property that specifies the typical “debug build” or “production build”.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc59"><span class="SectionNumber">5.3 </span><a id="RefHeading144252003349228"></a>Built-in parameters of all workers</h2>
    <p class="Standard" dir="ltr">OpenCPI automatically adds several parameter properties to all workers.   The values of these parameters are set during the build process in various ways.  Some of these parameters are set to values by the build process and are not intended to be set manually at all.  Others may be set or overridden manually in the Makefile.</p>
    <p class="Standard" dir="ltr">Each authoring model may also specify additional built-in parameters for all workers using that authoring model.  The built-in parameters that apply to all authoring models are described below.</p>
    <p class="Standard" dir="ltr">All built-in parameters use the “ocpi_” prefix to avoid collisions with component developers.</p>
    <h3 dir="ltr" id="toc60"><span class="SectionNumber">5.3.1 </span>The ocpi_debug built-in parameter property</h3>
    <p class="Standard" dir="ltr">This parameter property, of boolean type, indicates whether a “debug build” is being done.  The default value is false.  Setting this value to “true” indicates to worker source code that any debugging instrumentation or behavior should be enabled, at a potential cost of some resource usage and performance.  This built-in parameter is always available, and should be used in worker code to enable things like extra logging or statistics keeping.</p>
    <p class="Standard" dir="ltr">Setting this parameter to true will also in some cases, enable some introspection or instrumentation capabilities of code that is in the OpenCPI infrastructure or is generated code used implicitly by the worker.</p>
    <p class="Standard" dir="ltr">As mentioned earlier, some properties can be defined with a “debug” attribute value of “true”, which indicates that those properties should only be present when the worker is build with this ocpi_debug parameter set to true.</p>
    <p class="Standard" dir="ltr">These debug features allow debug behavior and debug properties to be permanently in the worker's source code and OWD while only being enabled as required.</p>
    <h3 dir="ltr" id="toc61"><span class="SectionNumber">5.3.2 </span>The “ocpi_endian” built-in parameter property</h3>
    <p class="Standard" dir="ltr">This parameter property indicates to worker code which endian mode is being used when the worker is being compiled.  Its type is an enumeration of three values:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">little:</span>  The build is intended to generate binaries for little endian systems</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">big:</span>  The build is intended to generate binaries for big endian systems.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">both:</span>  The build is intended to generate binaries that can be used in either little or big endian mode, selected at initialization time in the runtime environment.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">Software authoring models normally set this mode implicitly since compilers generate binary code for a specific endianness based on the processor being targeted (e.g. little for x86 and ARM, big for PPC).  Thus software compilation cannot support “both”.</p>
    <p class="Standard" dir="ltr">However some authoring models (notably HDL) can support all three compilation modes.  The ability of a worker's code to support various endian modes is specified in the worker's “endian” attribute at the top level of its OWD.</p>
    <h3 dir="ltr" id="toc62"><span class="SectionNumber">5.3.3 </span>Target-related builtin-parameters</h3>
    <p class="Standard" dir="ltr">[This section is preliminary and not implemented]</p>
    <p class="Standard" dir="ltr">There is also a set of target-related parameters that specify which target is being built, called “ocpi_os”, “ocpi_os_version”, “ocpi_arch” for software targets and “ocpi_vendor”, “ocpi_family” for FPGA targets.  All these target-related parameters have the type of “string”, and have values that only contain characters that are valid in programming languages:  upper and lower case letters, underscore, and numbers.</p>
    <p class="Standard" dir="ltr">These built-in parameters allow worker code to be optimized or conditionalized when building the code for certain targets.  For example, in the C language one could write:</p>
    <p class="Code" dir="ltr">#if OCPI_ARCH_x86_64()<br />  // code that is for x86_64 architectures<br />#elif OCPI_ARCH_ARM()<br />  // code that is for ARM architectures</p>
    <p class="Code" dir="ltr">#else<br />  #error unknown architectures<br />#endif</p>
    <p class="Standard" dir="ltr">In VHDL, one might do something like:</p>
    <p class="Code" dir="ltr">l1: if ocpi_vendor_xilinx generate<br /><span style="font-family:Courier,serif;font-size:13.333334px">–</span> code for xilinx<br />end generate l1;</p>
    <h2 dir="ltr" id="toc63"><span class="SectionNumber">5.4 </span><a id="Toc265171047"></a><a id="RefHeading144272003349228"></a>Port Elements of XYZWorker elements</h2>
    <p class="Standard" dir="ltr">Ports are how workers communicate with each other.  They define message-oriented, “data-plane” communication. Each authoring model defines how workers receive/consume and send/produce messages to or from other workers, whether collocated in the same device or executing elsewhere (possibly in a different type of device, including other workers implemented in other authoring models).</p>
    <p class="Standard" dir="ltr">Each authoring model has attributes and elements of this Port element specific to that authoring model, but there are a number of aspects common to all worker descriptions that are described here.  A Port element in a worker description matches the Port element in the component spec by name, and adds worker-specific information about how the worker implements the port.</p>
    <h3 dir="ltr" id="toc64"><span class="SectionNumber">5.4.1 </span>Name attribute of Port elements</h3>
    <p class="Standard" dir="ltr">This string attribute must match one of the names of the port elements in the component spec. It indicates for which component port the worker is providing additional implementation-specific information.  It is required.</p>
    <h2 dir="ltr" id="toc65"><span class="SectionNumber">5.5 </span><a id="Toc245388437"></a><a id="RefHeading53401790153948"></a><a id="Toc224890095"></a>The Worker Makefile</h2>
    <p class="Standard" dir="ltr">The “make” file (named “Makefile”) in the worker directory can be as simple as one line:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/worker.mk</p>
    <p class="Standard" dir="ltr">This simply tells “make” that this directory is for building a worker whose name and authoring model are derived from the name of the worker's directory, and whose worker description file (OWD) is named the same as the worker name, with “.xml” as the suffix, and whose source file for the actual implementation code for the worker also has the name of the worker with the suffix for the programming language.  Such an OWD will be generated if it is not supplied.</p>
    <p class="Standard" dir="ltr">Thus, if the name of the directory were “search.rcc”, then the simplest Makefile above would assume that the worker description file is in “search.xml” and the source code to compile for the worker was “search.c” (since that is the default language for the RCC authoring model).  Note that if the source file is missing, it will be created automatically as a “skeleton” of the implementation that does nothing, but compiles as a valid worker of the given authoring model.  It can then be edited.  When “make clean” is run in the worker directory, any generated code skeleton file will be removed if it has not been edited since it was generated.</p>
    <p class="Standard" dir="ltr">The worker makefile can also have other “make” variable settings specific to the authoring model, and also may list other source files and libraries needed to compile the worker into the appropriate binary file format (e.g. a shared object “.so” file for RCC workers on linux, or a “.ngc” file for HDL workers using Xilinx XST synthesis tool).<a id="Toc2453884461"></a></p>
    <p class="Standard" dir="ltr">The worker Makefile is commonly left as is, but there are cases where some extra settings need to be present.  If your worker will consist of multiple source files, you can add source files (in addition to the skeleton file) by specifying the “SourceFiles” variable in the Makefile.  This variable can refer to additional files placed in this directory that are subsidiary to the primary worker source file.  The table below lists the variables you can set in this Makefile that are common to all authoring models.  Additional variables that only apply to specific authoring models are documented with the authoring model.l.</p>
    <table cellspacing="0" dir="ltr" id="Table14table" style="margin-top:0;margin-bottom:0;margin-left:0;margin-right:auto;width:624.1344px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableHeading" dir="ltr">Variable Name<br />in Makefile</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableHeading" dir="ltr">Override/<br />augment<br />component<br />library Makefile?</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">SourceFiles</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">N</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of <span style="font-style:italic">additional</span> source files for this worker.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">Libraries</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of primitive libraries built elsewhere. If a name has no slashes, it is assumed to be in the OpenCPI CDK installation directory.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">OnlyTargets</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of the only targets for which this worker should be built</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">ExcludeTargets</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of targets for which this worker should NOT be built</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">XmlncludeDirs</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">A list of directories elsewhere for searching for xml files included from the OWD (in addition to the specs directory in the component library)</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:115.196785px">
            <p class="TableContents" dir="ltr">Worker</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:85.7344px">
            <p class="TableContents" dir="ltr">N</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:372.9952px">
            <p class="TableContents" dir="ltr">Name of worker; the default is from directory name</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 4:  Variables in Worker Makefiles</p>
    <p class="Standard" dir="ltr">The variables with “Y” in the table above are those than can be specified in the component library’s Makefile to provide a default for all workers in the library.</p>
    <h2 dir="ltr" id="toc66"><span class="SectionNumber">5.6 </span><a id="RefHeading49191248407284"></a>Parameter Properties in Worker Makefiles</h2>
    <p class="Standard" dir="ltr">When a worker has parameter properties, values for these build-time parameters must be specified somehow.  When they have default values in the OWD or OCS and no other value is specified for a parameter, that default value is used when the worker is built.  Non-default values may be specified in several ways, and this causes the worker to be built for different values of its parameters.</p>
    <p class="Standard" dir="ltr">The “target” directories mentioned above are used to separate the files that result from building for different targets (e.g. linux-c6-x86_64 vs linux-arm-zynq, or [xilinx] virtex6 vs [altera] stratix5).  Parameter properties add another dimension to the concept of “target”.  Thus, when a worker has parameter properties, a different target directory is created for each requested combination of parameter values on each requested target.  This more complex concept of “target” results in the definition of “build configurations”, which are combinations of target hardware and parameter values.</p>
    <p class="Standard" dir="ltr">If there are no parameter properties, or the worker is built only for the default values of all parameter properties, then no additional target directories are created.</p>
    <p class="Standard" dir="ltr">When a worker is built for non-default values of parameters, the target directory name is extended with a build configuration <span style="font-style:italic">prefix</span>, e;g.:</p>
    <p class="Code" dir="ltr">mycl/search.rcc/target-1-linux-c6-x86_64</p>
    <p class="Standard" dir="ltr">The “build-config” prefix is a generated small identifier (generally numeric). To determine the actual build configuration (parameter values) from this identifier, a list of built configurations is placed in the file gen/&lt;worker&gt;-params.xml.</p>
    <p class="Standard" dir="ltr">There are two mechanisms to specify parameter values.  One is for many simple cases, and is based on Makefile variables.  The other is more powerful and is based on a separate XML file to specify any possible build configuration.</p>
    <h3 dir="ltr" id="toc67"><span class="SectionNumber">5.6.1 </span><a id="RefHeading49211248407284"></a>Specifying Parameter Values using Variables in Makefiles</h3>
    <p class="Standard" dir="ltr">To specify the value for a parameter, you set the Make variable whose name is “Param_” followed by the name of the parameter, such as:</p>
    <p class="Code" dir="ltr">Param_xxx=5</p>
    <p class="Standard" dir="ltr">To specify multiple values, Makefile variables can be used to specify multiple values for which parameter values a worker should be built.  A makefile variable of the form:</p>
    <p class="Code" dir="ltr">ParamValues_&lt;xxx1&gt;=v1/v2/v3</p>
    <p class="Standard" dir="ltr">specifies that the parameter whose name is xxx1, <span style="font-family:Arial,serif;font-size:16.0px">should</span> be built for the values v1,v2, and v3.  This variable specifies these values independent of the values of any other parameter, and also <span style="font-family:Arial,serif;font-size:16.0px">independent</span> of the “target” variables that specify target hardware.  Thus if the variables were specified as:</p>
    <p class="Code" dir="ltr">ParamValues_p1=1/2/3<br />ParamValues_p2=abc/xyz</p>
    <p class="Standard" dir="ltr">then the worker will be built for each target specified for all these combinations:</p>
    <p class="Code" dir="ltr">p1=1, p2=abc<br />p1=1, p2=xyz<br />p1=2, p2=abc<br />p1=2, p2=xyz<br />p1=3, p2=abc<br />p1=3, p2=xyz</p>
    <p class="Standard" dir="ltr">The “forward slash” character is used to separate the values to allow commas to be used within values when the parameter's data type is an array and/or sequence.</p>
    <p class="Standard" dir="ltr">If the worker was built for 2 targets, this would result in the worker being built for 12 different <span style="font-style:italic">build configurations</span>., which are inferred from the settings of parameter and target make variables.  Like all Makefile variables, these parameter variables can be specified on the make command line, and at higher levels of make.  Thus to build an entire component library with the “p1” parameter set to 2, you would simply do this in the top level directory of a component library:</p>
    <p class="Code" dir="ltr">make Param_p1=2</p>
    <p class="Standard" dir="ltr">The syntax of parameter values is the same as described for default values for properties in the [AMR], with the limitation that string values cannot have spaces, quotes, commas or backslashes.  If those are needed, the XML file method of specifying parameter values must be used.</p>
    <p class="Standard" dir="ltr">There are a number of limitations when using Makefile variables to specify parameter values:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Different parameters are <span style="font-family:Arial,serif;font-size:16.0px">independent</span> of each other so you get the cross-product of all combinations.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The value syntax is not generally usable for string values with embedded spaces, commas, quotes or backslashes.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">As with most Makefile variable uses, misspelling the name of a Makefile variable does not result in any error.</p>
      </li>
    </ul>
    <h3 dir="ltr" id="toc68"><span class="SectionNumber">5.6.2 </span><a id="RefHeading49231248407284"></a>Specifying Parameters using Build Configuration XML files</h3>
    <p class="Standard" dir="ltr">Using the Makefile variables is the simplest way to specify build configurations, but that method can result in a combinatorial explosion of builds when there are several parameters that can take several variables.  Also, the Makefile variable method restricts parameter values when they are strings.  To overcome these limitations, you can specify all build configurations in an XML file which can indicate specific builds with specific parameter values and specific targets.</p>
    <p class="Standard" dir="ltr">The name of this file is “build.xml”, and the top level element is “build”.  There are two sub elements that can occur in this top level element:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">parameter</span> to specify parameter values for all configurations</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">configuration</span> to specify a single configuration with its own specific parameter values parameters.</p>
      </li>
    </ul>
    <h4 dir="ltr" id="toc69"><span class="SectionNumber">5.6.2.1 </span>Parameter elements in the build.xml file</h4>
    <p class="Standard" dir="ltr">This element specified one or more values for the parameter.  The name attribute specifies which parameter, and must match the name of the parameter property in the OWD (case insensitive).  The values can be specified one of four ways:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">The value attribute can specify the single value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The values attribute can specify a slash-separated list of values.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The valueFile can specify a value in a file.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">One or more “value” child elements can specify values as textual content.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">When the parameter element is at the top level of the build.xml file is it specifying values common to all configurations.  When multiple values are specified, it indicates that builds should be done on all the values.  If the same parameter is mentioned as a subelement of a configuration element, it overrides any top level values for that parameter for that configuration.  An example build.xml file is:</p>
    <p class="Code" dir="ltr">&lt;build&gt;<br />  &lt;parameter name='debug' values='true/false'/&gt;<br />  &lt;configuration name='a'&gt;<br />    &lt;parameter name='mode' value='lownoise'/&gt;<br />    &lt;parameter name='taps' valueFile='taps.txt'/&gt;<br />    &lt;parameter name='labels'&gt;<br />      &lt;value&gt;A label with “quotes”&lt;/value&gt;<br />      &lt;value&gt;another Label \\\,&lt;/value&gt;<br />    &lt;/parameter&gt;<br />  &lt;/configuration&gt;<br />&lt;/build&gt;</p>
    <p class="Standard" dir="ltr">[Note: this file is not yet supported, and in the future this file will entirely supplant the Makefile]</p>
    <h4 dir="ltr" id="toc70"><span class="SectionNumber">5.6.2.2 </span>Configuration elements in the build.xml file</h4>
    <p class="Standard" dir="ltr">The configuration element has a name attribute which will appear as the build configuration suffix to the name of the target directory for that configuration.  The configuration element also has parameter subelelements indicating the specific parameter values for that configuration.</p>
    <h3 dir="ltr" id="toc71"><span class="SectionNumber">5.6.3 </span><a id="RefHeading49251248407284"></a>How Parameter Value Settings Appear in Source Code.</h3>
    <p class="Standard" dir="ltr">The precise way that parameters and their values appear in source code varies by programming language.  In most cases, languages have standard data types for property data types, and constants are defined that specify these values.</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">C and C++:  A “static const” variable is defined which is initialized to the parameter value.  The name of the variable is the property name prefixed with “PARAM_”.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">VHDL:  A generic with the parameter's name is set to the value.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Verilog:  A parameter with the parameter's name is set to the value.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc72"><span class="SectionNumber">5.7 </span><a id="Toc224890096"></a><a id="Toc245388438"></a><a id="RefHeading144292003349228"></a>The Worker Source files</h2>
    <p class="Standard" dir="ltr">The worker source files must be written according to the authoring model, but as a starting point, if no such file exists, you can use “make skeleton” to create an empty skeleton of a worker implementation that will in fact compile, build and execute (doing nothing).  The “make new” command described above does this.  If additional source files should be compiled and linked to make the binary file in an implementation directory, the “make” variable “SourceFiles” can provide a list of files in addition to the ones named for the workers being built.  For example if the file “utils.c” was used in an RCC implementation directory that was building workers w1 and w2 into the same binary file, the makefile would be:</p>
    <p class="Code" dir="ltr">Workers=w1 w2<br />SourceFiles=util.c<br />include $(OCPI_CDK_DIR)/include/worker.mk</p>
    <p class="Standard" dir="ltr">In this case three files, <span class="Code">w1.c</span>, <span class="Code">w2.c</span>, and <span class="Code">util.c</span> will be compiled together to form the worker binary file implementing <span class="Code">w1</span> <span style="font-style:italic">and</span> <span class="Code">w2</span>, as described by <span class="Code">w1.xml</span> and <span class="Code">w2.xml</span>.  If both workers have default implementation aspects, the xml files will be generated.</p>
    <p class="Standard" dir="ltr">Here is a file hierarchy of a component library “<span class="Code">mycl</span>” with a “<span class="Code">search</span>” component with RCC and HDL implementations, and a “<span class="Code">transform</span>” component with only an HDL implementation (before any compilation):</p>
    <p class="Code" dir="ltr">mycl/Makefile<br />    /specs/search-spec.xml<br />          /transform-spec.xml<br />    /search.rcc/Makefile<br />               /search.xml<br />               /search.c     (RCC C source file)<br />    /search.hdl/Makefile<br />               /search.xml<br />               /search.v     (HDL verilog source file)<br />    /transform.hd;/Makefile<br />                 /transform.xml<br />                 /transform.f</p>
    <h1 dir="ltr" id="toc73"><span class="SectionNumber">6 </span><a id="Toc224890091"></a><a id="Toc245388433"></a><a id="RefHeading53321790153948"></a>Component Libraries</h1>
    <p class="Standard" dir="ltr">OpenCPI components are developed in libraries.  OpenCPI component-based applications are built as a composition (or assembly) of components, and the components are drawn from component libraries at execution time.  A component library has two forms:  source and binary.  The source form is for component developers, and the binary form is for application developers and users.  The binary form is the result of “building” in the source library, “exporting” the results to a binary package, and then “installing” that binary package into a directory where applications can find and use the implementations in the library.  As a shortcut during component development, the “export” and “install” steps can be skipped since a “binary” version of the library is actually built directly as a subdirectory of the source tree.</p>
    <p class="Standard" dir="ltr">A component library, in source form for component developers, is a directory that contains:</p>
    <ul class="listlevel1WWNum19">
      <li>
        <p class="ListBullet" dir="ltr">Component specifications (OCSs, “spec files”) in a “specs” subdirectory.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Component implementations (each in its own subdirectory)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Component tests in *.test subdirectories.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The <span style="font-style:italic">Makefile</span> for the component library as a whole</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">When built, a library exports subdirectory (the ”lib” subdirectory) is the binary form of the library (files specifically exported by the library as required by applications when they <span style="font-style:italic">use</span> components in the library).</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">The exported version of a component library (created in the subdirectory “lib” of the source tree) contains mostly binary files (a.k.a. <span style="font-style:italic">artifacts</span>), and some XML files.  An exported library thus contains a heterogeneous collection of binary files containing built workers in various technologies.  </p>
    <p class="Standard" dir="ltr">When the developer of the library wishes to send its binary form to an application developer or user, it simply provides the contents of this “lib” subdirectory (as an installable package), which is then installed on the user’s system, typically in the “/opt/opencpi/lib/xxx” directory where “xxx” is the name of the library.  Note that OpenCPI component libraries in binary form can contain compilations for different operating systems, FPGA chips, or CPUs in the same binary directory tree (e.g. linux for x86 and linux for ARM, or for Xilinx and Altera FPGAs, or for different simulators).</p>
    <p class="Standard" dir="ltr">For application developers and users, libraries are accessed dynamically at runtime via the “OCPI_LIBRARY_PATH” environment variable, similar the “LD_LIBRARY_PATH” environment variable on UNIX/Linux systems, or DYLD_LIBRARY_PATH on MacOSX.</p>
    <p class="Standard" dir="ltr" style="page-break-before:always">The directory structure of a component library is shows in the figure below.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img002.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img002.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:605.0688px;height:421.19037px" /><a id="Toc224890092"></a></p>
    <p class="Caption" dir="ltr">Figure 1: Component Library Directory Structure</p>
    <h2 dir="ltr" id="toc74" style="page-break-before:always"><span class="SectionNumber">6.1 </span><a id="Toc245388434"></a><a id="RefHeading53341790153948"></a>Component Specifications</h2>
    <p class="Standard" dir="ltr">A “Component Specification” is a description that is common to all implementations of a component.  It describes the component's properties, ports, and message protocols at each of its ports.  This XML file is called the “spec file” for the component, and has a “<span class="Code">‑spec.xml</span>” suffix.  The spec files for all components in the library are found the “<span class="Code">specs</span>” sub-directory of the library.  When groups of properties or groups of message protocol “operations” (message types), are shared between spec files they are typically placed in separate “-prot.xml” or “-prop.xml” files that are referenced from multiple spec files.  The suffixes and locations of these files are required for the component library management scripts to know what files must be exported when applications use components in the library.  The contents of these XML files are described in detail in the [AMR].</p>
    <p class="Standard" dir="ltr">These spec files (and property and protocol files, if they are used) are used by two completely different processes:</p>
    <ul class="listlevel1WWNum19">
      <li>
        <p class="ListBullet" dir="ltr">The implementations (in worker subdirectories) need these files to ensure the <span style="font-style:italic;text-decoration:underline">implementation</span><span style="text-decoration:underline"> </span><span style="font-style:italic;text-decoration:underline">matches the</span><span style="text-decoration:underline"> </span><span style="font-style:italic;text-decoration:underline">specification</span>.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Applications need these files to correctly <span style="font-style:italic">use</span> the components and connect them to each other.  See the <a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Application_Reference.pdf">OpenCPI Application </a><a class="Internet20link" href="https://github.com/opencpi/opencpi/raw/master/doc/OpenCPI_Application_Reference.pdf">G</a>uide document.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">To get the most value out of the heterogeneous component model of OpenCPI, it is strongly encouraged to use a common spec (and common unit tests) between different implementations of the same functionality.</p>
    <h2 dir="ltr" id="toc75"><span class="SectionNumber">6.2 </span><a id="Toc245388440111"></a><a id="Toc224890098111"></a><a id="RefHeading49151248407284"></a>The Component Library Makefile</h2>
    <p class="Standard" dir="ltr">The make file (named “Makefile”) in the top-level directory of the component library is basically a list of implementations that should be built, and the target platforms that each authoring model should be built for.  The last line in the file should establish it as a Makefile for an OpenCPI component library and be:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/lib.mk</p>
    <p class="Standard" dir="ltr">The OCPI_CDK_DIR variable must be set either in the environment or as a variable in the makefile to point to the CDK installation.  Before the “include” line above, several “make” variables can be set in the file.  The most important one is “Workers”, which is a list of which worker subdirectories to be built for this component library.  If that variable is not set at all, then it is assumed that all subdirectories of the component library whose suffix is one of the known authoring models, should in fact be built.  For example:</p>
    <p class="Code" dir="ltr">Workers=fft.rcc fft.hdl fft-for-xilinx.hdl fir.rcc</p>
    <p class="Standard" dir="ltr">In order to avoid name space collisions when using multiple component libraries, there is also a “package” variable that specifies what namespace should be used for the specs and implementations in this library.  The default package name is “local”, but for libraries used outside the local organization, it should generally be the reverse internet domain name similar to the name spaces used for Java classes.  E.g.:</p>
    <p class="Code" dir="ltr">Package=com.xyz-corp.siglib</p>
    <p class="Standard" dir="ltr">The package name “ocpi” is reserved for OpenCPI component specifications.</p>
    <p class="Standard" dir="ltr">Finally, for each authoring model, there may be a list of targets to build for.  I.e. for the RCC authoring model, the variable “RccTargets” would be set to a list of targets to build all RCC workers for.  For all software (not HDL) authoring models, the default target, if none is specified, is the machine and operating environment of the machine doing the building.  Other software targets would use cross-compilers.</p>
    <p class="Standard" dir="ltr">Other non-software authoring models (for processors that will never be the one running the tools), have other default targets (see each one).</p>
    <p class="Standard" dir="ltr">Software targets generally use the format: <span style="font-style:italic">os-version-processor</span>.  The <span style="font-style:italic;font-weight:bold">os</span> part is something lower case like “linux” or “macos”.  The <span style="font-style:italic;font-weight:bold">version</span> part is determined by whoever sets up tools.  For linux, it is typically a letter for a distribution followed by a major number (e.g. “c6” for centos 6, “r5” for RedHat 5, “u13” for Ubuntu 13).  For macos, it is simply the major version (e.g. “10.8”).  The processor part is a lowercased version of what the “uname –p” unix command would print, such as “x86_64”.</p>
    <p class="Standard" dir="ltr">Typical examples are linux-c6-x86_64 for 64-bit Centos 6 linux on x86, or macos-10.8-x86_64.  HDL targets typically contain an architecturally compatible part family (e.g. virtex6 or stratix4).  See the HDL development section below.</p>
    <p class="Standard" dir="ltr">Thus if all subdirectories containing workers should indeed be built, and the desired build targets are the default ones, and the package name is the default, then the single “include” line above is sufficient to built a component library.  Thus creating a new component library “mycl” can be accomplished by the script:</p>
    <p class="Code" dir="ltr">mkdir mycl mycl/specs<br />echo ‘include $(OCPI_CDK_DIR)/lib.mk’ &gt; mycl/Makefile</p>
    <h2 dir="ltr" id="toc76"><span class="SectionNumber">6.3 </span><a id="Toc224890100"></a><a id="Toc245388442"></a><a id="RefHeading51051248407284"></a>Library Exports</h2>
    <p class="Standard" dir="ltr">When a component library is built, all the workers are compiled and the binary “artifact” files (the final result of the worker building process) are created.  Different authoring models have many intermediate code and metadata files during the build process, but only a subset of these are required and essential for an application to <span style="font-style:italic;font-weight:bold">use</span> the component.  Thus the build process for a library creates an “export” directory to be used by application developers.  The export subdirectory is thus the external view of the (built) library that could be sent to someone needing to <span style="font-style:italic">use</span> the library, but not to <span style="font-style:italic">build</span> or <span style="font-style:italic">modify</span> it.</p>
    <p class="Standard" dir="ltr">The export subdirectory (called “lib”), is actually a hierarchy filled with symbolic links to the actual files as built for the component implementations in the library.  To export it one might do:</p>
    <p class="Code" dir="ltr">tar czfLs ../mycl.tgz /lib/mycl lib</p>
    <p class="Standard" dir="ltr">This would create a gzip-compressed tar file of the export tree, with symbolic links followed (taking the actual files rather than the links), and changing the top directory in the tar file to be “mycl” rather than “lib”.  Such a file could be expanded in place and referenced by applications using the OCPI_LIBRARY_PATH environment variable as described in the OpenCPI Application Guide.</p>
    <h1 dir="ltr" id="toc77"><span class="SectionNumber">7 </span><a id="RefHeading53361790153948"></a>Developing Workers</h1>
    <p class="Standard" dir="ltr">This section describes the aspects of the worker development process that is common across all types of workers and authoring models.  Later sections describe aspects that are specific to each authoring models.</p>
    <p class="Standard" dir="ltr">Component <span style="font-style:italic">implementations</span> are in implementation/worker subdirectories in the component library’s directory.  Some authoring models (e.g. RCC) support creating a single binary file (“artifact”) that implements multiple workers, but usually a single worker implementation is in its own subdirectory and when compiled, results in a single binary (artifact) file.  The names of the worker subdirectories have a suffix indicating the authoring model used for that implementation.  Thus if we have a component whose spec file (OCS) is named “search-spec.xml”, the RCC model implementation of that component would normally be in a subdirectory called “search.rcc”.</p>
    <p class="Standard" dir="ltr">The names of the spec file and the worker subdirectory do not have to match, but it is recommended and allows the use of more defaults to simplify the process.  If there were an HDL implementation of the same component, it would be in the subdirectory “search.hdl”.  Note that these names (“search”) are not required to be the names that occur in the programming language source files (e.g. C, C++, Verilog, etc.), although that is usually the simplest.  A “search.test” subdirectory would be created for a unit test for all implementations of the “search” component, as defined in the “spec” file.</p>
    <p class="Standard" dir="ltr">The first step in creating a worker (after creating the spec file) is to create a subdirectory in the component library with the name of the worker (before the “.”) and the authoring model used (after the “.”).  The contents of these directories are different based on the authoring model (although they are as similar as conveniently possible), and are described in model-specific sections below.   What is in common between all authoring models is that the implementation subdirectory contains these files:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Worker Description File (the OWD XML file)</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Worker Makefile</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Worker source code file(s)</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">When XML and source language files are initially automatically generated by the built-in make scripts, they are placed in a “gen” subdirectory of the worker’s directory.  When files are compiled, the resulting binary files are placed in subdirectories named: target<span style="font-style:italic">-&lt;target&gt;</span>, where <span style="font-style:italic">“&lt;target&gt;</span>” is the type of hardware the compilation is targeting.  Thus “cleaning” (via “make clean”) a worker directory simply removes the “gen” and all “target-*” subdirectories.  In almost all cases, files in the “gen” subdirectory should be considered read-only and not edited.</p>
    <h2 dir="ltr" id="toc78"><span class="SectionNumber">7.1 </span><a id="Toc2248900971"></a><a id="Toc2453884391"></a><a id="RefHeading49171248407284"></a>Creating a new worker</h2>
    <p class="Standard" dir="ltr">To create a new worker (component implementation) called “<span style="font-style:italic">xyz</span>”, with the authoring model “am”, after the “specs” file exists in the specs directory (<span style="font-style:italic">xyz</span>-spec.xml), the following make command is used in the top level directory of the component library:</p>
    <p class="Code" dir="ltr">make new Worker=xyz.am</p>
    <p class="Standard" dir="ltr">This generates the subdirectory for that implementation, creates the appropriate initial “Makefile”, and builds a compilable skeleton of the worker.</p>
    <p class="Standard" dir="ltr">An additional “Language” attribute may be supplied for authoring models that support multiple languages.  E.g.:</p>
    <p class="Code" dir="ltr">make new Worker=xyz.hdl Language=Verilog</p>
    <p class="Standard" dir="ltr">At this point you could then edit the <span style="font-family:Courier,serif">xyz.rcc/xyz.c</span> file (assuming the RCC model) to make it contain something more interesting than an empty skeleton that does nothing.  Even before editing the skeleton, it can be “built” using:</p>
    <p class="Code" dir="ltr">make xyz.am</p>
    <p class="Standard" dir="ltr">If you need to use a spec file different than “<span style="font-style:italic">xyz</span>-spec.xml”, you can set the SpecFile variable on the same command, e.g.:</p>
    <p class="Code" dir="ltr">make new Worker=xyz.hdl Language=Verilog \<br />     SpecFile=other-spec.xml</p>
    <p class="Standard" dir="ltr">The filename mentioned in the SpecFile attribute is assumed to be located in the  <span style="font-style:italic">specs</span> subdirectory if it does not contain any slashes.  If it is not in the specs directory for this component library, it must be in a specs directory of some other component library.  Spec files cannot be used if they do not live in some component library.</p>
    <p class="Standard" dir="ltr">If the new worker will embed the component spec in its own worker description XML file, then the SpecFile variable can be set to be empty:</p>
    <p class="Code" dir="ltr">make new Worker=xyz.hdl Language=Verilog SpecFile=</p>
    <p class="Standard" dir="ltr">This is rare, but some special workers will clearly be the only implementation of a spec and thus there is no need for separate spec file.</p>
    <p class="Standard" dir="ltr">The result of using the “make new” command in a component library is a subdirectory for the worker, and initial contents for three files:  the Makefile, the OWD (see below) and the skeleton source code file.  The Makefile and the OWD XML file are quite simple and could be created manually.  The skeleton source code file is also small and fairly simple, but should be created automatically with tools.  If the directory, Makefile, and XML file are created manually, the skeleton will still be automatically created the first time the “make” command is run.</p>
    <h2 dir="ltr" id="toc79"><span class="SectionNumber">7.2 </span><a id="RefHeading53381790153948"></a><a id="Toc245388436"></a><a id="Toc224890094"></a>The Component Specification File:  OCS</h2>
    <p class="Body" dir="ltr">Before a worker can be developed, there must exist a <span style="font-style:italic;font-weight:bold">OpenCPI Component Specification</span> (OCS) XML file.  These “spec files” are normally found in the “specs” subdirectory of a component library (in source form).  Individual workers, each of which is in its own subdirectory, reference the spec that it implements.  Due to the fundamentally heterogeneous nature of OpenCPI, there are frequently multiple workers, written in different authoring models, for the same spec.  Thus the spec does not live in any one worker's directory, but in the top level “specs” directory.</p>
    <p class="Body" dir="ltr">It is possible to have a specs directory outside of component libraries altogether, to enable workers in different libraries to implement the same spec.  It is also possible, and sensible, for a worker in one library to reference a spec in another library.  An example is when a developer would like to create specialized workers in a new library that can serve as alternative implementations for the ones in another library.</p>
    <p class="Body" dir="ltr">The OCS files primarily specify two things:  <span style="font-style:italic;font-weight:bold">properties</span> and <span style="font-style:italic;font-weight:bold">ports</span>.  <span style="font-style:italic">Properties</span><span style="font-style:normal"> are how the component is controlled or monitored, and </span><span style="font-style:italic">ports</span><span style="font-style:normal"> are how components talk to each other.</span>  The key aspect of ports is their <span style="font-style:italic">protocols</span>, which define the types of messages that can flow between ports of connected components.</p>
    <p class="Body" dir="ltr"> </p>
    <h1 dir="ltr" id="toc80"><span class="SectionNumber">8 </span><a id="Toc224890101"></a><a id="Toc245388443"></a><a id="RefHeading53521790153948"></a>HDL/FPGA Development</h1>
    <p class="Standard" dir="ltr">HDL development in OpenCPI includes both “application workers” in a component library, which perform functions independent of any specific hardware attached to the FPGA, as well as “device workers” that are designed to support specific external hardware such as ADCs, flash memories, I/O devices, etc.  Device workers are developed as part of enabling a platform (an FPGA on a particular board) for OpenCPI.  The development of device workers is described in a separate “HDL Platform Development” document.</p>
    <p class="Standard" dir="ltr">The sections below for HDL/FPGA development are:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Developing application workers in a component library</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">HDL build targets: building for different target devices and platforms</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The HDL Build Hierarchy: how whole device “bitstreams” are created.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Developing assemblies of workers on FPGAs.</p>
      </li>
    </ul>
    <h2 dir="ltr" id="toc81"><span class="SectionNumber">8.1 </span><a id="Toc224890102"></a><a id="Toc245388444"></a><a id="RefHeading53541790153948"></a>Developing HDL application workers</h2>
    <p class="Body" dir="ltr">The process of writing a new worker (after the OCS is written), starts with the “make new Worker=xxx” command described above, with the “Language” option set to “vhdl” or “Verilog” (case insensitive).  Assuming you already wrote the “specs/foo-spec.xml” file, you could issue, in the component library’s directory:</p>
    <p class="Code" dir="ltr">make new Worker=foo.hdl Language=vhdl</p>
    <h3 dir="ltr" id="toc82"><span class="SectionNumber">8.1.1 </span><a id="Toc245388445"></a><a id="RefHeading53561790153948"></a>Worker directory contents</h3>
    <p class="Body" dir="ltr">The above command establishes the worker’s subdirectory (foo.hdl), its Makefile, its Worker description file (foo.xml), and its compilable skeleton source code file (foo.v or foo.vhd).  After issuing this command, before writing any code, it is recommended that you compile the skeleton worker that is automatically generated.  Assuming the desired HdlTargets variable is specified in the component library’s Makefile, this just means issuing:</p>
    <p class="Code" dir="ltr">make foo.hdl</p>
    <p class="Body" dir="ltr">There should be no errors unless the specs file somehow used an unsupported feature of the tools.  As with any type of worker, compilation output is placed in the target-<span style="font-style:italic">TTT</span> subdirectory of the worker, for each target mentioned in the HdlTargets variable.  This variable can also be set on the command line:</p>
    <p class="Code" dir="ltr">make foo.hdl HdlTargets=”modelsim virtex6”</p>
    <p class="Body" dir="ltr">This would compile (and for non-simulation targets, synthesize) the worker.</p>
    <p class="Body" dir="ltr">In the “f<span class="Code">oo.hdl</span>” worker directory there will be a skeleton VHDL or Verilog file that you can edit to add the functional source code (sometimes called the (ugh) “business logic”) of the worker.</p>
    <p class="Body" dir="ltr">The “<span class="Code">gen</span>” subdirectory of the worker’s directory contains all the files automatically generated by the “make new” above, but none of these files should be edited.</p>
    <p class="Body" dir="ltr">For VHDL workers, the skeleton file that you <span style="font-style:italic">do</span> edit contains only the “architecture” of the worker.  It is named “f<span class="Code">oo.vhd</span>” in this “f<span class="Code">oo.hdl</span>” directory.  The “entity” declaration of the worker was automatically generated for you, and is found in the generated file “<span class="Code">gen/foo-impl.vhd</span>”.  So at this point, the directory representing the new worker looks like this:</p>
    <p class="Code" dir="ltr">foo.hdl/                           <span style="font-style:italic">directory for new worker</span><br />        Makefile                   <span style="font-style:italic">Makefile for this worker</span><br />        foo.vhd                    <span style="font-style:italic">Source code to edit</span><br />        gen/foo_impl.vhd           <span style="font-style:italic">File containing entity declaration</span><br />        gen/foo.xml                <span style="font-style:italic">Default OWD for this worker</span><br />        gen/…                      <span style="font-style:italic">other generated files</span><br />        target-<span style="font-style:italic">TTT</span>/…               <span style="font-style:italic">compilation output files</span></p>
    <p class="Body" dir="ltr">In some special cases, you may have to edit the Makefile here, but you should never edit any files in the “<span class="Code">gen</span>” or “tt<span class="Code">arget-</span>*” subdirectories.</p>
    <h3 dir="ltr" id="toc83"><span class="SectionNumber">8.1.2 </span><a id="Toc245388446"></a><a id="RefHeading53581790153948"></a>Worker Makefile</h3>
    <p class="Standard" dir="ltr">The worker Makefile is usually not hand-edited, but there are a few cases where editing is necessary.  If your worker will consist of multiple source files, you can add VHDL or Verilog source files (beyond the main file whose name is the worker name) by specifying the “SourceFiles” variable in the Makefile.  This variable can refer to additional files placed in this directory that are subsidiary to the worker entity/architecture itself.  In addition to the Makefile variables mentioned for all worker Makefiles above, HDL worker Makefiles may also include:</p>
    <table cellspacing="0" dir="ltr" id="Table3table" style="margin-top:0;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:130.1344px">
            <p class="TableHeading" dir="ltr">Variable Name<br />in HDL Worker<br />Makefile</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:88.931206px">
            <p class="TableHeading" dir="ltr">Override/<br />augment<br />component<br />library Makefile?</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:354.4672px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:130.1344px">
            <p class="TableContents" dir="ltr">Cores</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:88.931206px">
            <p class="TableContents" dir="ltr">N</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:354.4672px">
            <p class="TableContents" dir="ltr">A primitive core built elsewhere</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:130.1344px">
            <p class="TableContents" dir="ltr">VerilogIncludeDirs</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:88.931206px">
            <p class="TableContents" dir="ltr">Y</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:354.4672px">
            <p class="TableContents" dir="ltr">Searchable directories for Verilog include files</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 5:  Variables for HDL Worker Makefiles</p>
    <p class="Standard" dir="ltr">When using the “Cores” and “Libraries” variables, if the name has no slashes, it is assumed to be in the OpenCPI hdl/primitives directory.  The variables with “Y” in the table above are those than can be specified in the component library’s make file to provide a default for all workers in the library.</p>
    <h3 dir="ltr" id="toc84" style="page-break-before:always"><span class="SectionNumber">8.1.3 </span><a id="Toc245388447"></a><a id="RefHeading53601790153948"></a>Worker Description File: the OWD XML file.</h3>
    <p class="Body" dir="ltr">This file specifies characteristics for this implementation of the spec file (OCS).  In many cases it can be empty or left as it is.  A default version is generated for you in the “gen” directory, called “foo.xml”.  If you don’t need to modify it, you can leave it there.  If you do need to modify it to add more information about this implementation/worker, you must copy it into the worker’s directory and edit it <span style="font-style:italic">there</span>.</p>
    <p class="Body" dir="ltr">The primary reasons to customize this OWD XML file are:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">Add implementation-specific properties</span><br />You can add additional worker properties for the implementation, beyond what is in the spec file.  The “property” XML elements accomplish this, with the same xml format as in the spec file.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">Add more accessibility to spec properties<br /></span>You can add more access capabilities for existing properties, via the “specproperty” element.  E.g. make a property that is write-only in the spec to be also “readable” in the implementation for debug purposes.  The only attributes are “name” and the access properties: readable, writable, volatile, initial.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">Specify interface style and implementation attributes for data ports</span><span style="font-weight:bold"><br /></span>You can specify whether the port uses a stream or message interface, and provide additional details for those interfaces (e.g. data path width, or whether the port supports aborting messages).</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-style:italic;font-weight:bold">Specify which control operations that this worker will implement</span><br />You can specify which control operations are in the implementation: only the “start” operation is mandatory and required, and has a default implementation provided.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">The top level of the HDL OWD is the XML “HdlWorker” element, which can have the  optional XML attributes in the table below (beyond those defined for all OWDs above).  None are typically needed, and are only specified when the default behavior must be overridden.</p>
    <table cellspacing="0" dir="ltr" id="Table4table" style="margin-top:9.6px;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableHeading" dir="ltr" style="font-size:14.666667px">HdlWorker<br />Attribute Name</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableHeading" dir="ltr" style="font-size:14.666667px">Data Type</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableHeading" dir="ltr" style="font-size:14.666667px">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">Pattern</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">An external signal naming pattern (described below this table) for all signals of the worker.  The default is “%s_”, which indicates a prefix of the port name followed by underscore.  “External” signals are those defined using the OCPIP interface standard, not the inner “worker” signals.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">PortPattern</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">A port naming pattern used when port names and signal (not data) direction are used in the generated code.  I.e. for each worker port, a naming pattern is defined both for input signals and output signals of the port.  The default is “%s_%n”, which indicates a prefix of the port name followed by underscore, and then “in” or “out” for signals that are “input” to the worker or “output” from the worker.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">DataWidth</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">unsigned</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">The default width of data ports for this worker.  Any individual port can override this.  The default value when this attribute is not specified is based on the protocol (messages) defined for the port.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">SizeOfConfig-<br />Space</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">unsigned<br />64-bit</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">The size of the configuration space in bytes is overridden to be the given value.  The default is based on the actual properties.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">Sub32BitConfig-<br />Properties</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">Boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">Whether this worker needs to address items smaller than 32 bits (and thus require byte enables in its interface).  The default is based on the actual properties.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">RawProperties</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">A boolean value indicating whether the implementation will use the “raw” property interface for all properties.  The default is “false”, unless the “FirstRawProperty” attribute is set.</p>
            <p class="TableContents" dir="ltr" style="font-size:14.0px">The “raw” interface is described below under “control interface signals” and is normally only used for device workers.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:108.927986px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">FirstRawProperty</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:49.6px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.5360003px;padding-right:7.2000003px;vertical-align:top;width:414.9952px">
            <p class="TableContents" dir="ltr" style="font-size:14.0px">A string value indicating the name of the first property that requires the “raw” property interface.  Properties before this use the normal property interface described below.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 6:  Attributes for HDL Workers</p>
    <h3 dir="ltr" id="toc85" style="page-break-before:always"><span class="SectionNumber">8.1.4 </span><a id="Toc245388448"></a><a id="RefHeading53621790153948"></a>The Authored Worker: the VHDL “architecture” or Verilog “module body”</h3>
    <p class="Standard" dir="ltr">The “functional code” or “business logic” of the worker is in the architecture section (VHDL), in the “<span class="Code">foo.vhd</span>” file (and possibly subsidiary source files).  In Verilog, it is in the body of the module, and the file is “<span class="Code">foo.v</span>”.  The entity/module being implemented at this level starts life as the generated skeleton of the “<span style="font-style:italic;font-weight:bold">inner</span> worker”, meaning that it is surrounded by an automatically generated logic “shell” to provide robust and composable interfaces compliant with the Open Core Protocol interfaces defined for the <span style="font-style:italic;font-weight:bold">outside</span> of all workers.  Thus an outer shell is generated around this “inner worker”.  This shell and the entity declaration for the “inner worker” are found in the generated file: “<span class="Code">gen/foo-impl.vhd</span>” file for VHDL and “<span class="Code">gen/foo-impl.vh</span>” for Verilog.  The skeleton file consisting of an empty “inner” worker, becomes the “authored worker” when the functional logic is written/edited into that file.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img003.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img003.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:609.8688px;height:412.9152px" /></p>
    <p class="Caption" dir="ltr">Figure 2: Worker Code and Files</p>
    <p class="Standard" dir="ltr">All OpenCPI HDL workers are characterized by their properties, their ports and their clocks, and usually the clocks are simply associated with ports, or even more simply, a single clock is frequently used with all ports.  Thus the job of implementing the inner worker is the job of processing the various ports’ inputs to the worker to produce the various ports’ outputs of the worker.  For each port of the worker (including the control port) there are input signals (into the worker) and output signals (out of the worker).</p>
    <p class="Standard" dir="ltr">In VHDL, these groups of inputs and outputs are in a record type.  Thus for each port (whether control, data producing, data consuming or other service), there is an “input signal” record and an “output signal” record, named <span class="Code">&lt;port&gt;_in</span> and <span class="Code">&lt;port&gt;_out</span>, respectively.  In Verilog there are no record types, so individual signals simply have the &lt;<span class="Code">port&gt;_in_</span> and <span class="Code">&lt;port&gt;_out_</span> prefixes instead.</p>
    <p class="Standard" dir="ltr">E.g., with a “filter” worker that has a “sensor” input port, and a “result” output port, the VHDL entity declaration would be:</p>
    <p class="Code" dir="ltr">entity filter_worker is<br />  port(<br />    ctl_in             : in  worker_ctl_in_t;<br />    ctl_out            : out worker_ctl_out_t;<br />    sensor_in          : in  worker_sensor_in_t;<br />    sensor_out         : out worker_sensor_out_t;<br />    result_in          : in  worker_result_in_t;<br />    result_out         : out worker_result_out_t);<br />end entity filter_worker;</p>
    <p class="Body" dir="ltr">The actual individual signals in each record depend on the contents of the spec XML file (OCS) and the implementation XML file (OWD).  These signals will be described below.  Note that the name of the “control port” defaults to “ctl”.  An example skeleton file for this worker would be:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">library ieee; use ieee.std_logic_1164.all, ieee.numeric_std.all;<br />library ocpi; use ocpi.types.all;<br />architecture rtl of filter_worker is<br />begin<br />  -- put the logic for this worker here<br />end entity filter_worker;</p>
    <p class="Body" dir="ltr">Note that while the overall worker has the name “filter”, the entity being implemented in the architecture here is “<span class="Code">filter_worker</span>”, the “inner” worker.</p>
    <h3 dir="ltr" id="toc86"><span class="SectionNumber">8.1.5 </span><a id="Toc245388449"></a><a id="RefHeading53641790153948"></a>Signal naming conventions and data types</h3>
    <p class="Standard" dir="ltr">Other than the property value signals described below, the signals in these interfaces are mostly a combination of std_logic_vector and a boolean type, “bool_t” that is used for various boolean indicator signals.</p>
    <p class="Standard" dir="ltr">This VHDL type “<span class="Code">Bool_t</span>”, acts as much like the VHDL type “Boolean” as possible (with various operator overloading functions), while still being based on std_logic.  The <span class="Code">to_boolean</span> and t<span class="Code">o_bool</span> functions explicitly converts to and from the VHDL BOOLEAN type, respectively.  The “<span class="Code">its</span>” function is a convenient synonym for the “<span class="Code">to_boolean</span>” function, enabling code like:</p>
    <p class="Code" dir="ltr">if its(ready) then<br />	…<br />end if;</p>
    <p class="Standard" dir="ltr">There are also two constants for this type, <span class="Code">btrue</span> and <span class="Code">bfalse</span>.  All VHDL types defined are in the “<span class="Code">types</span>” package of the “<span class="Code">ocpi</span>” library.</p>
    <p class="Standard" dir="ltr">All signals into and out of the authored worker are in the “in” and “out” records of each port.</p>
    <p class="Standard" dir="ltr">All data types created by OpenCPI use the “<span class="Code">_t</span>” suffix.  All enumeration values defined by OpenCPI use the “<span class="Code">_e</span>” suffix.</p>
    <h3 dir="ltr" id="toc87" style="page-break-before:always"><span class="SectionNumber">8.1.6 </span><a id="Toc245388450"></a><a id="RefHeading53661790153948"></a>The control interface/port to the authored worker.</h3>
    <p class="Standard" dir="ltr">Every HDL worker has a control port interface that performs three functions:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Provide a clock and associated reset</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Convey life cycle “control operations” like “initialize”, “start” and “stop”.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Access the worker’s configuration properties as specified in the OCS and OWD.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">In VHDL, when the default name of the control port is used (“ctl”), the input signals are essentially prefixed with “ctl_in.” and the output signals are prefixed with “ctl_out.”  I.e. the input signals are in the “ctl_in” record port, and the output signals are in the “ctl_out” record port.</p>
    <h4 dir="ltr" id="toc88"><span class="SectionNumber">8.1.6.1 </span>Reset behavior and initializations in OpenCPI workers and infrastructure</h4>
    <p class="Standard" dir="ltr">Per (at least) Xilinx recommended practice, OpenCPI uses and generates resets synchronously.  Thus resets are asserted and deasserted synchronously.  There are several reasons for this policy, but one is that less logic is typically needed to implement the resetting of register state.</p>
    <p class="Standard" dir="ltr">At power up or reconfiguration, resets are asserted, so they will be asserted on the "first" clock edge.  Per the OCP specification, resets will always be asserted for at least 16 clock cycles.</p>
    <p class="Standard" dir="ltr">If registers (state) truly need an initial value (e.g. for simulation cleanliness or glitch-free initialization or sim-vs-synth consistency), it is preferred to set an initial value in VHDL or Verilog, rather than using asynchronous reset.  Note that current Xilinx (XST, and ISIM), Altera (Quartus), and Mentor (Modelsim) support such initialization without using any resources.</p>
    <p class="Standard" dir="ltr">In general, applying resets to register state should serve a functional purpose, and not simply be considered the default practice for all state.</p>
    <h4 dir="ltr" id="toc89"><span class="SectionNumber">8.1.6.2 </span>Clock and reset in the control interface</h4>
    <p class="Body" dir="ltr">The signal “clk” is the clock for all other control signals as well as the default clock for all other data ports of the worker.  The “reset” signal (asserted high), is asserted and deasserted synchronously with this clock.  The reset is guaranteed to be asserted for 16 clock cycles.  When 16 clocks are not enough to perform initialization, the worker should implement the “initialize” life cycle control operation (see below).  The control reset, like all others generated by OpenCPI infrastructure, is initially asserted.</p>
    <p class="Body" dir="ltr">If the worker (in its OWD) declares that other ports have clocks that are asynchronous to this control clock (i.e. those ports operate in different clock domains), the worker implementation code takes responsibility for the appropriate synchronizations between this control clock (and its associated signals), and any other signals related to the data or service ports. In particular, it is the worker’s responsibility to propagate this control reset to the reset outputs associated with those other ports, in the clock domain of those ports.</p>
    <h4 dir="ltr" id="toc90"><span class="SectionNumber">8.1.6.3 </span>Lifecycle/control operation signals in the control interface</h4>
    <p class="Standard" dir="ltr">Other than the control “reset” signal, the lifecycle of all workers is managed by life cycle control operations, according to the diagram below.  However, in the simplest common case, when the worker has no need to implement any of these operations, there is a single simple input signal that indicates when the worker should “run”, called “is_operating”.  I.e., after reset is deasserted, the worker should “operate” only when this “is_operating” signal is asserted.  Many HDL workers simply use this signal (as well as clk and reset) and no others in the control interface.  The “is_operating” signal is a convenience indicating that the worker has been “started” and should now “do its thing”.</p>
    <p class="Standard" dir="ltr">If the “initialize” control operation is not implemented, then when the reset signal is deasserted, the worker is considered to be “initialized”.  If “initialize” is implemented, it is considered in the “exists” state after reset is deasserted.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img004.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img004.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:533.0688px;height:360.1152px" /></p>
    <p class="Caption" dir="ltr">Figure 3: Control Operations and States</p>
    <p class="Standard" dir="ltr">When a worker needs to explicitly support other control operations, there are 2 input and 2 output signals it can use.  The “control_op” signal is a VHDL enumeration value that conveys which control operation is in progress.  When there is no operation in progress, it has a value of “no_op_e”.  The operation is terminated by asserting the “done” or “error” output signals, after which the control operation is considered accomplished (if “done”) or not (if “error”).  Note that the “done” signal is driven to a default value of “btrue” in the entity declaration (and the “error” signal defaults to “bfalse”).  Thus the worker does not need to drive these at all if it will always perform the control operations in a single cycle and will never need to assert “error”.</p>
    <p class="Standard" dir="ltr">A common example of a control operation might be when the worker needs multiple clock cycles to accomplish something like “initialize” or “start”.  In that case it notices when the “control_op” signal changes from “no_op_e”, and then performs the operation, asserting “done” after the operation has completed (or “error”).</p>
    <p class="Standard" dir="ltr">There is another convenience input signal, called “state” that indicates which lifecycle state the worker is in.  It changes when control operations succeed.  It is a VHDL enumeration value: EXISTS_e, INITIALIZED_e, OPERATING_e, SUSPENDED_e, and UNUSABLE_e.</p>
    <p class="Standard" dir="ltr">Finally, there are two control output signals that the worker can use to indicate two other conditions.  The first, “attention”, allows the worker to indicate an interrupt or other condition to control software.  There is no particular definition of what this means, and its usage generally requires software to monitor it, and perhaps access some volatile property values to determine what caused it.  When or how it is deasserted is also implementation-dependent, although it should be deasserted on reset.</p>
    <p class="Standard" dir="ltr">The second additional control output signal is “finished”.  The worker uses this to indicate it has entered the “finished” state, and will perform no further work.  This is a way for the worker to tell control software that its work is finished and perhaps that the application the worker is part of can be considered “finished”.  This signal should be deasserted upon reset.</p>
    <p class="Standard" dir="ltr">Here is a summary of the control interface signals in the “ctl_in” record:</p>
    <table cellspacing="0" dir="ltr" id="Table5table" style="margin-top:9.6px;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableHeading" dir="ltr">Signal</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableHeading" dir="ltr">Type</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">clk</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">std_logic</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">The clock for the control interface and the default clock for all other interfaces and ports.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">reset</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">std_logic</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">The reset signal, asserted high and synchronously, for the control interface.  Initially asserted.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">control_op</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">control_op_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">An enumeration type that specifies the currently active control operation, with the value “no_op_e” when there is no active control operation.  Control operations end when the “done” or “ready” signal in the ctl_out record is true.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">state</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">state_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">An enumeration type indicating the worker's control state.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">is_operating</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">bool_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">An indication that the worker has been started and is thus in an operating state, e.g. when state = operating_e</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">abort_control_op</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">bool_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:377.9968px">
            <p class="TableContents" dir="ltr">A command indicating that a long-duration control operation is being forcibly aborted.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 7:  HDL Worker Control Port Input Signals</p>
    <h4 dir="ltr" id="toc91"><span class="SectionNumber">8.1.6.4 </span>Property accesses</h4>
    <p class="Standard" dir="ltr">A worker’s configuration properties are accessed via two additional “record” signals, called “props_in” and “props_out” (separate from the ctl_in and ctl_out records for the control interface).  The individual signals within these records depend entirely on what types of properties have been declared in the OCS and OWD.  In the tables below, for a property called “foo”, the signals will be present as described.  The signals possibly present in the “<span class="Code">props_in</span>” record are:</p>
    <table cellspacing="0" dir="ltr" id="Table6table" style="margin-top:9.6px;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableHeading" dir="ltr">Signal<br />in props_in</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableHeading" dir="ltr">Included when property is:</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableHeading" dir="ltr">Type</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableHeading" dir="ltr">Signal Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableContents" dir="ltr">foo</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableContents" dir="ltr">Writable or Initial</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableContents" dir="ltr">*</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableContents" dir="ltr">The registered value last written by control software.  The type is dependent on the property type.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableContents" dir="ltr">foo_length</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableContents" dir="ltr">Writable or Initial:<br />and sequence</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableContents" dir="ltr">ulong_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableContents" dir="ltr">The registered 32 bit unsigned (ulong_t) number of elements in the sequence when property is a sequence type.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableContents" dir="ltr">foo_written</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableContents" dir="ltr">Writable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableContents" dir="ltr">bool_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableContents" dir="ltr">Indication that the entire value has been written.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableContents" dir="ltr">foo_any_written</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableContents" dir="ltr">Writable and (array or sequence or string)</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableContents" dir="ltr">bool_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableContents" dir="ltr">Indication that any part of the value is being written.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:102.1984px">
            <p class="TableContents" dir="ltr">foo_read</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:114.99522px">
            <p class="TableContents" dir="ltr">Volatile or (readable and not writable)</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:47.468803px">
            <p class="TableContents" dir="ltr">bool_t</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:288.4px">
            <p class="TableContents" dir="ltr">Indication that the property is being read.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 8:  HDL Worker Property Input Signals</p>
    <p class="Standard" dir="ltr">All the “indication” signals are valid for the length of the access operation (until “done” or “error”).  Any writable property will be registered in the “shell” when written, even when the property is volatile and the worker is supplying a volatile value for reading in the props_out record.</p>
    <p class="Standard" dir="ltr">The signals possibly present in the “props_out” record are:</p>
    <table cellspacing="0" dir="ltr" id="Table7table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:613.46875px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableHeading" dir="ltr">Signals in props_out</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:131.26718px">
            <p class="TableHeading" dir="ltr">Included when property is:</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:350.26242px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">foo</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:131.26718px">
            <p class="TableContents" dir="ltr">Volatile or (readable and not writable)</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:350.26242px">
            <p class="TableContents" dir="ltr">The worker-supplied value of the property, with the type dependent on the property declaration.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">foo_length</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:131.26718px">
            <p class="TableContents" dir="ltr">Volatile or (readable and not writable)</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:350.26242px">
            <p class="TableContents" dir="ltr">The worker-supplied (ulong_t) length (number of elements in the sequence) when a sequence type.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 9:  HDL Worker Property Output Signals</p>
    <h4 dir="ltr" id="toc92"><span class="SectionNumber">8.1.6.5 </span>Property Data Types</h4>
    <p class="Standard" dir="ltr">The VHDL data type of the property value is the type as specified in the OCS XML definition of the property with the suffix “_t”.  All signed and unsigned integer types are based on the IEEE numeric “signed” and “unsigned” types.  I.e. uchar_t is the IEEE unsigned type of 8 bits.  Also, a conversion function is defined to convert the VHDL “integer” and “natural” types into the numeric property types.  I.e. to_uchar converts a VHDL “natural” to a uchar_t.   These types are char_t, uchar_t, short_t, ushort_t, long_t, ulong_t, longlong_t, ulonglong_t.  For the “char_t” type, which is an 8 bit IEEE signed type, there are also conversion functions (to_char) defined to convert from the VHDL CHARACTER type to char_t, and to_character to convert from char_t to the VHDL CHARACTER type.</p>
    <p class="Standard" dir="ltr">The float_t and double_t types are just the appropriately sized std_logic_vector.</p>
    <p class="Standard" dir="ltr">The string_t type is a null-terminated array of char_t types.  The “to_string” conversion function can convert from a VHDL STRING type to a string_t.</p>
    <p class="Standard" dir="ltr">When a property type is an array or sequence, the value is a VHDL array of the appropriate type, named &lt;basetype&gt;_array_t, with a range of (0 to size-1).</p>
    <p class="Standard" dir="ltr">For each property type there is a constant declared for the minimum and maximum values, named &lt;basetype&gt;_min and &lt;basetype&gt;_max, respectively.</p>
    <p class="Standard" dir="ltr">All these types, conversion functions and constants are in the ocpi.types package (in the ocpi library).  This package is defined in the OpenCPI source tree at <span class="Code">hdl/primitives/ocpi/types_pkg.vhd</span>.</p>
    <h4 dir="ltr" id="toc93"><span class="SectionNumber">8.1.6.6 </span>Raw access to properties</h4>
    <p class="Body" dir="ltr">There is an alternative method for workers to support reading and writing of properties that is usually only used for device workers for devices with built-in hardware registers.  Raw access is enabled by setting the “<span class="Code">rawProperties</span>” attribute or the “<span class="Code">firstRawProperty</span>” attribute in the OWD.  If “<span class="Code">rawProperties</span>” is true, then all properties are “raw”.  If “f<span class="Code">irstRawProperty</span>” names a property, then properties before that one are accessed using the mechanism described above, but the named property and later properties are accessed using the “raw” interface.</p>
    <p class="Body" dir="ltr"> </p>
    <p class="Body" dir="ltr" style="page-break-before:always">The input signals (in the props_in record) for the raw property access interface are:</p>
    <table cellspacing="0" dir="ltr" id="Table8table" style="margin-top:9.6px;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableHeading" dir="ltr">Signal<br />in props_in</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableHeading" dir="ltr">Signal included when:</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableHeading" dir="ltr">Signal Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">raw_address</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableContents" dir="ltr">Always</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableContents" dir="ltr">The byte offset from the first raw property of the property being accessed.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">raw_byte_enable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableContents" dir="ltr">Some raw property is less than 32 bits.</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableContents" dir="ltr">The (4) byte enables for reading and writing bytes within the 32 bit data of the control interface.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">raw_is_read</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableContents" dir="ltr">Some raw property is readable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableContents" dir="ltr">An access operation is reading a raw property.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">raw_is_write</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableContents" dir="ltr">Some raw property is writable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableContents" dir="ltr">An access operation is writing a raw property.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:113.795204px">
            <p class="TableContents" dir="ltr">raw_data</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.39841px">
            <p class="TableContents" dir="ltr">Some raw property is writable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:353.53598px">
            <p class="TableContents" dir="ltr">The data being written to the raw property.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 10:  Raw Property Input Signals</p>
    <p class="Body" dir="ltr">The output signals (in the props_out record) for the raw property access interface are:</p>
    <table cellspacing="0" dir="ltr" id="Table9table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:613.46875px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.868805px">
            <p class="TableHeading" dir="ltr">Signal<br />in props_out</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:130.72958px">
            <p class="TableHeading" dir="ltr">Signal included when:</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:325.8688px">
            <p class="TableHeading" dir="ltr">Signal Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:103.868805px">
            <p class="TableContents" dir="ltr">raw_data</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:130.72958px">
            <p class="TableContents" dir="ltr">Some raw property is readable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:325.8688px">
            <p class="TableContents" dir="ltr">The data value for the raw property being read.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 11:  Raw Property Output Signals</p>
    <p class="Body" dir="ltr">When raw properties are being accessed, the “<span class="Code">done</span>” and “<span class="Code">error</span>” control interface signals are used indicate when the access is complete (and for reading, when the <span class="Code">props_out.raw_data</span> signal is valid).</p>
    <h3 dir="ltr" id="toc94" style="page-break-before:always"><span class="SectionNumber">8.1.7 </span><a id="Toc245388451"></a><a id="RefHeading53681790153948"></a>Streaming Data Interfaces/Ports to/from the Authored Worker</h3>
    <p class="Standard" dir="ltr">Worker data ports (as specified in the OCS) can be implemented in two different styles.  One is “streaming” and the other is “message”.  Streaming interfaces (WSIs) are basically FIFOs with some metadata.  Message interfaces are based on addressable message buffers, and are described further below.</p>
    <p class="Standard" dir="ltr">The default style of data interface is the streaming interface, and, if all attributes of the implementation are default, no indication of this style choice is needed in the OWD.  When attributes are required, this style is indicated by including a &lt;streaminterface&gt; element in the OWD.  Recall that the “datawidth” attribute at the top level of the OWD specifies the default width of all data interfaces.  Thus if the only attribute you need to specify for an interface is a width that is the same as other data ports, it may be most convenient to specify this width at the top level HdlWorker.</p>
    <p class="Standard" dir="ltr">An example of the per-port XML element is:</p>
    <p class="Code" dir="ltr">&lt;StreamInterface name=”sensor”<br />                 datawidth=’64’<br />                 preciseBurst=’true’/&gt;</p>
    <p class="Standard" dir="ltr">The possible XML attributes of the stream interface element are:</p>
    <table cellspacing="0" dir="ltr" id="Table10table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:635.5296px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableHeading" dir="ltr">Attribute in<br />StreamInterface</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableHeading" dir="ltr">Attribute<br />data type</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableHeading" dir="ltr">Attribute Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">name</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">The name of the port in the OCS being described.  Required.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">datawidth</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">unsigned</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">The width of the data path for this interface.  The default is the smallest element in the message protocol indicated in the OCS, unless overridden by a default datawidth attribute at the top level of this OWD (HdlWorker)</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">impreciseBurst</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">Whether this interface requires (for input) or produces (for output) imprecise bursts.  The default is true unless preciseBurst is true, in which case the default is false.  When true it means it can accept imprecise bursts on input and may produce imprecise bursts on output.  Most interfaces use imprecise bursts. Precise bursts present the length of the entire message at the start of the burst.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">preciseBurst</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">Whether this interface requires (on input) or may produce (on output) precise bursts.  The default is false.  If a worker only supports precise bursts on input, it may require extra buffering to be inserted.  If a worker can easily (without extra overhead) support precise bursts on output, it should.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">abortable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">On input, that aborted messages are tolerated.  On output, that the worker may abort messages.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">continuous</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">This port must receive, or will produce, continuous data, with no idle cycles within a message.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">earlyrequest</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">For this port, this worker may receive, or may produce, the start of message indication before any valid data.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">pattern</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">Signal naming pattern. This only applies to external signals, and not the inner worker signals. The default is “%s_”, which is simply the port name as prefix with an underscore.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">clock</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">string</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">The name of the clock to be used with this port.  The name is either the name of another port with a “myclock” attribute of true, or the name of a clock declared for the worker as a whole, that is not the control clock.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:120.803185px">
            <p class="TableContents" dir="ltr">myclock</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:389.7952px">
            <p class="TableContents" dir="ltr">An indication that this port operates in its own clock domain, and will have its own “clk” signal as input.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 12:  XML Attributes of StreamInterface Elements</p>
    <p class="Standard" dir="ltr">Although a number of attributes of data interfaces are inferred/derived from the message protocol specified in the OCS, the OCS may not have a message protocol or certain attributes may need to be overridden.  Below are those attributes that can be specified in a StreamInterface element.  The indicated defaults apply when there is no message protocol in the OCS.</p>
    <table cellspacing="0" dir="ltr" id="Table11table" style="margin-top:9.6px;margin-bottom:0;margin-left:0;margin-right:auto;width:637.46875px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:138.26558px">
            <p class="TableHeading" dir="ltr">Attribute in<br />StreamInterface</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableHeading" dir="ltr">Attribute<br />data type</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:374.26242px">
            <p class="TableHeading" dir="ltr">Attribute Description</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:138.26558px">
            <p class="TableContents" dir="ltr">numberOfOpCodes</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">unsigned</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:374.26242px">
            <p class="TableContents" dir="ltr">The number of distinct message types (opcodes) for the interface.</p>
            <p class="TableContents" dir="ltr">The default is 1, and the maximum is 256.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:138.26558px">
            <p class="TableContents" dir="ltr">maxMessageValues</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">unsigned</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:374.26242px">
            <p class="TableContents" dir="ltr">Largest number of data values in a message.  Default is 64K.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:138.26558px">
            <p class="TableContents" dir="ltr">dataValueWidth</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">unsigned</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:374.26242px">
            <p class="TableContents" dir="ltr">The size of the atomic units of data on this interface (size of a byte).  The default is the value of the “datawidth” attribute.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:138.26558px">
            <p class="TableContents" dir="ltr">zeroLengthMessages</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">boolean</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:374.26242px">
            <p class="TableContents" dir="ltr">Whether the interface will support zero length messages.  Default is false.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 13:  Stream Interface Attributes for Overriding Protocol Defaults</p>
    <p class="Standard" dir="ltr">Specifying the StreamInterface attributes determines the signals present in the input and output records for the interface.  The signals for stream interfaces (input or output) are in the following table:</p>
    <table cellspacing="0" dir="ltr" id="Table12table" style="margin-top:9.6px;margin-bottom:0;margin-right:auto;width:623.73114px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <thead>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableHeading" dir="ltr">Signal</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableHeading" dir="ltr">When<br />Included</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableHeading" dir="ltr">Direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableHeading" dir="ltr">Signal Description</p>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">clk</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">When myClock or Clock </p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Input</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The clock for this interface.  When no clock is specified, the ctl_in.clk signal should be used for this interface.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">reset</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Always</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Input</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The connected peer worker is asserting its reset output.  This should reset any message state but perhaps still allow control accesses to properties.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">ready</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Always</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Input</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">A data value and/or message boundary is present.<br />On input: one or more of <span style="font-style:italic;font-weight:bold">valid</span>, <span style="font-style:italic;font-weight:bold">som</span>, <span style="font-style:italic;font-weight:bold">eom</span>, or <span style="font-style:italic;font-weight:bold">abort</span>  must be asserted; worker can assert <span class="Code"><span style="font-style:normal">take</span></span>.<br />On output: worker can assert “<span class="Code">give</span>”</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">data</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">If datawidth &gt; 0</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The input or output data, when “valid” is true.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">som</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Always</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The start-of-message indication if present.  For output ports, if previous <span style="font-style:italic;font-weight:bold">give</span> indicated <span style="font-style:italic;font-weight:bold">eom</span>, then this <span class="Code">som</span> indication is assumed true even if it is not.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">eom</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Always</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The end-of-message indication is present</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">valid</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">If datawidth &gt; 0</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The data signals hold message data.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">abort</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">If Abortable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The message is being aborted</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">byte_enable</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">datavalue-width &lt; datawidth</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">Which data bytes are valid, usable when valid is true.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">opcode</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">numberOfOpCodes &gt; 1</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Data Direction</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">The opcode for the current message.  Valid from start of message to end of message on input.  Must be valid with <span style="font-style:italic;font-weight:bold">som</span> on output.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">give</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Port is output</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Output</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">Indicates  data is given to output port, allowed when “<span class="Code">ready</span>” is true. Worker is saying “I give”.  Like an enqueue signal to a FIFO.  When asserted, at least one of <span style="font-style:italic;font-weight:bold">som</span>, <span style="font-style:italic;font-weight:bold">eom</span>, <span style="font-style:italic;font-weight:bold">valid</span>, or <span style="font-style:italic;font-weight:bold">abort</span> must be asserted.</p>
          </td>
        </tr>
        <tr>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:78.9376px">
            <p class="TableContents" dir="ltr">take</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:66.064px">
            <p class="TableContents" dir="ltr">Port is input</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:71.9296px">
            <p class="TableContents" dir="ltr">Output</p>
          </td>
          <td style="border:1.0px solid #000001;padding-top:0;padding-bottom:0;padding-left:7.9968004px;padding-right:7.6703997px;vertical-align:top;width:336.1312px">
            <p class="TableContents" dir="ltr">Indicates that data is being taken by worker, only permissible when <span style="font-style:italic;font-weight:bold">ready</span> is true.  Worker is saying “I take”.  Like a “dequeue” signal to a FIFO.</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 14:  Stream Interface Input and Output Signals</p>
    <h3 dir="ltr" id="toc95"><span class="SectionNumber">8.1.8 </span><a id="Toc245388452"></a><a id="RefHeading53701790153948"></a>Message Data Interfaces</h3>
    <p class="Standard" dir="ltr">This interface is used when an OWD specifies a MessageInterface element associated with a data port in the OCS.  It provides an alternative mechanism to consume or produce data that uses an addressable message buffer interface.  This enables the worker to produce or consume message data out of order, or to only access parts of a message.  The signals provided with this interface allow the worker to address specific locations in the current buffer, and then signal that it is done with the current buffer.</p>
    <p class="Standard" dir="ltr">[signals table here]</p>
    <h3 dir="ltr" id="toc96"><span class="SectionNumber">8.1.9 </span><a id="Toc245388453"></a><a id="RefHeading53721790153948"></a>MemoryService Interfaces</h3>
    <p class="Standard" dir="ltr">This interface provides access to memory. [To be specified]</p>
    <h3 dir="ltr" id="toc97"><span class="SectionNumber">8.1.10 </span><a id="Toc245388454"></a><a id="RefHeading53741790153948"></a>Time Service Interfaces</h3>
    <p class="Standard" dir="ltr">This interface provides “time of day” information to the worker, to the precision requested in the OWD via attributes to the “timeinterface” element.</p>
    <h2 dir="ltr" id="toc98"><span class="SectionNumber">8.2 </span><a id="Toc245388455"></a><a id="RefHeading53761790153948"></a>HDL Build Targets</h2>
    <p class="Standard" dir="ltr">Build targets answer the question:  what target device (or family of devices) am I building for? (compiling, processing, synthesizing, place-and-routing, etc.)  When building any level of modules for FPGAs, the build targets are specified via the <span style="font-style:italic;font-weight:bold">HdlTargets</span> and <span style="font-style:italic;font-weight:bold">HdlPlatforms</span> variables.  The “targets” are chips or chip families, whereas the “platforms” are actual FPGAs on specific boards.  These build targets are defined in a hierarchy with these levels:</p>
    <p class="IndentHang" dir="ltr"><span class="linenumber"><span style="font-style:italic;font-weight:bold">Top level, vendor level:</span> this level specifies vendors (Xilinx, Altera, Achronix), as well as vendor-independent simulators (Icarus, Verilator, Modelsim).  Thus HDL assets can be “built for Xilinx” or “built for Icarus”.  This implies building for all lower level targets under these top-level labels.  The label “all” specifies all top level targets.</span></p>
    <p class="IndentHang" dir="ltr"><span class="linenumber"><span style="font-style:italic;font-weight:bold">Family level:</span><span style="font-style:italic"> </span>this level specifies the family of parts under the vendor level.  Different part families typically have different on-chip architectures, and may drive tools differently.  Building for a family target means generating libraries or cores that are suitable to any member (part) in the family.  Examples would be “virtex5” or “spartan6” or “stratix4”.  Simulation targets at the top level don’t have families (yet) so these top two levels are the same for simulation.</span></p>
    <p class="IndentHang" dir="ltr"><span class="linenumber"><span style="font-style:italic;font-weight:bold">Part level:</span>  this level specifies the specific part that the design is targeted at, such as xcv5lx50t.  This level does not include package information but may include speed grades.</span></p>
    <p class="Standard" dir="ltr">4Anywhere that HDL building takes place, these two Make variables can further filter the targets that are built:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">ExcludeTargets/ExcludePlatforms:</span> this variable specifies targets to be excluded, usually because they are known not to be buildable for one reason or the other (a tool error, or other incompatibility).</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">OnlyTargets/OnlyPlatforms:</span> this variable specifies targets to be exclusively included, because it is known that only a limited set of targets should be built (e.g. a coregen core specific to a particular family or part).</p>
    <p class="Standard" dir="ltr">The <span style="font-style:italic;font-weight:bold">HdlPlatforms </span>variable specifies HDL platforms (like Xilinx ml605), which imply the appropriate family and part.  I.e., if you specify to build for a platform, it will build primitives and workers for the appropriate family.</p>
    <h2 dir="ltr" id="toc99"><span class="SectionNumber">8.3 </span><a id="Toc245388456"></a><a id="RefHeading53801790153948"></a>The HDL Build Hierarchy</h2>
    <p class="Standard" dir="ltr">OpenCPI FPGA bitstreams (the files that configure entire FPGAs) are built in several layers.  The same layers apply to building executables for simulation.  The following diagram shows the build flow (bottom to top) and hierarchy.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img005.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img005.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:593.12634px;height:396.5088px" /></p>
    <p class="Caption" dir="ltr">Figure 5: OpenCPI HDL Build Flow Layers</p>
    <h3 dir="ltr" id="toc100"><span class="SectionNumber">8.3.1 </span><a id="Toc245388457"></a><a id="RefHeading53821790153948"></a>HDL Build Layers</h3>
    <p class="Standard" dir="ltr">At the bottom (built first, used by all other layers), are “primitives”.  These are low level, “leaf” libraries and cores used by higher levels.  Primitive libraries are libraries of modules built from HDL source code that are available to be used higher up the hierarchy; using a primitive library in a higher level module does not imply all the modules in the library are brought into the design, but only pulled in as needed by references in the higher levels of the design.  Primitive “cores” on the other hand are single modules built from source or generated from tools such as Xilinx Coregen, which are also used in higher levels of design.  They are explicitly included in higher-level designs.  Primitives may in fact depend on each other: a core may depend on primitive libraries, and primitive libraries may depend on other primitive libraries.  Circular dependencies are not supported.</p>
    <p class="Standard" dir="ltr">There are primitive libraries specific to vendors and families that can be used for implementing primitives using vendor-specific elements.  More detail on such primitive libraries are in the HDL Platform Development document.</p>
    <p class="Standard" dir="ltr">Above the “primitives” layer there are workers (HDL component implementations) of several types.  All types of workers can use primitive libraries or cores as required.  Application workers are generally portable and hardware independent.  Device workers are workers that also connect to the I/O pins of external hardware, and in some cases can attach to vendor-specific on-chip structures (e.g. ICAP on Xilinx).  Adapter workers are used when two connected workers are not connectible in some way due to different interface choices in the OWD (e.g. width, stream-vs-message, clock domains).  Platform workers are special device workers that perform platform-wide functions.</p>
    <p class="Standard" dir="ltr">The application assembly is automatically generated HDL source code that uses application workers and adapter workers.  The application assembly itself is described in metadata (XML) as an assembly of connected application workers.  It represents the subset of an overall heterogeneous OpenCPI application: a subassembly that will be executed on a single FPGA.</p>
    <p class="Standard" dir="ltr">The platform configuration is automatically generated HDL source code that uses platform-specific IP along with some device workers.  It represents a platform configured with built-in support for some devices, and may include various constraints and physical design.  For those familiar with Linux kernels, a platform configuration is analogous to a “built/configured kernel with some device drivers built-in”.</p>
    <p class="Standard" dir="ltr">The container adapts the application assembly to a platform configuration and provisions any additional required device workers.  It connects and adapts the “external I/O ports” of the application (sub)assembly to the available I/O paths and devices in the platform.  When the deployment of the application assembly requires device workers that are not in the platform configuration, they are instanced in the container itself.  Here the Linux kernel analogy is that these extra device workers are analogous to the “dynamically loaded device drivers used to run the application”.</p>
    <p class="Standard" dir="ltr">Thus device workers can either be built into the platform configuration or instanced in the container.</p>
    <p class="Standard" dir="ltr">The final design for the entire FPGA is the container logic.  This hierarchy (except primitives) is shown in the following diagram.</p>
    <p class="Standard" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img006.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img006.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:605.0688px;height:462.04797px" /></p>
    <p class="Caption" dir="ltr">Figure 6: HDL Full FPGA Hierarchy</p>
    <p class="Standard" dir="ltr">When tools support it, each layer in the build is actually synthesized or precompiled or elaborated as the tools allow (i.e. “prebuilt”).  Thus:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Each worker in a component library is prebuilt into a core (possibly using primitive libraries)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Assemblies are prebuilt from generated VHDL or Verilog code and the required worker cores</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Platform configurations are prebuilt from platform IP, and device worker cores</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Container top levels are build from platform configurations and assemblies, with any additional device workers, service modules and adapters as required.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Full bitstreams (or simulation executables) are built from the container modules.</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">This “layered prebuilding” allows the results to be reused at the next level without recompiling or resynthesizing, all in a vendor independent fashion.  E.g. an assembly prebuilt for a Xilinx virtex6 part can be reused to target different virtex6-based platforms.  The exact definition of “prebuilding” varies with different tool chains, and the level of “synthesis optimization” that happens at each step also varies by tool, and some of this level of “hardening” at each level is controllable for some tools.</p>
    <p class="Standard" dir="ltr">At one extreme, “prebuilding” simply means remembering which source files must be provided to the next level (for tools that have no precompilation of any kind).  At the other extreme are tools that can incrementally synthesize to relocatable physically mapped blocks on a family of FPGA parts.</p>
    <p class="Standard" dir="ltr">Simulators are considered “platforms” that act as test benches for assemblies.  This is described in more detail below in the simulation section.</p>
    <h3 dir="ltr" id="toc101"><span class="SectionNumber">8.3.2 </span><a id="Toc245388458"></a><a id="RefHeading53841790153948"></a>HDL Directory Structure</h3>
    <p class="Standard" dir="ltr">In the OpenCPI code tree, there is a top- level “hdl” directory under which are the following directories:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">primitives:</span> This directory contains subdirectories for each primitive library or core.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">devices:</span> This directory is a component library containing subdirectories for each HDL device worker for devices optionally used based on application assembly requirements.  Software emulators for some of the devices are also in this component library.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">adapters:</span> This directory is a component library containing subdirectories for each HDL adapter optionally instanced to adapt workers that otherwise could not be connected to each other. Adapters are workers with no control interface.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">platforms:</span>  This directory contains subdirectories for each platform.  Platforms are either a specific FPGA chip part on a circuit board with attached devices, or simulators.  This is where platform-specific worker code exists, and where platform configurations are specified and built.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">assemblies:</span>  This directory contains subdirectories for each assembly of application workers, and is where containers deploying these assemblies on platforms are built into bitstreams and simulation executables.</p>
    <p class="Standard" dir="ltr">Application workers (for all authoring models) are found in component libraries, either private ones, or in the “components” top level directory of the OpenCPI code tree, which is a heterogeneous library of workers in various authoring models.  For application component development separate from the opencpi tree, you might have some or all these directories in your own development area.</p>
    <p class="Standard" dir="ltr">This directory hierarchy (at the time of the writing of this document) is:</p>
    <p class="Standard" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img007.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img007.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:544.14716px;height:344.16956px" /></p>
    <p class="Caption" dir="ltr">Figure 7:  OpenCPI HDL Directory Structure</p>
    <h2 dir="ltr" id="toc102"><span class="SectionNumber">8.4 </span><a id="Toc224890104"></a><a id="Toc245388459"></a><a id="RefHeading53861790153948"></a>HDL Primitive and Assembly build scripts (and Makefiles)</h2>
    <p class="Standard" dir="ltr">While building typical software workers consists of compiling and linking workers into dynamically loadable modules used at the time applications are run, the HDL authoring model (and typical practice in HDL/FPGA development) involves a few more steps.  These steps are supported by additional scripts:</p>
    <ul class="listlevel1WWNum19">
      <li>
        <p class="ListBullet" dir="ltr">building HDL primitives used as submodules <span style="font-style:italic">before</span> building workers in a component library</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">building HDL assemblies using workers <span style="font-style:italic">after</span> building workers in a component library  </p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">The first items (primitives) are built <span style="font-style:italic">before</span> building HDL workers, and the second (application assemblies) are built <span style="font-style:italic">after</span> building HDL workers (but before building final FPGA bitstreams).  This sequence and associated dependencies are automatically managed by the OpenCPI build process for the top level “hdl” directory:  primitives are built first, then application, adapter and device workers, then platforms, then assemblies, and containers.  This entire process is the same across vendors, and across synthesis for hardware vs. compiling for simulation.</p>
    <h2 dir="ltr" id="toc103"><span class="SectionNumber">8.5 </span><a id="Toc224890105"></a><a id="Toc245388460"></a><a id="RefHeading53881790153948"></a>Building HDL Primitives</h2>
    <p class="Body" dir="ltr">HDL primitives are organized into libraries of smaller units of modularity than workers (workers are built in OpenCPI component libraries).  HDL primitives are essentially either a precompiled group of source files, or a prebuilt/presynthesized core, either generated by other tools (i.e. Xilinx CoreGen), or a core for which source code is unavailable (a 3<span style="font-size:58%;vertical-align:super">rd</span> party core in edif or ngc format or possibly qxp format for Altera).  In both cases the exported/installed library or core that results from building a primitive is something that can be referenced by worker designs simply by including the following lines in the HDL worker makefile:</p>
    <p class="Code" dir="ltr">Libraries=myutils</p>
    <p class="Body" dir="ltr">If the library name is a simple name (no slashes), then it is assumed to be installed in the CDK installation directory itself.  Then the OpenCPI source tree is present, this directory is actually the “ocpi” subdirectory of the source tree.  If the name has slashes, it is used as a specific directory elsewhere where the primitive has been built and installed (e.g. your own library of primitives).</p>
    <p class="Body" dir="ltr">So, if the worker source code instantiates a module from the primitive library, no further action need be taken other than including the line above in the HDL worker’s Makefile (or once for a component library in the component library’s Makefile).  In particular, no other “black box” module or VHDL component declaration need be created or referenced by the worker.  The CDK itself includes several primitive libraries, some only have source code, and others have prebuilt cores.  Several HDL primitive libraries in OpenCPI are always included even when the Libraries variable is not set.</p>
    <h3 dir="ltr" id="toc104"><span class="SectionNumber">8.5.1 </span><a id="Toc224890106"></a><a id="Toc245388461"></a><a id="RefHeading53901790153948"></a>Building primitive libraries from source files</h3>
    <p class="Standard" dir="ltr">To create an HDL primitive library from source code, create a directory containing the source files to be precompiled, and include a “Makefile” that includes this line:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/hdl/hdl-lib.mk</p>
    <p class="Standard" dir="ltr">With the “Makefile” above, just running “make”, will create the primitive library for the targets indicated in the HdlTargets “make” variable.</p>
    <p class="Standard" dir="ltr">When you need to export the results of building the library somewhere other than where the sources are (in the target-* subdirectory), you set the “HdlInstallDir” variable to indicate where this and other libraries or cores should be “installed”, and then running “make install”.  The default value of “HdlInstallDir” for the primitive library is “lib” in the library’s directory, which is not particularly useful.  In the OpenCPI core directory tree, all primitive libraries are installed under hdl/primitives/lib.</p>
    <p class="Standard" dir="ltr">A primitive library from source code is built for a variety of targets in per-target directories such that any concrete target that a <span style="font-style:italic">worker</span> is built for will use appropriate files resulting from the build of the primitive libraries for that same target.</p>
    <p class="Body" dir="ltr">Primitive libraries may be written in VHDL or Verilog, but a variety of issues arise when workers written in one language access primitives written in the other language.  The constraints vary widely with tools and their ability to precompile libraries etc.  To make a VHDL primitive library work across most tools and be callable/instantiable from Verilog or VHDL, the library must include a VHDL file *_pkg.vhd containing component declarations for entities in the library.  Even if the library is Verilog source code, the *_pkg.vhd VHDL file with component declarations should be present if the Verilog modules in the library will be used from VHDL.  The package name in the file should normally be the same as the library’s name, but doesn’t have to me.  There can be multiple *-pkg.vhd files in each library if multiple packages are required. Finally, if the packages have package bodies in separate files, those files should be named ”*-body.vhd”.</p>
    <p class="Body" dir="ltr">When a VHDL worker is written to use a primitive in a library, it must include a line to access the library.  For a primitive library “foo”, and package named “bar”, the worker would contain the lines:</p>
    <p class="Code" dir="ltr">library foo; use foo.bar.all;</p>
    <h3 dir="ltr" id="toc105"><span class="SectionNumber">8.5.2 </span><a id="Toc245388462"></a><a id="RefHeading53921790153948"></a><a id="Toc224890107"></a>Building primitive cores from prebuilt/presynthesized files</h3>
    <p class="Standard" dir="ltr">Making a prebuilt/presynthesized core available for use by workers is similar to creating a primitive library from source, except that the make file contains the lines:</p>
    <p class="Code" dir="ltr">include $(OCPI_CDK_DIR)/include/hdl/hdl-core.mk</p>
    <p class="Standard" dir="ltr">The difference is that, in addition to source files that are just precompiled for use by workers, the core is also synthesized for specific targets and made available for building workers as a prebuilt/presynthesized core.  The files used to build the core can be a mix of source and prebuilt files.  Such a primitive may have no source code at all (except the black-box module definition), in this case the Makefile might look like this (in a directory called “mycore”):</p>
    <p class="Code" dir="ltr">PreBuiltCore=mycore.ngc # suppress building from source files<br />OnlyTargets=xcv6lx240t  # this core is only good for this part<br />include $(OCPI_CDK_DIR)/include/hdl/hdl-core.mk</p>
    <p class="Standard" dir="ltr">In this case the scripts simply expect the core file to already exist, with only the black-box file in source form: mycore_bb.v.</p>
    <h2 dir="ltr" id="toc106"><span class="SectionNumber">8.6 </span><a id="Toc245388463"></a><a id="RefHeading53941790153948"></a><a id="Toc224890108"></a>Building HDL assemblies into bitstreams/executables</h2>
    <p class="Body" dir="ltr">An HDL assembly is simply the subset of a heterogeneous OpenCPI application that will execute on one FPGA, and thus is the part of some OpenCPI applications that will ultimately be put into an FPGA bitstream.  This section describes how to define and build (synthesize) these modules and to ultimately turn them into bitstreams.  </p>
    <p class="Body" dir="ltr">This process is essentially <span style="font-style:italic">deploying the assembly onto the platform</span>.  More specifically, it is deploying the assembly onto a <span style="font-style:italic">platform configuration</span> that has been defined, prebuilt, and possibly preplaced/constrained in advance.  We call the result of this “deployment” a “container” – the outer module that contains the application as well as the platform support modules in the platform configuration.  Note that a platform configuration may be a simulation platform or a real platform.</p>
    <p class="Body" dir="ltr">Given that the platform configurations already exist, the steps taken to go from the assembly (described in XML) to a bitstream are:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Describe the assembly in XML</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Select the platform configuration that the assembly will be deployed on</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Specify how the assembly’s external ports connect to the platform (i.e. to an interconnect like PCIE for off-platform connections, or to local devices).  This is called “defining the container”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Run “make”, to generate the bitstream.</p>
      </li>
    </ol>
    <p class="Body" dir="ltr">The actual steps taken by the OpenCPI scripts and tools are:</p>
    <ol class="listlevel1Numbering1">
      <li>
        <p class="ListNumber2" dir="ltr">Generate the Verilog/VHDL code that structurally implements the assembly</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Build/synthesize the assembly module, that has some “external ports”.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Generate the Verilog/VHDL container code that structurally combines the assembly and the platform configuration, as well as any necessary adapters.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Build/synthesize the container code, incorporating the assembly and platform configuration.  This is the top level module.</p>
      </li>
      <li>
        <p class="ListNumber2" dir="ltr">Run the final tool steps to build the bitstream (map, place, route, etc.).</p>
      </li>
    </ol>
    <h3 dir="ltr" id="toc107"><span class="SectionNumber">8.6.1 </span><a id="Toc224890109"></a><a id="Toc245388464"></a><a id="RefHeading53961790153948"></a>The HdlAssembly XML file that describes the assembly</h3>
    <p class="Standard" dir="ltr">The assembly is described in an XML file containing an HdlAssembly top-level element, which contains <span style="font-style:italic;font-weight:bold">worker instances</span> and <span style="font-style:italic;font-weight:bold">connections </span>and <span style="font-style:italic;font-weight:bold">external ports </span>.  It is similar to the Application XML file that describes the whole OpenCPI heterogeneous application (as documented in the OpenCPI Application Guide).</p>
    <p class="Standard" dir="ltr">The worker instances (“instance” subelements of the HdlAssembly) simply reference HDL workers in a component library, and optionally assign names to each instance.  The “worker” attribute is the worker’s OWD name (without directory or model), and the optional “name” attribute is the instance name.  When not specified, instance names are either the same as the worker name (when there is only one instance in the assembly), or the worker name followed directly by a zero-based decimal ordinal (when there is more than one instance of the same worker).</p>
    <p class="Standard" dir="ltr">Connections among workers in the assembly use “connection” XML elements.  They define connections among worker data interfaces.  A trivial example would be:</p>
    <p class="Code" dir="ltr">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="generate"/&gt;<br />  &lt;Instance Worker="capture”/&gt;<br />  &lt;Connection&gt;<br />    &lt;port name=’out’ instance=’generate’/&gt;<br />    &lt;port name=’in’ instance=’capture’/&gt;<br />  &lt;/Connection&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">For convenience, internal connections between the output of one instance to the input of another, can simply be expressed using the “connect” attribute of the instance, indicating that the instance’s only output should be connected to the only input of other instance whose name is the value of the “connect” attribute.  Like this:</p>
    <p class="Code" dir="ltr">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="generate" connect=’capture’/&gt;<br />  &lt;Instance Worker="capture”/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">Furthermore, when this shortcut is used, you can in fact specify the “from” port using the “from” attribute, and the “to” port using the “to” attribute.  If these instance had multiple other input and output ports, you can also specify it this way:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="generate" connect=’capture’ from=’out’ to=’in’/&gt;<br />  &lt;Instance Worker="capture”/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">To specify external ports, the “external” element is used, which allows the name of the external port to be different from the worker port it is connected to:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="generate" connect=’process’ from=’out’ to=’in’/&gt;<br />  &lt;Instance Worker="process”/&gt;<br />  &lt;external name=’procout’ instance=’process’ port=’out’/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">But there is also a shortcut when the external port name is the same as the worker’s port name, by simply using the “external” attribute of the instance:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="generate" connect=’process’ from=’out’ to=’in’/&gt;<br />  &lt;Instance Worker="process” external=’out’/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">However, this is only usable for one port of the worker.  If the assembly is in fact a single worker where both “in” and “out” ports should be external, you would need:</p>
    <p class="Code" dir="ltr">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="process” external=’out’/&gt;<br />  &lt;external instance=’process’ port=’in’/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Standard" dir="ltr">Below is a diagram of a simple assembly, and the corresponding HdlAssembly XML file.  The application has a “switch” worker that accepts data either from its “in0” or “in1” interface, and sends the data to its “out” interface.  The “delay” worker sends data from “in” to “out” implementing a delay-line function that requires attaching memory to it.  The “split” worker takes data from its “in” interface and replicates it to both its “out0” interface as well as its “out1” interface.  The local application has 4 external ports (ADC, SWIN, SWOUT, DAC), as well as a requirement of attached memory (to satisfy the memory requirements of the “delay” worker).</p>
    <p class="Standard" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img008.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img008.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:500.52478px;height:224.0544px" /></p>
    <p class="Caption" dir="ltr">Figure 4: Example Local Application</p>
    <p class="Standard" dir="ltr">Given that these three workers are already in a component library, the XML description of the above is below.  Note that one of the workers (delay) in fact requires memory and thus would have a WMemI interface declared in its OWD, but this is not mentioned in the HdlAssembly below since no additional information needs to be provided: the container will provide memory to the worker.</p>
    <p class="Code" dir="ltr">&lt;HdlAssembly&gt;<br />  &lt;Instance Worker="switch" connect=”delay”/&gt;<br />  &lt;Instance Worker="delay" connect=”split”/&gt;<br />  &lt;Instance Worker="split"/&gt;<br />  &lt;External name=’adc’ instance="switch" port="in0"/&gt;<br />  &lt;External name=’swin’ instance="switch" port="in1"/&gt;<br />  &lt;External name=’dac’ instance="split" port="out0"/&gt;<br />  &lt;External name=’swout’ instance="split" port="out1"/&gt;<br />&lt;/HdlAssembly&gt;</p>
    <p class="Caption" dir="ltr">Figure 5: HdlAssembly for the example local application</p>
    <h3 dir="ltr" id="toc108"><span class="SectionNumber">8.6.2 </span><a id="Toc224890110"></a><a id="Toc245388465"></a><a id="RefHeading53981790153948"></a>The Makefile for building an assembly</h3>
    <p class="Standard" dir="ltr">Assemblies are built in their own directory, where the name of the assembly defaults from the name of the directory, and the contents of the assembly is described in the HdlAssembly XML file described above. The name of the XML file is simply the name of the assembly, with the “.xml” file extension.  In addition to this description file, the Makefile must indicate which component libraries should be used to find the workers mentioned in the HdlAssembly file.  A Makefile for the above application might be:</p>
    <p class="Code" dir="ltr">ComponentLibraries=/home/fred/project/components<br />include $(OCPI_DIR)/include/hdl/hdl-assembly.mk</p>
    <p class="Standard" dir="ltr">In this case the assembly will be based on the indicated component library, and the automatically generated assembly Verilog or VHDL module will be synthesized for all specified targets and platforms.  If the OnlyTargets=virtex5 was specified, the assembly would only be built for use on virtex5 parts.  Alternatively, the “HdlPlatforms” variable could be set to a particular platform (e.g. ml605), in which case the assembly would only be built for the family associated with that platform (virtex6).</p>
    <p class="Standard" dir="ltr">The component libraries indicated in the ComponentLibraries variable provide a pathname to the library.  If there are no slashes in the name of a component library it is assumed to be in the OpenCPI CDK.  The standard libraries in the CDK are always included (last): “components” and “devices”.  All component libraries must have unique base names.  E.g., since the builtin libraries are called “components” and “devices”, you cannot have private libraries with those same names, regardless of their location.</p>
    <p class="Standard" dir="ltr">The assemblies in the OpenCPI tree are built in the hdl/assemblies subdirectory of the OpenCPI source tree, but it could be anywhere as long as the OCPI_CDK_DIR variable is set. </p>
    <p class="Standard" dir="ltr">When you have a directory full of assemblies like this (a “library of assemblies”), the top level Makefile can simply be:</p>
    <p class="Code" dir="ltr">Assemblies=assy1 assy2<br />include $(OCPI_DIR)/include/hdl/hdl-assemblies.mk</p>
    <p class="Standard" dir="ltr">This would build the listed assemblies.  The HdlPlatforms variable could be set here also.</p>
    <ol class="listlevel1WWNum33">
      <li>
        <p class="ListNumber2" dir="ltr"><a id="Toc224890111"></a><a id="Toc245388466"></a><a id="RefHeading54001790153948"></a>Specifying the container that deploys the application on the platform.</p>
      </li>
    </ol>
    <p class="Standard" dir="ltr">The container is the top-level module and deploys the assembly onto the platform.  Separating the “assembly” from the “container” in this way keeps the assembly portable and hardware-independent.  It doesn’t know what it’s input and outputs are connected to, and it would easily be run in a simulation testbench with no hardware.</p>
    <p class="Standard" dir="ltr">In an assembly’s directory, containers are specified in two ways.  The first, is “default containers”.  Default containers are generated by looking at the assembly, and connecting all the external ports to the platform’s interconnect (e.g. PCIE).  Thus the “default” container specification is to connect every external port of the assembly such that it connects external to the platform, to connect to workers running on containers on other platforms. [Note that external connections like this are currently not supported in simulation platforms].</p>
    <p class="Standard" dir="ltr">The “DefaultContainers” variable is used to list platform configurations for which default containers (and thus bitstreams) should be automatically generated for this assembly.  The format of the items in this list is &lt;platform&gt; or &lt;platform&gt;/&lt;configuration&gt;.  If this variable is defined as empty:</p>
    <p class="Code" dir="ltr">DefaultContainers=</p>
    <p class="Standard" dir="ltr">Then there are no DefaultContainers for this assembly at all.   If the DefaultContainers variable is not set at all (not mentioned in the assembly’s Makefile), then default containers (and bitstreams) will be generated for whatever platform the assembly is built for.  In this case the platform configuration is assumed to be the “base” platform configuration for the platform (the one with no device workers at all).</p>
    <p class="Standard" dir="ltr">So, if nothing is said at all about containers in the Makefile, default container bitstreams will be built for whatever platforms are mentioned in “HdlPlatforms”.  In many cases this simple  default case is all that is required (no container variables at all).</p>
    <p class="Standard" dir="ltr">Default containers cannot be used to connect the external ports of the assembly to something <span style="font-style:italic">other than</span> the single system interconnect of the platform.  I.e. if there are multiple interconnects (say PCIE and Ethernet), or if connections to local devices are required, then a container must be specified in an XML file.  The “Containers” variable specifies a list of containers (container xml files) that should be built in addition to those indicated by the “DefaultContainers” variable (or absence thereof).  The “Containers” variable does not suppress the building of the default containers.  If you want that, you should specify an empty “DefaultContainers” variable.</p>
    <p class="Standard" dir="ltr">An example Makefile that relies only on the CDK component library and builds default containers for whatever platform is specified is:</p>
    <p class="Code" dir="ltr">include $(OCPI_DIR)/include/hdl/hdl-assembly.mk</p>
    <p class="Standard" dir="ltr">A Makefile that builds a default container on the ml605 base platform and the “lime_adc” configuration of the “alst4” platform, and further generates a specific container called “in_2_adc” for connecting some external port to the ADC device on that latter platform configuration might look like:</p>
    <p class="Code" dir="ltr">DefaultContainers=ml605 alst4/lime_adc<br />Containers=in_2_adc<br />include $(OCPI_DIR)/include/hdl/hdl-assembly.mk</p>
    <h3 dir="ltr" id="toc109"><span class="SectionNumber">8.6.3 </span><a id="Toc245388467"></a><a id="RefHeading54021790153948"></a>Specifying a container in an XML file</h3>
    <p class="Standard" dir="ltr">A container XML file is required to connect to multiple interconnects (or not the first one) or to local devices.</p>
    <p class="Standard" dir="ltr">The top-level element of the container XML file is the &lt;HdlContainer&gt; element.  Its primary attribute is the “platform” attribute to specify the platform configuration that should be targeted by the container.  It is of the form &lt;platform&gt; or &lt;platform&gt;/&lt;configuration&gt;.  Beyond specifying the platform configuration in the “platform” attribute, the subelements of the &lt; HdlContainer&gt; top-level element are special connection elements for containers.</p>
    <p class="Standard" dir="ltr">They are “&lt;connection&gt;” elements with these attributes:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">external: specify an external port on the assembly</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">device: specify a device on the platform</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">interconnect: specify an interconnect on the platform</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">port: when a device has more than one data port, specify it</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">Using these attributes you can specify these connections:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">external to interconnect</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">external to the only port of a device</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">external to a specific port of a device</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">a device port to an interconnect (bypassing the assembly altogether) [not yet supported]</p>
      </li>
    </ul>
    <p class="Standard" dir="ltr">So, in a case where the “in” of the assembly connects to a locally attached “adc” device, but the “out” of the assembly is attached to the interconnect for communicating to other FPGA or software containers, you would have:</p>
    <p class="Code" dir="ltr">&lt;HdlContainer platform=’alst4/alst4_conf1’&gt;<br />   &lt;connection external=’in’ device=’adc’/&gt;<br />   &lt;connection external=’out’ interconnect=’pcie’/&gt;<br />&lt;/HdlContainer&gt;</p>
    <p class="Standard" dir="ltr">The connection to the “adc” device might be resolved in the platform configuration (if the “adc” device was already included in the “alst4_conf1” configuration of the “alst4” platform.  If not, then the “adc” device logic would be instantiated in the container itself.</p>
    <h3 dir="ltr" id="toc110"><span class="SectionNumber">8.6.4 </span><a id="Toc245388468"></a><a id="RefHeading54041790153948"></a>Service connections in a container</h3>
    <p class="Standard" dir="ltr">OpenCPI HDL workers have three types of ports:  control, data, and service.  Service ports are connected locally in the container to provide the required services to workers.  Service ports are implementation-specific for a given worker and thus not found in “spec” files.  I.e., the worker declares what services it needs for its particular implementation.  The services currently defined are memory and time (time of day).</p>
    <p class="Standard" dir="ltr">If workers in the assembly have service ports, they automatically become external ports of the assembly. When generating a container, all services required by the assembly, as well as any services required by device workers instanced in the assembly, must be satisfied by instancing the appropriate modules in the generated container code.</p>
    <p class="Standard" dir="ltr">Time service requirements are satisfied by 1) instancing a “time client” module for each worker that needs “time of day”, and 2) connecting that “time client” to the timekeeping infrastructure on the platform.  Each time client is instanced based on requirements of the associated worker’s time port. These requirements are precision (number of bits in the “seconds” and ”fraction of a second” fields) and whether the worker can tolerate time-of-day becoming available after it starts running, or whether it simply assumes it is always available.</p>
    <p class="Standard" dir="ltr">Memory service requirements [which are currently not automated as of this writing], are satisfied by instancing either private BRAM modules (private to the worker), or instancing external memory access interfaces, connected to device workers for external memory.  Memory access may also be multiplexed to support multiple workers sharing the same memory.  Note that such memory services are unrelated to buffering used to connect workers together or connect them to devices and interconnects.</p>
    <p class="Diagram" dir="ltr"><img alt="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img009.png" id="nullgraphic" src="OpenCPI_ComponentDevelopment-img/OpenCPI_ComponentDevelopment-img009.png" style="padding-top:4.7232003px;padding-bottom:4.7232003px;padding-left:9.446401px;padding-right:9.446401px;width:602.9567px;height:353.3088px" /></p>
    <p class="Caption" dir="ltr">Figure 6: OpenCPI HDL Assembly on Container and Platform</p>
    <h3 dir="ltr" id="toc111"><span class="SectionNumber">8.6.5 </span><a id="Toc224890112"></a><a id="Toc245388469"></a><a id="RefHeading54061790153948"></a>Preparing the OpenCPI runtime metadata for the bitstream</h3>
    <p class="Standard" dir="ltr">When OpenCPI runs an application that includes HDL workers and thus includes an HDL assembly bitstream, it requires a small runtime metadata file that tells it what the bitstream contains (which workers and how they are connected, etc.).  This file is automatically generated as part of the same process that builds the bitstream, and is attached to the bitstream file after it is created by the FPGA back-end place-and-route tools.  This file is also compressed and placed in a BRAM on chip.  Thus software can discover the contents of a bitstream either by looking at the file to be loaded, or, looking at the file inside the loaded bitstream at runtime.  This allows the control software to know what a bitstream can offer before it is loaded, and also know what the currently loaded bitstream can offer, without having access to the file that loaded it.</p>
    <p class="Body" dir="ltr">This runtime XML is generated whenever a bitstream is generated, and placed in a BRAM (compressed) and attached to the file (uncompressed).</p>
    <p class="Body" dir="ltr">The bitstreams are in fact compressed, thus the resulting “.xxx.gz” file has the metadata attached to the file (after the file is compressed, but with the XML not compressed).  This compressed bitstream file, with uncompressed metadata attached, is what is provided as the “binary artifact” for HDL assemblies, as installed in an OpenCPI runtime component library as referenced by the OCPI_LIBRARY_PATH environment variable.  It is the format expected by the internal mechanisms to load bitstreams onto platforms at runtime.</p>
    <h2 dir="ltr" id="toc112"><span class="SectionNumber">8.7 </span><a id="Toc224890113"></a><a id="Toc245388470"></a><a id="RefHeading54081790153948"></a>HDL device naming</h2>
    <p class="Body" dir="ltr">HDL devices that can support OpenCPI containers have unique names within an OpenCPI system context.  Each name starts with a prefix indicating how the device is discovered and controlled by OpenCPI software. Note that “device” in this context is an instance of an HDL platform in an OpenCPI system, rather than a device inside of an HDL platform attached to the FPGA chip.</p>
    <p class="Body" dir="ltr">The mechanisms currently supported are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">PCI</span><br />FPGA devices/boards accessible by PCI express</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">Ether</span><br />FPGA devices accessible via link-layer Ethernet</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">Sim</span><br />FPGA devices that accessible via UDP that are in fact simulation servers (see “simulation devices” below)</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">UDP</span><br />FPGA devices that are accessible via IP/UDP</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">PL</span><br />FPGA device in a Zynq SoC accessible via the on-chip AXI interconnect.</p>
    <p class="Body" dir="ltr">The full device name is of the form:</p>
    <p class="Code" dir="ltr">&lt;control-scheme&gt;:&lt;address-for-control-scheme&gt;</p>
    <p class="Body" dir="ltr">As a convenience, if there is no known prefix in the name, then if there are 5 colons in the device name, it is assumed to be an <span style="font-weight:bold">Ether</span> device name, otherwise it is assumed to be a <span style="font-weight:bold">PCI</span> device name.</p>
    <h3 dir="ltr" id="toc113"><span class="SectionNumber">8.7.1 </span><a id="Toc224890114"></a><a id="Toc245388471"></a><a id="RefHeading54101790153948"></a>PCI-based HDL devices</h3>
    <p class="Body" dir="ltr">HDL devices on the PCI express bus/fabric are identified by the syntax common to many PCI utilities such as “lspci” on Linux, namely:</p>
    <p class="Code" dir="ltr">&lt;domain&gt;:&lt;bus&gt;:&lt;slot&gt;.&lt;function&gt;</p>
    <p class="Body" dir="ltr">An example is:</p>
    <p class="Code" dir="ltr">0000:05:00:0</p>
    <p class="Body" dir="ltr">Since it is common to have “domain”, “slot”, and “function” all being zero, if the address field in the device is simply a number with no colons, it is assumed to be the bus number with the other fields being zero.  Thus “pci:5” implies “pci:0000:05:00.0”.  Since an identifier with no prefix and not having 5 colons is assumed to be a PCI device, the identifier “4”, is assumed to be “pci:0000:04:00.0”.</p>
    <p class="Body" dir="ltr">A common example of a PCI device is the Xilinx ML605 development board.  Another is the Altera Stratix4 development board (called alst4 in OpenCPI).</p>
    <h3 dir="ltr" id="toc114"><span class="SectionNumber">8.7.2 </span><a id="Toc224890115"></a><a id="Toc245388472"></a><a id="RefHeading54121790153948"></a>Ethernet-based HDL devices</h3>
    <p class="Standard" dir="ltr">HDL devices that are attached to Ethernet and operate at the link (or MAC) layer (OSI layer 2) use the “ether” prefix.  This prefix implies access without using any routing or transport protocols such as IP/UDP or IP/UDP.  It is the fastest and lowest latency way to use a network, with the drawback that it cannot be “routed” through IP routers, but can only be “switched” by L2 Ethernet bridged and switches.  The syntax for naming such devices is:</p>
    <p class="Code" dir="ltr">Ether:[&lt;interface&gt;/]&lt;mac-address&gt;</p>
    <p class="Body" dir="ltr">The MAC-address is the typical 6 hexadecimal bytes separated by colons, such as:</p>
    <p class="Code" dir="ltr">c8:2a:14:28:61:86</p>
    <p class="Body" dir="ltr">The optional &lt;interface&gt; value is the name of a network interface on the computer accessing the device.  Typical examples are “en0” or “eth0”.  It is optional when there is only one such device. On systems with multiple interfaces it indicates which one should be used to reach the device. This is needed since there is no routing at this level of the network stack: you much use the right network interface to reach the addressed device.</p>
    <p class="Body" dir="ltr">The available network interfaces can usually be identified by the “ifconfig” linux command.  There is a more special purpose command of the <span style="font-style:italic;font-weight:bold">ocpihdl</span> utility described below that lists only the network interfaces available and usable for OpenCPI (the “ethers” command to <span style="font-style:italic;font-weight:bold">ocpihdl</span>).</p>
    <h3 dir="ltr" id="toc115"><span class="SectionNumber">8.7.3 </span><a id="Toc224890116"></a><a id="Toc245388473"></a><a id="RefHeading54141790153948"></a>Simulator device naming</h3>
    <p class="Body" dir="ltr">OpenCPI runs HDL simulators in a “server” that makes them look like any other device to software.  When they are available (the server is running), they are discoverable like any other device.  They are accessed using the IP/UDP network protocol, and thus use IP addresses.  They are named according to this syntax:</p>
    <p class="Code" dir="ltr">Sim:&lt;IP-address&gt;:&lt;IP-port&gt;</p>
    <p class="Body" dir="ltr">The IP-Address is the typical “dotted” notation (e.g. “10.0.1.100”), and the IP port is a decimal number less than 65536.</p>
    <h2 dir="ltr" id="toc116"><span class="SectionNumber">8.8 </span><a id="Toc224890117"></a><a id="Toc245388474"></a><a id="RefHeading54161790153948"></a>The ocpihdl command-line utility for HDL development</h2>
    <p class="Body" dir="ltr">The <span style="font-style:italic;font-weight:bold">ocpihdl</span> utility program performs a variety of useful functions for OpenCPI HDL development.  These include:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Searching for available FPGA devices (via PCI, Ethernet, UDP, etc.)</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Testing the existence of a specific FPGA device</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Reading and writing specific registers in an FPGA device</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Running a simulator server that executes simulators acting as FPGA devices</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Loading bitstreams on a device</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Extracting the XML metadata from a running device</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">The general syntax of ocpihdl is:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">ocpihdl [&lt;options&gt;] &lt;command&gt; [&lt;options&gt;] [&lt;command arguments&gt;]</p>
    <p class="Body" dir="ltr">Options are the typical hyphen-letter options, some with arguments after the hypen-letter argument.  The following sections describe each command and its associated options and arguments.  Here are the options that apply to many commands:</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-v</span>	be verbose – put progress messages on standard output</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-d  &lt;device&gt;</span><br />specify the HDL device for the command.  See “HDL device naming” above.</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-p &lt;platform&gt;</span><br />specify the HDL platform type (e.g. ml605) for the command</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-l &lt;log-level&gt;<br /></span>specify the OpenCPI logging level that should apply during execution</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-P	</span>produce “parseable” output for some commands that read registers</p>
    <p class="IndentHang" dir="ltr"><span style="font-weight:bold">-i &lt;network-interface&gt;<br /></span>the network interface (e.g. “en0”) to use for the comment</p>
    <p class="Body" dir="ltr">The commands provided by the <span style="font-style:italic;font-weight:bold">ocpihdl</span> utility are summarized in the following table.</p>
    <table cellspacing="0" dir="ltr" id="Table13table" style="margin-top:9.6px;margin-bottom:0;margin-left:auto;margin-right:auto;width:624.0px;border-collapse:separate;border-spacing:0;table-layout:fixed">
      <thead>
        <tr>
          <td style="border-top:1.3333334px solid #000000;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableHeading" dir="ltr">Name</p>
          </td>
          <td style="border-top:1.3333334px solid #000000;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableHeading" dir="ltr">Device</p>
          </td>
          <td style="border-top:1.3333334px solid #000000;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableHeading" dir="ltr">Worker</p>
          </td>
          <td style="border-top:1.3333334px solid #000000;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p class="TableHeading" dir="ltr">Interface</p>
          </td>
          <td style="border:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableHeading" dir="ltr">Description</p>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">admin</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Dump HDL device admin information</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">bram</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Create BRAM file from input (XML) file</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">deltatime</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Measure round-trip time for time synchronization</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">dump</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">emulate</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Emulate a UDP or Ethernet device (admin space)</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">ethers</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">List available, up, and connected Ethernet interfaces</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">probe</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">See if a specific device exists and responds</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">load</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Load a bitstream onto the device</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">getxml</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Extract XML metadata from running device</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">radmin</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Read specific addresses in HDL device admin space</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">reset</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Reset device (via control plane access)</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">rmeta</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Read metadata space from device</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">search</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">List all discovered and responding HDL devices</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">settime</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Set the device’s GPS time to the system time</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">simulate</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Run a simulator server </p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">unbram</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Create an XML file from a BRAM file</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">wadmin</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Write admin space</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">wclear</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Clear worker status errors</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">wdump</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Dump/print worker control/status registers (not properties)</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">wop</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Perform control operation on worker (e.g. start)</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">wread</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Read worker configuration property space</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">wreset</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Assert reset for worker</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">wunreset</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">De-assert reset for worker</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">wwctl</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Write worker control registers</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:71.92533px">
            <p class="TableContents" dir="ltr">wwpage</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:54.46293px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #4f81bd;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:66.12693px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:1.3333334px solid #4f81bd;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Write worker page register (to reach full 32 bit space)</p>
          </td>
        </tr>
        <tr>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:73.25867px">
            <p class="TableContents" dir="ltr">wwrite</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:55.796265px">
            <p class="TableContents" dir="ltr">✔</p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:none;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:67.460266px">
            <p style="margin:0;font-size:1px"> </p>
          </td>
          <td style="border-top:none;border-bottom:1.3333334px solid #000000;border-left:1.3333334px solid #000000;border-right:1.3333334px solid #000000;padding-top:0;padding-bottom:0;padding-left:7.8048px;padding-right:7.2000003px;background-color:transparent;vertical-align:top;width:288.66452px">
            <p class="TableContents" dir="ltr">Write worker configuration property space</p>
          </td>
        </tr>
      </tbody>
    </table>
    <p class="Caption" dir="ltr">Table 1:  The ocpihdl Commands</p>
    <h3 dir="ltr" id="toc117"><span class="SectionNumber">8.8.1 </span><a id="Toc224890118"></a><a id="Toc245388475"></a><a id="RefHeading54181790153948"></a><span style="font-weight:bold">admin</span> command – Print the device’s administrative information</h3>
    <p class="Body" dir="ltr">This command is used to dump all the information and state in the devices “admin” space, which is the information for the device and bitstream as a whole.  This information is specified in the OpenCPI HDL Infrastructure Specification document.   A device flag must be specified.  There are no command arguments.</p>
    <h3 dir="ltr" id="toc118"><span class="SectionNumber">8.8.2 </span><a id="Toc224890119"></a><a id="Toc245388476"></a><a id="RefHeading54201790153948"></a><span style="font-weight:bold">bram</span> command – Create a configuration BRAM file from an XML file</h3>
    <p class="Body" dir="ltr">This command converts an XML file that is expected to contain the “artifact description XML” into a format that will be processed into a read-only BRAM inside the FPGA bitstream.  This allows software to know what is inside a bitstream by only looking at the device, without needing a separate bitstream file.  This command is used by the scripts that create bitstreams.  The output format is an ASCII format that the tools can use to initialize memories.  The two command arguments are &lt;input-file&gt; and &lt;output-file&gt;, e.g.:</p>
    <p class="Code" dir="ltr">ocpihdl bram my.xml mybram.bin</p>
    <h3 dir="ltr" id="toc119"><span class="SectionNumber">8.8.3 </span><a id="Toc224890120"></a><a id="Toc245388477"></a><a id="RefHeading54221790153948"></a><span style="font-weight:bold">deltatime</span> command – Perform time synchronization test on device.</h3>
    <p class="Body" dir="ltr">This command, which requires a device option, uses special time-difference hardware in the OpenCPI FPGA bitstream to measure the round-trip time for accessing the FPGA in order to reduce the time-skew between the system time-of-day and the FPGAs time-of-day.  It takes 100 samples, averages them, eliminates 10% outliers, and then retests the time-skew after applying the correction.</p>
    <h3 dir="ltr" id="toc120"><span class="SectionNumber">8.8.4 </span><a id="Toc224890121"></a><a id="Toc245388478"></a><a id="RefHeading54241790153948"></a><span style="font-weight:bold">dump</span> command – unimplemented</h3>
    <p class="Body" dir="ltr">This command, which requires a device option, uses the configuration BRAM to dump the state of all workers and their properties.</p>
    <h3 dir="ltr" id="toc121"><span class="SectionNumber">8.8.5 </span><a id="Toc224890122"></a><a id="Toc245388479"></a><a id="RefHeading54261790153948"></a><span style="font-weight:bold">emulate</span> command – emulate a network-based device (admin space only)</h3>
    <p class="Body" dir="ltr">This command acts as an Ethernet or UDP-based HDL device and responds to discovery and admin-space accesses.  It is used to test software controls and network connectivity.  It can optionally be supplied with a network interface option (<span style="font-weight:bold">-i</span>) to specify on which network interface should the emulated device appear.  With no network interface specified, it uses the first available that it finds (that is “up” and “connected”).  A special case is the network interface whose name is “udp”, which means the command emulates an OpenCPI HDL device attached to the IP subnet of the host computer implementing discovery and control via UDP, e.g.:</p>
    <p class="Code" dir="ltr">ocpihdl -i udp emulate</p>
    <h3 dir="ltr" id="toc122"><span class="SectionNumber">8.8.6 </span><a id="Toc224890123"></a><a id="Toc245388480"></a><a id="RefHeading54281790153948"></a><span style="font-weight:bold">ethers</span> command – display available (up and connected) network interfaces</h3>
    <p class="Body" dir="ltr">This command is used to list all the available Ethernet network interfaces on the system and whether they are “up” and “connected”.  It also shows what the “default” interface is (the first listed that is up and connected), for commands that could take an interface (<span style="font-weight:bold">-i</span>) option.</p>
    <h3 dir="ltr" id="toc123"><span class="SectionNumber">8.8.7 </span><a id="Toc224890124"></a><a id="Toc245388481"></a><a id="RefHeading54301790153948"></a><span style="font-weight:bold">probe</span> command – test existence and availability of device</h3>
    <p class="Body" dir="ltr">The probe command takes a device (as option or argument) and tries to contact it and see if it is responding.  This should work whether it is running an application or not.</p>
    <h3 dir="ltr" id="toc124"><span class="SectionNumber">8.8.8 </span><a id="Toc224890125"></a><a id="Toc245388482"></a><a id="RefHeading54321790153948"></a><span style="font-weight:bold">load</span> command – load bitstream</h3>
    <p class="Body" dir="ltr">The load command takes a device (as option or argument) and a bitstream file name argument and loads the bitstream onto the device.</p>
    <h3 dir="ltr" id="toc125"><span class="SectionNumber">8.8.9 </span><a id="Toc245388483"></a><a id="RefHeading54341790153948"></a><span style="font-weight:bold">getxml</span> command – retrieve XML metadata from device</h3>
    <p class="Body" dir="ltr">The getxml command takes a device (as option or argument) and a filename to write the XML data to.  It retrieves and uncompresses the XML data stored in the running device and writes it to a file.</p>
    <h3 dir="ltr" id="toc126"><span class="SectionNumber">8.8.10 </span><a id="Toc245388484"></a><a id="RefHeading54361790153948"></a><span style="font-weight:bold">radmin</span> command – read a specific address in device’s admin space</h3>
    <p class="Body" dir="ltr">This command reads an individual word of data from the admin space of the specified device.  The command argument is the hexidecimal (starting with 0x) or decimal offset in the admin space.  If the offset ends in “/n” where n is 4 or 8, then that specifies the size of the access in bytes.  If there is no “/n”, then the access is a 32 bit access.</p>
    <p class="Body" dir="ltr">If the parseable option (-P) is specified the output is just the value returned in hexadecimal format.  Otherwise a prettier message with the offset and value is printed. An example that does a 2 byte read of offset 12 would be:</p>
    <p class="Code" dir="ltr">ocpihdl –d pci:5 radmin 12/2</p>
    <p class="Body" dir="ltr">The layout of the admin space is defined in the OpenCPI HDL Infrastructure document.</p>
    <h3 dir="ltr" id="toc127"><span class="SectionNumber">8.8.11 </span><a id="Toc224890126"></a><a id="Toc245388485"></a><a id="RefHeading54381790153948"></a><span style="font-weight:bold">reset</span> command – perform soft reset on device</h3>
    <p class="Body" dir="ltr">This reset command resets the device in a way that does not affect the control path to the device.  For example on a PCI-based device, it would not damage or reconfigure the PCI express interface.  All application workers and most other (infrastructure) workers are placed in reset and need to be specifically taken out of reset. [unimplemented].</p>
    <h3 dir="ltr" id="toc128"><span class="SectionNumber">8.8.12 </span><a id="Toc224890127"></a><a id="Toc245388486"></a><a id="RefHeading54401790153948"></a><span style="font-weight:bold">rmeta</span> command – read specific addresses in the metadata space of the device</h3>
    <p class="Body" dir="ltr">This command works exactly like the <span style="font-weight:bold">radmin</span> command except it reads the configuration BRAM space rather than the admin space.</p>
    <h3 dir="ltr" id="toc129"><span class="SectionNumber">8.8.13 </span><a id="Toc224890128"></a><a id="Toc245388487"></a><a id="RefHeading54421790153948"></a><span style="font-weight:bold">search</span> command – search for all available HDL devices</h3>
    <p class="Body" dir="ltr">This command searches for all reachable HDL devices and reports what it finds.  It uses all the supported control paths (PCI, Ether, UDP/Sim).  If an interface <span style="font-weight:bold">(-i</span>) option is specified it limits the Ether search to that one interface.</p>
    <h3 dir="ltr" id="toc130"><span class="SectionNumber">8.8.14 </span><a id="Toc224890129"></a><a id="Toc245388488"></a><a id="RefHeading54441790153948"></a><span style="font-weight:bold">settime</span> command – set device’s time from system time</h3>
    <p class="Body" dir="ltr">This command sets the time on the device from the current system time.  It requires a device to be specified.  The current time of the device is shown in the output of the <span style="font-weight:bold">admin</span> command.</p>
    <h3 dir="ltr" id="toc131"><span class="SectionNumber">8.8.15 </span><a id="Toc224890130"></a><a id="Toc245388489"></a><a id="RefHeading54461790153948"></a><span style="font-weight:bold">simulate</span> command – run a simulation server for a specific simulator “platform”</h3>
    <p class="Body" dir="ltr">This command creates a simulated HDL device that is discoverable (by the “ocpihdl search” command, by the “ocpirun” utility, and via the Application Control Interface (ACI) C++ API).  It is thus an available HDL device for running assemblies of workers for such a device, compiled into “bitstreams”.  When “ocpihdl simulate” is running, the device is ready to “load and run a bitstream”, where the “bitstream built for the device” is in fact a “simulation executable” for running under a particular FPGA simulator (such as Modelsim or Isim).</p>
    <p class="Body" dir="ltr">This command initially emulates the device (similar to the “emulate” command, except as a “sim” type device) and is thus discoverable before loading any particular simulator executable. The platform option (-p) is required to specify which type of simulator should the simulated device use as its “platform”.  The current choices are isim (Xilinx ISE), xsim (Xilinx Vivado), and modelsim (Mentor). [xsim currently non-functional due to limitations reported to Xilinx].</p>
    <p class="Body" dir="ltr">When some OpenCPI application (e.g. executed using the <span style="font-style:italic;font-weight:bold">ocpirun</span> utility command) decides to run an assembly of workers on this simulator-based device (as it would with any other discovered and available HDL device/FPGA), it would request that the bitstream (executable) be “loaded” and “started” on this device.  This would cause this simulated HDL device to run the actual simulator (e.g. modelsim) with that executable.  If the application was re-run, it would notice that the “bitstream” was already loaded and continue to use it, which would in fact re-use the device in the same simulation run.</p>
    <p class="Body" dir="ltr">If the simulated device is currently running when requested to “load a new bitstream”, it shuts down the simulator, preserving its results, and starts a new one with the newly requested bitstream, in a newly created subdirectory.</p>
    <p class="Body" dir="ltr">Each time a simulator is actually run under this “server”, it will execute in a new subdirectory created for that simulation run, with the name:</p>
    <p class="Standard" dir="ltr">&lt;assembly-name&gt;.&lt;sim-platform&gt;.&lt;date-time&gt;</p>
    <p class="Body" dir="ltr">Thus running the “ocpihdl simulate” command in a directory will result in one or more subdirectories holding simulation results for each simulation run.  If this simulated device is never asked to “load and run” a bitstream, no subdirectories will be created, even though the device will still be discoverable while this command is running.</p>
    <p class="Body" dir="ltr">The simulation run starts with the first successful “load and run” of a bitstream.  Each simulation will continue until one of the following occurs:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">The code being simulated explicitly asks for the simulation to terminate via the $finish system task in Verilog or an assertion in VHDL.[check VHDL details].</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The simulation run exceeds the control-plane clock cycle count provided by the ‘-T’ option to “ocpihdl simulate”</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">This command receives a control-C.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">The simulated device is asked to load and run a new bitstream.</p>
      </li>
    </ul>
    <p class="Body" dir="ltr">The results of any simulation run can be viewed by opening the file that records the execution with the viewer associated with the simulator being used.  For Xilinx “isim”, the command (in the subdirectory for the simulation run) would be:</p>
    <p class="Code" dir="ltr">isimgui –view sim.wdb</p>
    <p class="Body" dir="ltr">For modesim, it would be:</p>
    <p class="Code" dir="ltr">vsim [fix this]</p>
    <p class="Body" dir="ltr">A separate command utility, “ocpiview” is used to conveniently view the results of simulation.  If run in the same directory as “<span class="Code">ocpihdl simulate</span>”, it finds the most recently created simulation subdirectory, and runs the appropriate viewer based on which simulator was used.  It can be given an optional argument specifying the directory name of the simulation to view.  Thus a typical sequence is to run</p>
    <p class="Code" dir="ltr"><span class="Code">ocpihdl simulate</span></p>
    <p class="Body" dir="ltr">and after that completes (based on control-C or other action), run</p>
    <p class="Code" dir="ltr">ocpiview</p>
    <p class="Body" dir="ltr">to look at the results.</p>
    <h3 dir="ltr" id="toc132"><span class="SectionNumber">8.8.16 </span><a id="Toc224890131"></a><a id="Toc245388490"></a><a id="RefHeading54481790153948"></a><span style="font-weight:bold">unbram</span> command – create an XML file from a config BRAM file</h3>
    <p class="Body" dir="ltr">This command reverses the function of the <span style="font-style:italic;font-weight:bold">bram</span> command, by converting a file formatted for initializing (during build) the configuration bram in a bistream back to the original XML file. The two command arguments are &lt;input-file&gt; and &lt;output-file&gt;, e.g.:</p>
    <p class="Code" dir="ltr">ocpihdl unbram mybram.bin my.xml</p>
    <h3 dir="ltr" id="toc133"><span class="SectionNumber">8.8.17 </span><a id="Toc224890132"></a><a id="Toc245388491"></a><a id="RefHeading54501790153948"></a>wadmin command – write specific addresses in the device’s admin space</h3>
    <p class="Body" dir="ltr">This debug command writes a 4-byte/32-bit or 8-byte/64-bit value in the device’s admin space at the specified offset.  The size in bytes (4 or 8) is optionally specified in the first argument with a slash.  The default size is 4.  The syntax is:</p>
    <p class="Code" dir="ltr" style="font-size:14.666667px">ocpihdl wadmin –d &lt;hdl-device&gt; &lt;offset&gt;[/&lt;size-in-bytes&gt; &lt;value&gt;</p>
    <p class="Body" dir="ltr">The value can be in hex (preceded by 0x) or decimal.  An example, to write an 8 byte value at offset 0x20 with the value 12345, would be</p>
    <p class="Code" dir="ltr">ocpihdl wadmin –d PCI:5 0x20/8 12345</p>
    <h3 dir="ltr" id="toc134"><span class="SectionNumber">8.8.18 </span><a id="Toc224890133"></a><a id="Toc245388492"></a><a id="RefHeading54521790153948"></a>Worker Commands:  commands that operating on individual workers</h3>
    <p class="Standard" dir="ltr">The following worker commands operate on either a single worker or a sequential range of workers.  They all require a device to be specified, and the first argument is either a single worker number or a set of worker numbers separated by commas.  Thus to perform a worker command on worker 5 would be:</p>
    <p class="Code" dir="ltr">ocpihdl w&lt;cmd&gt; -d pci:5 5 &lt;worker command args if any&gt;</p>
    <p class="Body" dir="ltr">To perform the command on workers 2, 5, and 6, would be:</p>
    <p class="Code" dir="ltr">ocpihdl w&lt;cmd&gt; -d pci:5 2,5,6 &lt;worker command args if any&gt;</p>
    <p class="Body" dir="ltr">The worker commands are:</p>
    <h4 dir="ltr" id="toc135"><span class="SectionNumber">8.8.18.1 </span>wclear command – clear a worker’s error registers</h4>
    <p class="Body" dir="ltr">Each worker has a set of control and status registers that are part of the control-plane infrastructure IP (not in the worker itself).  This command clears the error and attention bits in the worker’s status register. A worker’s status can be displayed by the “wdump” command.  An example for clearing error and attention status for worker 5 is:</p>
    <p class="Code" dir="ltr">ocpihdl wclear –d PCI:5 5</p>
    <h4 dir="ltr" id="toc136"><span class="SectionNumber">8.8.18.2 </span><a id="Toc224890134"></a>wdump command – dump a worker’s status registers (not properties)</h4>
    <p class="Body" dir="ltr">Each worker has a set of control and status registers that are part of the control-plane infrastructure IP (not in the worker itself).  This command displays the current status of the worker by dumping these registers.</p>
    <h4 dir="ltr" id="toc137"><span class="SectionNumber">8.8.18.3 </span><a id="Toc224890135"></a>wop command – perform a control operation on a worker</h4>
    <p class="Body" dir="ltr">This worker command executes a control operation for the worker, directly accessing the hardware that makes the control operation request of the worker.  Only the “start” operation is implemented on all HDL workers.  Any others may have unpredictable or erroneous results when requested on a worker that doesn’t implement them.  The available operations are:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">initialize</span> – after reset is deasserted (see wunreset), request worker initialize itself</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">start</span> – put the worker into an operational state, after stop or initialize</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">stop</span> – suspend operation of the worker</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">release</span> – return the worker to the “pre-initialized” state</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">test</span> – run the worker’s built-in test</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">before</span> – inform worker that a batch of property settings will happen</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr"><span style="font-weight:bold">after</span> – inform a worker that a batch of property reads has completed</p>
      </li>
    </ul>
    <h4 dir="ltr" id="toc138"><span class="SectionNumber">8.8.18.4 </span><a id="Toc224890136"></a>wread command – read a worker’s configuration property space</h4>
    <p class="Body" dir="ltr">This command reads a value from the worker’s property space.  The first argument is the offset in the worker’s property space (in bytes), with an optional size-in-bytes for the access (1, 2, 4 or 8), and the second (optional) argument is how many sequential accessed to make.  The default for the size is 4, and the default for the second argument is: 1.  E.g., to read 3 single bytes at offset 6 from worker 11 would be:</p>
    <p class="Code" dir="ltr">ocpihdl read –d 5 11 6/1 3</p>
    <p class="Body" dir="ltr">See the “wwpage” command for workers whose property space is larger than 1 MByte (2^20).</p>
    <h4 dir="ltr" id="toc139"><span class="SectionNumber">8.8.18.5 </span><a id="Toc224890137"></a>wreset command – assert reset for a worker</h4>
    <p class="Body" dir="ltr">This command asserts the control reset signal into the worker.  It stays asserted until the wunreset command is used.</p>
    <h4 dir="ltr" id="toc140"><span class="SectionNumber">8.8.18.6 </span><a id="Toc224890138"></a>wunreset command – deassert reset for a worker</h4>
    <p class="Body" dir="ltr">This command deasserts the control reset signal into the worker, after which the “wop initialize” command can be issued (or, it the worker does not implement the “initialize” command, the “wop start” command can be issued).</p>
    <h4 dir="ltr" id="toc141"><span class="SectionNumber">8.8.18.7 </span><a id="Toc224890139"></a>wwctl command – write a worker’s control register</h4>
    <p class="Body" dir="ltr">This command writes the worker’s control register, which is in the control plane infrastructure IP, not in the worker itself.  The argument is a 32 bit value.  The bit definitions are described in the “OpenCPI HDL Infrastructure” document.</p>
    <h4 dir="ltr" id="toc142"><span class="SectionNumber">8.8.18.8 </span><a id="Toc224890140"></a>wwpage command – write a worker’s window/page register</h4>
    <p class="Body" dir="ltr">A worker’s property space can be a full 32 bit space (4 GBytes), but to access more than the first 1MByte (2^20 bytes), a “window” register in the control-plane infrastructure must be set.  This command sets that register with the value in the first argument, which sets the high order 12 address bits (31:20) of the effective address when the <span style="font-weight:bold">wread</span> and <span style="font-weight:bold">wwrite</span> commands are issued.  The offset in those commands supplies bits (19:0) of the effective address.  Thus to read location 0x12345678 in worker 7 with a full 4GByte property space, two commands would be used:</p>
    <p class="Code" dir="ltr">ocpihdl wwpage –d pci:5 7 0x123<br />ocpihdl wread –d pci:5 7 0x45678</p>
    <h4 dir="ltr" id="toc143"><span class="SectionNumber">8.8.18.9 </span><a id="Toc224890141"></a>wwrite command – write a worker’s configuration property space</h4>
    <p class="Body" dir="ltr">This command writes a single value into a worker’s property space at an offset (and size) specified in the first argument and a value specified in the second argument.  The wwpage command applies to this command also, for workers with large property spaces.  Thus to write location 0x20 in worker 6 with the 64-bit value 0x123456789abc:</p>
    <p class="Code" dir="ltr">ocpihdl wwrite –d pci:5 6 0x20 0x123456789abc</p>
    <h2 dir="ltr" id="toc144"><span class="SectionNumber">8.9 </span><a id="RefHeading54541790153948"></a>HDL Platform and local Device development</h2>
    <p class="Standard" dir="ltr">Developing Platform Workers and Device Workers is described in a separate “Platform Development Guide” document.  It covers:</p>
    <ul class="listlevel1WWNum32">
      <li>
        <p class="ListBullet" dir="ltr">Platform workers</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Platform configurations</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Device Workers</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Slot types</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Slots on platforms.</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Cards for slots</p>
      </li>
      <li>
        <p class="ListBullet" dir="ltr">Constraints</p>
      </li>
    </ul>
    <h3 dir="ltr" id="toc145"><span class="SectionNumber">8.9.1 </span><a id="Toc224890143"></a><a id="Toc245388493"></a><a id="RefHeading54561790153948"></a>Utility programs used internally</h3>
    <p class="Body" dir="ltr">The following sections describe utility programs used internal to the various building scripts in OpenCPI.  They are generally not used directly.</p>
    <p class="Body" dir="ltr">This section is not complete or up to date as of this document version.</p>
    <h2 dir="ltr" id="toc146"><span class="SectionNumber">8.10 </span><a id="Toc224890144"></a><a id="Toc245388494"></a><a id="RefHeading54581790153948"></a>ocpigen: the OpenCPI tool for code and metadata generation</h2>
    <p class="Body" dir="ltr">The ocpigen tool is a command line tool for implementing certain parts of the OpenCPI component development process.  Normally a component developer never uses <span style="font-weight:bold">ocpigen</span> directly since it is used as needed by the make scripts used when libraries and components are created as described above.  Below is a diagram depicting how ocpigen takes the XML description files (defined in detail in the [AMR]) and generates various files to support the creating of workers (component implementations):</p>
    <p class="Diagram" dir="ltr"> </p>
    <p class="Caption" dir="ltr">Figure 8:  ocpigen Role in the Worker Development Process</p>
    <h3 dir="ltr" id="toc147"><span class="SectionNumber">8.10.1 </span><a id="Toc224890145"></a><a id="Toc245388495"></a><a id="RefHeading54601790153948"></a>Outputs from ocpigen</h3>
    <p class="Body" dir="ltr">During the component implementation process, <span style="font-style:italic">for all authoring models</span>, ocpigen takes as input the XML description files, and generates these outputs:</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Instantiation Header File:</span> this read-only file is what is required for instantiating the worker in a container (or sometimes in test harnesses).  It is required for some authoring models (e.g. HDL Verilog empty module or VHDL component) and not for others (e.g. RCC).  It is sometimes also used in compiling the implementation (e.g. HDL Verilog, but not VHDL).  It contains the definitions that containers require to instantiate the workers, and no more.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Implementation Header File:</span>  this read-only file is the basis for compiling the worker implementation source code, and has definitions beyond what is available from the Instantiation Header File, including various convenience definitions generated from the XML description files.  It is required for compiling the worker, is not expected to be modified by the implementer, and contains as much many conveniently generated definitions as possible to minimize redundant and error prone efforts in the source code.  Whenever possible, definitions, declarations, macros, etc. are defined here to minimize the lines of code in the Implementation Skeleton file (below), since that is edited by hand and any definitions are subject to hand editing mistakes and merge issues.</p>
    <p class="IndentHang" dir="ltr"><span style="font-style:italic;font-weight:bold">Implementation Skeleton File:</span>  this generated file is expected to be edited and contains a “skeleton” of the implementation, based on the XML description files.  It is compilable as ist, and is generally “functional” in most authoring models, meaning that it can be compiled and included in real applications, but will not do anything interesting or useful.  This is generally helpful to test the integration into applications before the implementation skeleton is “fleshed out” with real functional code (a.k.a. “business logic”).</p>
    <p class="Standard" dir="ltr">The <span style="font-weight:bold">ocpigen</span> tool, for each authoring model, tries to put as much code into the implementation header file as possible since it is read-only and thus can be easily overwritten/regenerated by the tool.  This minimizes the problems and challenges associated with changes in the XML description files (like adding a configuration property to an OCS), since the regenerated code will usually not invalidate the skeleton file (which has been edited by hand).  In such cases any changes in the generated skeleton code (which are rare), can easily be compared against previously skeletons.</p>
    <h3 dir="ltr" id="toc148"><span class="SectionNumber">8.10.2 </span><a id="Toc224890146"></a><a id="Toc245388496"></a><a id="RefHeading54621790153948"></a>How ocpigen is used</h3>
    <p class="Body" dir="ltr">The makefile scripts included in the CDK normally run <span style="font-weight:bold">ocpigen</span> in the appropriate way with the appropriate options, but to run ocpigen as a command line tool separate from the CDK makefile scripts, the syntax is:</p>
    <p class="Standard" dir="ltr">ocpigen [options] owd.xml</p>
    <p class="Body" dir="ltr">The owd.xml file is the worker description XML file, which contains or refers to an OCS (OpenCPI Component Specification) file.  The options specify what output to produce as well as other options.  All options are single letter flags following a hyphen.  When options require a filename or other string, they follow as separate arguments, not directly following the flag “letter”.</p>
    <p class="Body" dir="ltr">The options that tell ocpigen what output to produce are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-d</span>	Produce the <span style="font-style:italic">instantiation header file</span> (the “defs” file), which will have the same name as the OWD with the suffix “_defs” followed by an appropriate file name extension for included files of the authoring model (e.g. “.h” for C code, “.vh” for verilog code etc.)</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-i</span>	Produce the <span style="font-style:italic">implementation header file</span> (the “impl” file), which will have the same name as the OWD with the suffix “_impl” followed by an appropriate file name extension for included files of the authoring model.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-s</span>	Produce the <span style="font-style:italic">implementation skeleton file</span> (the “skel” file), which will have the same name as the OWD with the suffix “_skel” followed by an appropriate file name extension for the source code of the authoring model.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-A</span>	Produce the runtime metadata (“artifact XML” file), which will have the same name as the OWD with the suffix “_art.xml”.  This file is not used by itselfdirectly but is attached to the runtime binary file that implements some workers.</p>
    <p class="Standard" dir="ltr">Any number of these options can be used together and all the requested files will be generated.  The other options which control ocpigen are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-D </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">outDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the directory where the generated files are placed, rather than in the current working directory where ocpigen is being run.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-I </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">includeDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Add a directory to search when finding XML files that are referenced from any XML input files (or files they reference).  This option is commonly used to specify the location of “spec” files when processing OWD files, since they typically do not (and should not) be absolute or relative pathnames.  This is similar to the same gcc option.</p>
    <p class="IndentHang" dir="ltr"> <span style="font-family:Courier,serif;font-weight:bold">-M </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">dependencyFile</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify a file to be produced for processing by “make” in which to put any dependencies discovered (via xi:include in XML files) or generated (when output files depend on input files).  Such files are then referenced from Makefiles (if the files exist – which they will not before the first run of make in that directory).</p>
    <p class="Standard" dir="ltr">Several options only apply when artifact XML files are generated:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-P </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">platform</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the platform name that the artifact is built for.  This is used at runtime to make sure the binary file is used on the appropriate platform.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-e </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">device</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the device (or “part”) name that the artifact is built for.  This is used at runtime to make sure the binary file is used on the appropriate device.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-D </span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">outDir</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the directory where the generated files are placed, rather than in the current working directory where ocpigen is being run.</p>
    <p class="Standard" dir="ltr">Finally, several options are special operations for the HDL authoring model.  These are:</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-l	</span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">libraryName</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify a library for VHDL or Verilog “defs” files that indicates where the entity declaration should be placed.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-c	</span><span style="font-family:Courier,serif;font-style:italic;font-weight:bold">containerDescriptionFile</span><span style="font-family:Courier,serif;font-weight:bold"><br /></span>Specify the name of an XML file that describes the (fixed) container interfaces when generating HDL artifact files.  I.e. this option is required when the “-A” options is used for HDL workers.  The contents of this file are defined in the [HDLAMR]. This is required when the –A option is used to generate the HDL artifact XML file.</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-b	</span>Generate a BSV (Bluespec System Verilog) declaration corresponding to an underlying Verilog worker.  This is used when integrating HDL workers written in Verilog into a container written in BSV.  The output filename will have a “I_” prefix and a “.bsv” file extension. [experimental].</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-w	</span>Generate a cross-language “wrapper” file for the “defs” file.  If the worker implementation language is Verilog, the wrapper file is VHDL and vice versa.[unimplemented]</p>
    <p class="IndentHang" dir="ltr"><span style="font-family:Courier,serif;font-weight:bold">-a	</span>Generate the “assembly” file, given an input XML file that specifies an HDLAssembly rather than an HDLImplementation.  Thus the input is not really a worker description (OWD), but rather a composition of workers that represent a static configuration inside an FPGA design.  The output is a Verilog file that instantiates the workers in the assembly, interconnects them (with required adaptations/tie-offset etc.), and creates the higher level “application” module that will be used to build a complete FPGA design bitstream.</p>
  </body>
</html>
